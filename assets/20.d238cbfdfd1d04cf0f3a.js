(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{l9SM:function(o,e,a){"use strict";a.r(e),a.d(e,"empresasGrupoNominasModule",function(){return io});var i=a("ofXK"),n=a("3Pt+"),t=a("HaJA"),r=a("tyNb"),c=a("fXoL"),l=a("9GDa"),d=a("04Ps"),s=a("For2"),b=a("t09X"),g=a("IhP3"),u=a("i9e2"),m=a("dkea");const p=["nombre"];function h(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function f(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.esquemaPagoId),c.zb(1),c.Kc("",o.descripcion," ")}}function I(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function S(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.centrocClienteId),c.zb(1),c.Jc(o.razonSocial)}}function v(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function T(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.clabe),c.zb(1),c.Jc(o.descripcion)}}function P(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function C(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.monedaId),c.zb(1),c.Jc(o.descripcion)}}function k(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function z(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.periodicidadPagoId),c.zb(1),c.Jc(o.descripcion)}}function O(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function y(o,e){if(1&o){const o=c.Ub();c.Tb(0,"div",5),c.Tb(1,"label",20),c.Ic(2,"Ajuste de ISR "),c.Tb(3,"input",31,32),c.ac("click",function(){c.yc(o);const e=c.vc(4);return c.ec().activar(e)}),c.Sb(),c.Ob(5,"span",22),c.Sb(),c.Sb()}}function w(o,e){1&o&&(c.Tb(0,"div",5),c.Tb(1,"label"),c.Ic(2,"Ajustar base gravable del mes de periodos ordinarios faltantes."),c.Sb(),c.Tb(3,"label",20),c.Ic(4,"S\xed "),c.Ob(5,"input",33),c.Ob(6,"span",24),c.Sb(),c.Tb(7,"label",20),c.Ic(8,"No "),c.Ob(9,"input",34),c.Ob(10,"span",24),c.Sb(),c.Sb())}function N(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.basePeriodoId),c.zb(1),c.Jc(o.nombreCorto)}}function x(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function M(o,e){if(1&o&&(c.Tb(0,"option",30),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.periodoAguinaldoId),c.zb(1),c.Jc(o.descripcion)}}function G(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}function A(o,e){1&o&&(c.Tb(0,"div",29),c.Ic(1," Campo requerido "),c.Sb())}const _=function(o){return{"is-invalid":o}};let q=(()=>{class o{constructor(o,e,a,i,n,t,r,c,l){this.formbuilder=o,this.activeprd=e,this.routerPrd=a,this.grupoNominaPrd=i,this.catalogosPrd=n,this.cuentasBancariasPrd=t,this.companiaPrd=r,this.usuariosSistemaPrd=c,this.modalPrd=l,this.submitInvalido=!1,this.esInsert=!1,this.id_empresa=0,this.activadoISR=!1,this.arregloEsquemaPago=[],this.arregloCuentasBancarias=[],this.arregloMonedas=[],this.arreglocompany=[],this.arregloPeriocidadPago=[],this.arregloBasePeriodos=[],this.arregloCatPeriodosAguinaldo=[]}ngOnInit(){this.activeprd.params.subscribe(o=>{this.id_empresa=o.id,"nuevo"==o.tipoinsert?this.esInsert=!0:"editar"==o.tipoinsert?this.esInsert=!1:this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"gruposnomina"]),this.cuentasBancariasPrd.getAllByEmpresa(this.id_empresa).subscribe(o=>this.arregloCuentasBancarias=o.datos),this.companiaPrd.getAllEmp(this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>this.arreglocompany=o.datos)});let o={esquemaPagoId:{},monedaId:{},centrocClienteId:{},clabe:{},periodicidadPagoId:{},basePeriodoId:{},periodoAguinaldoId:{}};if(this.myForm=this.crearForm(o),!this.esInsert){if(o=history.state.data,null==o)return void this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"gruposnomina"]);this.grupoNominaPrd.getGroupNomina(o.id).subscribe(o=>{this.myForm=this.crearForm(o.datos)})}this.catalogosPrd.getEsquemaPago().subscribe(o=>this.arregloEsquemaPago=o.datos),this.catalogosPrd.getMonedas().subscribe(o=>this.arregloMonedas=o.datos),this.catalogosPrd.getPeriocidadPago().subscribe(o=>this.arregloPeriocidadPago=o.datos),this.catalogosPrd.getBasePeriodos().subscribe(o=>this.arregloBasePeriodos=o.datos),this.catalogosPrd.getCatPeriodoAguinaldo().subscribe(o=>this.arregloCatPeriodosAguinaldo=o.datos)}ngAfterViewInit(){this.nombre.nativeElement.focus()}crearForm(o){var e;return this.esInsert?o.centrocClienteId.centrocClienteId=this.id_empresa:(console.log("Este es el obj",o),o.maneraCalcularSubsidio="P"==o.maneraCalcularSubsidio?"periodica":"diaria"),this.formbuilder.group({nombre:[o.nombre,[n.w.required]],esquemaPagoId:[o.esquemaPagoId.esquemaPagoId,[n.w.required]],monedaId:[o.monedaId.monedaId,[n.w.required]],centrocClienteId:[o.centrocClienteId.centrocClienteId,[n.w.required]],clabe:[null===(e=o.clabe)||void 0===e?void 0:e.clabe,[n.w.required]],periodicidadPagoId:[o.periodicidadPagoId.periodicidadPagoId,[n.w.required]],basePeriodoId:[o.basePeriodoId.basePeriodoId,[n.w.required]],periodoAguinaldoId:[o.periodoAguinaldoId.periodoAguinaldoId,[n.w.required]],isrAguinaldoReglamento:o.isrAguinaldoReglamento,maneraCalcularSubsidio:[o.maneraCalcularSubsidio,[n.w.required]],grupoNominaId:o.grupoNominaId})}enviarPeticion(){this.myForm.valid?this.modalPrd.showMessageDialog(this.modalPrd.warning,this.esInsert?"\xbfDeseas registrar un grupo de n\xf3mina?":"\xbfDeseas actualizar los datos del grupo de n\xf3mina?").then(o=>{if(o){let o=this.myForm.value,e={nombre:o.nombre,esAutomatica:o.esAutomatica,maneraCalcularSubsidio:"periodica"==o.maneraCalcularSubsidio?"P":"D",esquemaPagoId:{esquemaPagoId:o.esquemaPagoId},monedaId:{monedaId:o.monedaId},centrocClienteId:{centrocClienteId:this.id_empresa},clabe:{clabe:o.clabe},periodicidadPagoId:{periodicidadPagoId:o.periodicidadPagoId},basePeriodoId:{basePeriodoId:o.basePeriodoId},periodoAguinaldoId:{periodoAguinaldoId:o.periodoAguinaldoId},isrAguinaldoReglamento:o.isrAguinaldoReglamento};this.esInsert?this.grupoNominaPrd.save(e).subscribe(o=>{this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{o.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"gruposnomina"])})}):(e.grupoNominaId=o.grupoNominaId,this.grupoNominaPrd.modificar(e).subscribe(o=>{this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{o.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"gruposnomina"])})}))}}):this.modalPrd.showMessageDialog(this.modalPrd.error)}cancelar(){this.routerPrd.navigate(["/empresa/detalle",this.id_empresa,"gruposnomina"])}get f(){return this.myForm.controls}activar(o){this.activadoISR=o.checked}}return o.\u0275fac=function(e){return new(e||o)(c.Nb(n.c),c.Nb(r.a),c.Nb(r.e),c.Nb(l.a),c.Nb(d.a),c.Nb(s.a),c.Nb(b.a),c.Nb(g.a),c.Nb(u.a))},o.\u0275cmp=c.Hb({type:o,selectors:[["app-detallegruponomina"]],viewQuery:function(o,e){if(1&o&&c.Oc(p,!0),2&o){let o;c.uc(o=c.bc())&&(e.nombre=o.first)}},decls:84,vars:50,consts:[[1,"form-desing",3,"formGroup","ngSubmit"],["type","hidden","formControlName","grupoNominaId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar",3,"pixeles"],[1,"form-group","row","margen"],[1,"titulo"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6"],["formControlName","nombre","type","text","placeholder","",1,"form-control",3,"ngClass"],["nombre",""],["class","invalid-feedback",4,"ngIf"],["formControlName","esquemaPagoId",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","centrocClienteId",1,"form-control","disabled",3,"ngClass"],["formControlName","clabe",1,"form-control",3,"ngClass"],["formControlName","monedaId",1,"form-control",3,"ngClass"],["formControlName","periodicidadPagoId",1,"form-control",3,"ngClass"],["periodopago",""],["class","input-group-sm mb-3 col-12 col-sm-6 col-lg-6",4,"ngIf"],["class","input-group-sm mb-3 col-12 col-sm-6 col-lg-6 ",4,"ngIf"],["formControlName","basePeriodoId",1,"form-control",3,"ngClass"],["formControlName","periodoAguinaldoId",1,"form-control",3,"ngClass"],[1,"contenedorInputCheckRadio"],["formControlName","isrAguinaldoReglamento","id","irsaguinaldo","type","checkbox"],[1,"checkmark"],["name","maneraCalcularSubsidio","formControlName","maneraCalcularSubsidio","type","radio","value","periodica",3,"ngClass"],[1,"radiomark"],["name","maneraCalcularSubsidio","formControlName","maneraCalcularSubsidio","type","radio","value","diaria",3,"ngClass"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"],[3,"value"],["type","checkbox","name","","id","ajusteirs",3,"click"],["ajusteisr",""],["checked","","type","radio","name","grupo1","id","sibasegravable"],["type","radio","name","grupo1","id","sibasegravable"]],template:function(o,e){if(1&o&&(c.Ob(0,"br"),c.Ob(1,"hr"),c.Tb(2,"form",0),c.ac("ngSubmit",function(){return e.enviarPeticion()}),c.Ob(3,"input",1),c.Tb(4,"div",2),c.Ob(5,"br"),c.Tb(6,"div",3),c.Tb(7,"label",4),c.Ic(8,"INFORMACI\xd3N DE GRUPOS DE N\xd3MINA"),c.Sb(),c.Sb(),c.Tb(9,"div",3),c.Tb(10,"div",5),c.Tb(11,"label"),c.Ic(12,"Nombre de grupo de n\xf3mina *"),c.Sb(),c.Ob(13,"input",6,7),c.Gc(15,h,2,0,"div",8),c.Sb(),c.Tb(16,"div",5),c.Tb(17,"label"),c.Ic(18,"Esquema para pago de n\xf3mina *"),c.Sb(),c.Tb(19,"select",9),c.Gc(20,f,2,2,"option",10),c.Sb(),c.Gc(21,I,2,0,"div",8),c.Sb(),c.Tb(22,"div",5),c.Tb(23,"label"),c.Ic(24,"Raz\xf3n social *"),c.Sb(),c.Tb(25,"select",11),c.Gc(26,S,2,2,"option",10),c.Sb(),c.Gc(27,v,2,0,"div",8),c.Sb(),c.Tb(28,"div",5),c.Tb(29,"label"),c.Ic(30,"Cuenta bancaria *"),c.Sb(),c.Tb(31,"select",12),c.Gc(32,T,2,2,"option",10),c.Sb(),c.Gc(33,P,2,0,"div",8),c.Sb(),c.Tb(34,"div",5),c.Tb(35,"label"),c.Ic(36,"Moneda *"),c.Sb(),c.Tb(37,"select",13),c.Gc(38,C,2,2,"option",10),c.Sb(),c.Gc(39,k,2,0,"div",8),c.Sb(),c.Tb(40,"div",5),c.Tb(41,"label"),c.Ic(42,"Periodo de n\xf3mina *"),c.Sb(),c.Tb(43,"select",14,15),c.Gc(45,z,2,2,"option",10),c.Sb(),c.Gc(46,O,2,0,"div",8),c.Sb(),c.Gc(47,y,6,0,"div",16),c.Gc(48,w,11,0,"div",17),c.Tb(49,"div",5),c.Tb(50,"label"),c.Ic(51,"Calcular periodo de n\xf3mina con base a *"),c.Sb(),c.Tb(52,"select",18),c.Gc(53,N,2,2,"option",10),c.Sb(),c.Gc(54,x,2,0,"div",8),c.Sb(),c.Tb(55,"div",5),c.Tb(56,"label"),c.Ic(57,"Periodo para pago de aguinaldo *"),c.Sb(),c.Tb(58,"select",19),c.Gc(59,M,2,2,"option",10),c.Sb(),c.Gc(60,G,2,0,"div",8),c.Sb(),c.Tb(61,"div",5),c.Tb(62,"label",20),c.Ic(63,"Calcular ISR de aguinaldo aplicando reglamento "),c.Ob(64,"input",21),c.Ob(65,"span",22),c.Sb(),c.Sb(),c.Tb(66,"div",5),c.Tb(67,"label"),c.Ic(68,"Calcular subsidio al empleo de manera :"),c.Sb(),c.Ob(69,"br"),c.Tb(70,"label",20),c.Ic(71,"Calcular ISR de aguinaldo aplicando reglamento "),c.Ob(72,"input",23),c.Ob(73,"span",24),c.Sb(),c.Tb(74,"label",20),c.Ic(75,"Calcular ISR de aguinaldo aplicando reglamento "),c.Ob(76,"input",25),c.Ob(77,"span",24),c.Sb(),c.Gc(78,A,2,0,"div",8),c.Sb(),c.Sb(),c.Sb(),c.Tb(79,"div",26),c.Tb(80,"button",27),c.ac("click",function(){return e.cancelar()}),c.Ic(81,"Cancelar"),c.Sb(),c.Tb(82,"button",28),c.Ic(83,"Guardar"),c.Sb(),c.Sb(),c.Sb()),2&o){const o=c.vc(44);c.zb(2),c.kc("formGroup",e.myForm),c.zb(2),c.kc("pixeles",340),c.zb(9),c.kc("ngClass",c.oc(30,_,e.f.nombre.errors&&e.submitInvalido)),c.zb(2),c.kc("ngIf",e.submitInvalido&&e.f.nombre.errors),c.zb(4),c.kc("ngClass",c.oc(32,_,e.f.esquemaPagoId.errors&&e.submitInvalido)),c.zb(1),c.kc("ngForOf",e.arregloEsquemaPago),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.esquemaPagoId.errors),c.zb(4),c.kc("ngClass",c.oc(34,_,e.f.centrocClienteId.errors&&e.submitInvalido)),c.zb(1),c.kc("ngForOf",e.arreglocompany),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.centrocClienteId.errors),c.zb(4),c.kc("ngClass",c.oc(36,_,e.f.clabe.errors&&e.submitInvalido)),c.zb(1),c.kc("ngForOf",e.arregloCuentasBancarias),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.clabe.errors),c.zb(4),c.kc("ngClass",c.oc(38,_,e.f.monedaId.errors&&e.submitInvalido)),c.zb(1),c.kc("ngForOf",e.arregloMonedas),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.monedaId.errors),c.zb(4),c.kc("ngClass",c.oc(40,_,e.f.periodicidadPagoId.errors&&e.submitInvalido)),c.zb(2),c.kc("ngForOf",e.arregloPeriocidadPago),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.periodicidadPagoId.errors),c.zb(1),c.kc("ngIf","04"==o.value),c.zb(1),c.kc("ngIf",e.activadoISR),c.zb(4),c.kc("ngClass",c.oc(42,_,e.f.basePeriodoId.errors&&e.submitInvalido)),c.zb(1),c.kc("ngForOf",e.arregloBasePeriodos),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.basePeriodoId.errors),c.zb(4),c.kc("ngClass",c.oc(44,_,e.f.periodoAguinaldoId.errors&&e.submitInvalido)),c.zb(1),c.kc("ngForOf",e.arregloCatPeriodosAguinaldo),c.zb(1),c.kc("ngIf",e.submitInvalido&&e.f.periodoAguinaldoId.errors),c.zb(12),c.kc("ngClass",c.oc(46,_,e.f.maneraCalcularSubsidio.errors&&e.submitInvalido)),c.zb(4),c.kc("ngClass",c.oc(48,_,e.f.maneraCalcularSubsidio.errors&&e.submitInvalido)),c.zb(2),c.kc("ngIf",e.submitInvalido&&e.f.maneraCalcularSubsidio.errors)}},directives:[n.y,n.m,n.f,n.b,n.l,n.e,m.a,i.k,i.m,n.v,i.l,n.a,n.s,n.p,n.x],styles:[""]}),o})();function F(o,e){1&o&&c.Ob(0,"i",34)}function R(o,e){1&o&&c.Ob(0,"i",35)}function D(o,e){if(1&o){const o=c.Ub();c.Tb(0,"button",30),c.ac("click",function(){c.yc(o);const e=c.ec();return e.changeIconDown=!e.changeIconDown}),c.Tb(1,"label",31),c.Ic(2,"GRUPOS DE N\xd3MINA"),c.Sb(),c.Gc(3,F,1,0,"i",32),c.Gc(4,R,1,0,"i",33),c.Sb()}if(2&o){const o=c.ec();c.zb(3),c.kc("ngIf",o.changeIconDown),c.zb(1),c.kc("ngIf",!o.changeIconDown)}}function E(o,e){1&o&&(c.Tb(0,"button",36),c.Tb(1,"label",37),c.Ic(2,"GRUPOS DE N\xd3MINA"),c.Sb(),c.Sb())}function J(o,e){if(1&o&&(c.Tb(0,"option",38),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.centrocClienteId),c.zb(1),c.Jc(o.razonSocial)}}function B(o,e){if(1&o&&(c.Tb(0,"option",38),c.Ic(1),c.Sb()),2&o){const o=e.$implicit;c.kc("value",o.periodicidadPagoId),c.zb(1),c.Jc(o.descripcion)}}function $(o,e){1&o&&(c.Tb(0,"div",50),c.Ob(1,"img",51),c.Sb())}function j(o,e){if(1&o&&(c.Tb(0,"tr"),c.Tb(1,"td"),c.Ic(2),c.Sb(),c.Tb(3,"td"),c.Ic(4),c.Sb(),c.Tb(5,"td"),c.Ic(6),c.Sb(),c.Sb()),2&o){const o=e.$implicit;c.zb(2),c.Mc("",o.personaId.nombre," ",o.personaId.apellidoPaterno," ",o.personaId.apellidoMaterno,""),c.zb(2),c.Jc(o.numEmpleado),c.zb(2),c.Jc(o.centrocClienteId.razonSocial)}}function K(o,e){if(1&o&&(c.Tb(0,"div"),c.Tb(1,"table",52),c.Tb(2,"thead"),c.Tb(3,"tr"),c.Tb(4,"th",53),c.Ic(5,"Nombre de empleado"),c.Sb(),c.Tb(6,"th",53),c.Ic(7,"N\xfamero de empleado"),c.Sb(),c.Tb(8,"th",53),c.Ic(9,"Empresa"),c.Sb(),c.Sb(),c.Sb(),c.Tb(10,"tbody"),c.Gc(11,j,7,5,"tr",54),c.Sb(),c.Sb(),c.Sb()),2&o){const o=c.ec(2);c.zb(11),c.kc("ngForOf",o.arreglodetalle)}}function U(o,e){if(1&o){const o=c.Ub();c.Tb(0,"div",39),c.Tb(1,"div",40),c.Tb(2,"button",41),c.ac("click",function(){return c.yc(o),c.ec().aparecemodalito=!1}),c.Tb(3,"span",42),c.Ic(4,"\xd7"),c.Sb(),c.Sb(),c.Tb(5,"div",43),c.Tb(6,"h5",37),c.Ic(7,"GRUPO DE N\xd3MINA"),c.Sb(),c.Sb(),c.Ob(8,"hr"),c.Tb(9,"div",44),c.Gc(10,$,2,0,"div",29),c.Gc(11,K,12,1,"div",45),c.Sb(),c.Ob(12,"hr"),c.Tb(13,"div",46),c.Tb(14,"div",47),c.Tb(15,"div",48),c.Tb(16,"button",49),c.ac("click",function(){return c.yc(o),c.ec().aparecemodalito=!1}),c.Ic(17,"Cerrar"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()}if(2&o){const o=c.ec();c.Dc("top",o.scrolly)("width",o.modalWidth),c.zb(10),c.kc("ngIf",o.cargandodetallegrupo),c.zb(1),c.kc("ngIf",!o.cargandodetallegrupo)}}function W(o,e){1&o&&c.Ob(0,"i",65)}function L(o,e){1&o&&c.Ob(0,"i",66)}function H(o,e){1&o&&(c.Tb(0,"tr",67),c.Tb(1,"td",68),c.Tb(2,"div",50),c.Ob(3,"img",51),c.Sb(),c.Sb(),c.Sb())}function V(o,e){if(1&o&&(c.Tb(0,"tr",67),c.Tb(1,"td",68),c.Tb(2,"div",69),c.Tb(3,"article",70),c.Ic(4," Nombre de grupo de nomina "),c.Tb(5,"article"),c.Ic(6),c.Sb(),c.Sb(),c.Tb(7,"article",70),c.Ic(8," Esquema para pago de n\xf3mina "),c.Tb(9,"article"),c.Ic(10),c.Sb(),c.Sb(),c.Tb(11,"article",70),c.Ic(12," Raz\xf3n social "),c.Tb(13,"article"),c.Ic(14),c.Sb(),c.Sb(),c.Sb(),c.Tb(15,"div",69),c.Tb(16,"article",70),c.Ic(17," Moneda "),c.Tb(18,"article"),c.Ic(19),c.Sb(),c.Sb(),c.Tb(20,"article",70),c.Ic(21," Periodo de n\xf3mina "),c.Tb(22,"article"),c.Ic(23),c.Sb(),c.Sb(),c.Tb(24,"article",70),c.Ic(25," Calcular periodo de n\xf3mina con base a: "),c.Tb(26,"article"),c.Ic(27),c.Sb(),c.Sb(),c.Sb(),c.Tb(28,"div",69),c.Tb(29,"article",70),c.Ic(30," Periodo para pago de aguinaldo "),c.Tb(31,"article"),c.Ic(32),c.Sb(),c.Sb(),c.Tb(33,"article",70),c.Ic(34," Calcular ISR de aguinaldo aplicando reglamento: "),c.Tb(35,"article"),c.Ic(36),c.Sb(),c.Sb(),c.Tb(37,"article",70),c.Ic(38," *Calcular subsidio al empleo de manera: "),c.Tb(39,"article"),c.Ic(40),c.Sb(),c.Sb(),c.Sb(),c.Tb(41,"div",69),c.Tb(42,"article",70),c.Ic(43," N\xf3mina autom\xe1tica "),c.Tb(44,"article"),c.Ic(45),c.Sb(),c.Sb(),c.Tb(46,"article",70),c.Ic(47," N\xfamero de empleados asociados a este grupo: "),c.Tb(48,"article"),c.Ic(49),c.Sb(),c.Sb(),c.Ob(50,"article",70),c.Sb(),c.Sb(),c.Sb()),2&o){const o=c.ec().$implicit;c.zb(6),c.Jc(o.nombre),c.zb(4),c.Jc(o.esquemaPagoId.descripcion),c.zb(4),c.Jc(o.razon),c.zb(5),c.Jc(o.monedaId.descripcion),c.zb(4),c.Jc(o.periodo),c.zb(4),c.Jc(o.basePeriodoId.basePeriodoId),c.zb(5),c.Jc(o.periodoAguinaldoId.descripcion),c.zb(4),c.Jc(o.isrAguinaldoReglamento?"Si":"No"),c.zb(4),c.Jc("P"==o.maneraCalcularSubsidio?"Peri\xf3dica":"Diaria"),c.zb(5),c.Jc(o.esAutomatica?"Si":"No"),c.zb(4),c.Jc(o.numero)}}function X(o,e){if(1&o){const o=c.Ub();c.Rb(0),c.Tb(1,"tr"),c.Tb(2,"td"),c.Ic(3),c.Sb(),c.Tb(4,"td"),c.Ic(5),c.Sb(),c.Tb(6,"td"),c.Ic(7),c.Sb(),c.Tb(8,"td",57),c.ac("click",function(){c.yc(o);const a=e.index;return c.ec(2).traerModal(a)}),c.Ic(9),c.Sb(),c.Tb(10,"td",58),c.Tb(11,"button",59),c.ac("click",function(){c.yc(o);const a=e.$implicit;return c.ec(2).verdetalle(a)}),c.Ob(12,"i",60),c.Sb(),c.Tb(13,"button",59),c.ac("click",function(){c.yc(o);const a=e.index;return c.ec(2).eliminar(a)}),c.Ob(14,"i",61),c.Sb(),c.Tb(15,"button",59),c.ac("click",function(){c.yc(o);const a=e.index;return c.ec(2).apagando(a)}),c.Gc(16,W,1,0,"i",62),c.Gc(17,L,1,0,"i",63),c.Sb(),c.Sb(),c.Sb(),c.Gc(18,H,4,0,"tr",64),c.Gc(19,V,51,11,"tr",64),c.Qb()}if(2&o){const o=e.$implicit;c.zb(3),c.Kc("",o.nombre," "),c.zb(2),c.Kc("",o.razon," "),c.zb(2),c.Kc("",o.periodo," "),c.zb(2),c.Kc("",o.numero," "),c.zb(7),c.kc("ngIf",!o.seleccionado),c.zb(1),c.kc("ngIf",o.seleccionado),c.zb(1),c.kc("ngIf",o.seleccionado&&o.cargandoDetalle),c.zb(1),c.kc("ngIf",o.seleccionado&&!o.cargandoDetalle)}}function Q(o,e){if(1&o&&(c.Tb(0,"table",55),c.Tb(1,"thead"),c.Tb(2,"tr"),c.Tb(3,"th",53),c.Ic(4,"Nombre de grupo de n\xf3mina"),c.Sb(),c.Tb(5,"th",53),c.Ic(6,"Raz\xf3n social"),c.Sb(),c.Tb(7,"th",53),c.Ic(8,"Per\xedodo de n\xf3mina"),c.Sb(),c.Tb(9,"th",53),c.Ic(10,"N\xfamero de empleados"),c.Sb(),c.Tb(11,"th",56),c.Ic(12,"Opciones"),c.Sb(),c.Sb(),c.Sb(),c.Tb(13,"tbody"),c.Gc(14,X,20,8,"ng-container",54),c.Sb(),c.Sb()),2&o){const o=c.ec();c.zb(14),c.kc("ngForOf",o.arreglo)}}function Y(o,e){1&o&&(c.Tb(0,"div",71),c.Tb(1,"strong"),c.Ic(2,"En este momento no existen registros"),c.Sb(),c.Sb())}function Z(o,e){1&o&&(c.Tb(0,"div",50),c.Ob(1,"img",51),c.Sb())}const oo=function(o){return{show:o}},eo=[{path:"",children:[{path:"gruposnomina",component:(()=>{class o{constructor(o,e,a,i,n,t,r){this.gruposnominaPrd=o,this.routerPrd=e,this.routerActive=a,this.catalogosPrd=i,this.empresasPrd=n,this.usuariosSistemaPrd=t,this.modalPrd=r,this.tamanio=0,this.changeIconDown=!1,this.nombre="",this.razonsocial=-1,this.periodonomina="",this.cargando=!1,this.id_empresa=-1,this.aparecemodalito=!1,this.scrolly="5%",this.modalWidth="55%",this.cargandodetallegrupo=!1,this.indexSeleccionado=0,this.arreglo=[],this.arreglodetalle=[],this.arregloperiodo=[],this.arregloRazonSocial=[]}onResize(o){this.tamanio=o.target.innerWidth,this.modalWidth=this.tamanio<600?"90%":"55%"}ngOnInit(){let o=document.defaultView;this.tamanio=o.innerWidth,this.routerActive.params.subscribe(o=>{this.id_empresa=o.id,this.cargando=!0,this.gruposnominaPrd.getAll(this.id_empresa).subscribe(o=>{if(null!=o.datos)for(let e of o.datos)e.seleccionado=!1,e.cargandoDetalle=!1;this.arreglo=o.datos,this.cargando=!1}),this.catalogosPrd.getPeriocidadPago().subscribe(o=>this.arregloperiodo=o.datos),this.empresasPrd.getAllEmp(this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>this.arregloRazonSocial=o.datos),this.razonsocial=this.id_empresa})}filtrar(){let o={nombre:this.nombre,centrocClienteId:{centrocClienteId:this.razonsocial},periodicidadPagoId:{periodicidadPagoId:this.periodonomina}};this.cargando=!0,this.gruposnominaPrd.filtrar(o).subscribe(o=>{if(this.cargando=!1,null!=o.datos)for(let e of o.datos)e.seleccionado=!1,e.cargandoDetalle=!1;this.arreglo=o.datos,this.cargando=!1})}eliminar(o){this.indexSeleccionado=o,this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas eliminar el grupo de n\xf3mina?").then(o=>{o&&this.gruposnominaPrd.eliminar(this.arreglo[this.indexSeleccionado].id).subscribe(o=>{this.modalPrd.showMessageDialog(o.resultado,o.mensaje),o.resultado&&this.arreglo.splice(this.indexSeleccionado,1)})})}verdetalle(o){null==o?this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"gruposnomina","nuevo"]):this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"gruposnomina","editar"],{state:{data:o}})}apagando(o){this.arreglo[o].cargandoDetalle=!0,this.gruposnominaPrd.getGroupNomina(this.arreglo[o].id).subscribe(e=>{let a=e.datos;if(null!=a)for(let i in a)this.arreglo[o][i]=a[i];console.log(this.arreglo[o]),this.arreglo[o].cargandoDetalle=!1});for(let e=0;e<this.arreglo.length;e++)e!=o&&(this.arreglo[e].seleccionado=!1);this.arreglo[o].seleccionado=!this.arreglo[o].seleccionado}traerModal(o){let e=document.getElementById("vetanaprincipaltabla");if(this.aparecemodalito=!0,e.getBoundingClientRect().y<-40){let o=e.getBoundingClientRect().y;o=Math.abs(o),this.scrolly=o+100+"px"}else this.scrolly="5%";this.modalWidth=this.tamanio<600?"90%":"55%";let a=this.arreglo[o];this.cargandodetallegrupo=!0,this.gruposnominaPrd.getGroupNominaEmpleado(a.id).subscribe(o=>{this.cargandodetallegrupo=!1,this.arreglodetalle=null==o.datos?[]:o.datos,console.log(o)})}}return o.\u0275fac=function(e){return new(e||o)(c.Nb(l.a),c.Nb(r.e),c.Nb(r.a),c.Nb(d.a),c.Nb(b.a),c.Nb(g.a),c.Nb(u.a))},o.\u0275cmp=c.Hb({type:o,selectors:[["app-listagruposnominas"]],hostBindings:function(o,e){1&o&&c.ac("resize",function(o){return e.onResize(o)},!1,c.xc)},decls:40,vars:14,consts:[[1,"scrooll-designempresa"],[1,"col-11","col-lg-11"],["id","accordionFiltro"],["id","accordion"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["style","width: 100%;","class","btn btn-link aparece-movil","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",3,"click",4,"ngIf"],["class","btn btn-link aparece-desktop-inline-block",4,"ngIf"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse",2,"margin","-36px",3,"ngClass"],[1,"card-body"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4","col-xl-3"],["type","text","placeholder","Nombre grupo de n\xf3mina",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","","checked",""],[1,"input-group-sm","mb-3","text-center","col-12","col-sm-2"],["type","button",1,"btn","btn-primary","button-outlet",3,"click"],[1,"col-10"],["class","ventanaemergente",3,"top","width",4,"ngIf"],[1,"row",2,"margin","10px"],[1,"col-12","col-lg-12","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],["id","vetanaprincipaltabla",1,"row","margen","margen-tabla","background-panel","scrooll",2,"position","relative"],["class","table table-hover table-sm",4,"ngIf"],["class","alert  col text-center",4,"ngIf"],["class","col text-center mb-5",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","aparece-movil",2,"width","100%",3,"click"],[1,"titulo",2,"width","80%","float","left","text-align","left"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-up ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-down ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up",2,"width","10%","float","right","color","#00C1AF"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down",2,"width","10%","float","right","color","#00C1AF"],[1,"btn","btn-link","aparece-desktop-inline-block"],[1,"titulo"],[3,"value"],[1,"ventanaemergente"],[1,"adentro"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","btnclosemodal",3,"click"],["aria-hidden","true"],[1,"header"],[1,"body"],[4,"ngIf"],[1,"footer"],[1,"row"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading",3,"click"],[1,"col","text-center","mb-5"],["width","60px","height","60px","src","assets/imgs/loading_nomina.gif","alt",""],[1,"table","m-3","table-hober","table-sm",2,"width","90%"],["scope","col"],[4,"ngFor","ngForOf"],[1,"table","table-hover","table-sm"],["scope","col "],[2,"color","#00DED4",3,"click"],[1,"opciones"],[3,"click"],[1,"icon_editar","primary-bg"],[1,"icon_eliminar","danger-bg"],["class","fas fa-chevron-down primary","style","font-size: 14px;\n                margin: 9px;",4,"ngIf"],["class","fas fa-chevron-up primary","style","font-size: 14px;\n                margin: 9px;",4,"ngIf"],["class","slide-in-bck-center",4,"ngIf"],[1,"fas","fa-chevron-down","primary",2,"font-size","14px","margin","9px"],[1,"fas","fa-chevron-up","primary",2,"font-size","14px","margin","9px"],[1,"slide-in-bck-center"],["colspan","5"],[1,"row","mb-4"],[1,"titulo","col"],[1,"alert","col","text-center"]],template:function(o,e){1&o&&(c.Tb(0,"div",0),c.Ob(1,"br"),c.Ob(2,"br"),c.Tb(3,"div",1),c.Tb(4,"div",2),c.Tb(5,"div",3),c.Tb(6,"div",4),c.Tb(7,"div",5),c.Tb(8,"h5",6),c.Gc(9,D,5,2,"button",7),c.Gc(10,E,3,0,"button",8),c.Sb(),c.Sb(),c.Tb(11,"div",9),c.Tb(12,"div",10),c.Tb(13,"div",11),c.Tb(14,"div",12),c.Tb(15,"input",13),c.ac("ngModelChange",function(o){return e.nombre=o}),c.Sb(),c.Sb(),c.Tb(16,"div",12),c.Tb(17,"select",14),c.ac("ngModelChange",function(o){return e.razonsocial=o}),c.Tb(18,"option",15),c.Ic(19,"Raz\xf3n social"),c.Sb(),c.Gc(20,J,2,2,"option",16),c.Sb(),c.Sb(),c.Tb(21,"div",12),c.Tb(22,"select",14),c.ac("ngModelChange",function(o){return e.periodonomina=o}),c.Tb(23,"option",17),c.Ic(24,"Per\xedodo de n\xf3mina"),c.Sb(),c.Gc(25,B,2,2,"option",16),c.Sb(),c.Sb(),c.Tb(26,"div",18),c.Tb(27,"button",19),c.ac("click",function(){return e.filtrar()}),c.Ic(28,"FILTRAR"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(29,"div",20),c.Gc(30,U,18,6,"div",21),c.Sb(),c.Tb(31,"div",22),c.Tb(32,"div",23),c.Tb(33,"button",24),c.ac("click",function(){return e.verdetalle(void 0)}),c.Ob(34,"i",25),c.Ic(35," Agregar grupo de n\xf3mina "),c.Sb(),c.Sb(),c.Sb(),c.Tb(36,"div",26),c.Gc(37,Q,15,1,"table",27),c.Gc(38,Y,3,0,"div",28),c.Gc(39,Z,2,0,"div",29),c.Sb(),c.Sb()),2&o&&(c.zb(9),c.kc("ngIf",e.tamanio<600),c.zb(1),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngClass",c.oc(12,oo,e.tamanio>600)),c.zb(4),c.kc("ngModel",e.nombre),c.zb(2),c.kc("ngModel",e.razonsocial),c.zb(3),c.kc("ngForOf",e.arregloRazonSocial),c.zb(2),c.kc("ngModel",e.periodonomina),c.zb(3),c.kc("ngForOf",e.arregloperiodo),c.zb(5),c.kc("ngIf",e.aparecemodalito),c.zb(7),c.kc("ngIf",!e.cargando&&void 0!==e.arreglo),c.zb(1),c.kc("ngIf",!e.cargando&&void 0===e.arreglo),c.zb(1),c.kc("ngIf",e.cargando))},directives:[i.m,i.k,n.b,n.l,n.o,n.v,n.p,n.x,i.l],styles:[".button-outlet[_ngcontent-%COMP%]{background-color:initial!important}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}.contenedorDiv[_ngcontent-%COMP%]   .consulta[_ngcontent-%COMP%]{width:100%;height:auto;left:0}.ventanaemergente[_ngcontent-%COMP%]{z-index:1;display:block;overflow:auto;padding:4%;width:50%;border-radius:5px;border:1px solid #666;height:auto;background-color:#fff!important;box-shadow:5px 2px 5px 1px rgba(0,0,0,.42);left:5%;position:absolute}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]{top:0!important;position:absolute!important;right:11px!important}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#56dfd4;font-size:x-large}"]}),o})()},{path:"gruposnomina/:tipoinsert",component:q}]}];let ao=(()=>{class o{}return o.\u0275mod=c.Lb({type:o}),o.\u0275inj=c.Kb({factory:function(e){return new(e||o)},imports:[[r.i.forChild(eo)]]}),o})(),io=(()=>{class o{}return o.\u0275mod=c.Lb({type:o}),o.\u0275inj=c.Kb({factory:function(e){return new(e||o)},providers:[l.a],imports:[[i.c,n.g,n.u,ao,t.a]]}),o})()}}]);
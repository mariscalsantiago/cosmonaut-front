(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{ntSY:function(t,e,a){"use strict";a.r(e),a.d(e,"empresapoliticasModule",function(){return j});var i=a("3Pt+"),n=a("ofXK"),o=a("HaJA"),c=a("pKmL"),r=a("tyNb"),s=a("fXoL"),l=a("tk/3"),d=a("xIjt");let b=(()=>{class t{constructor(t){this.http=t,this.url="",this.url=d.a.politica}getAllPol(t){return this.http.get(`${this.url}/obtener/politica/idEmpresa/${t}`)}getTabBen(t,e){return this.http.get(`${this.url}/obtener/beneficio/idCliente/${t}?idCliente=${e}`)}getdetallePolitica(t,e){return this.http.get(`${this.url}/obtener/politica/empresa/${t}?idCliente=${e}`)}getdetalleBeneficio(t,e){return this.http.get(`${this.url}/obtener/beneficio/idCliente/${t}?idCliente=${e}`)}eliminar(t){const e={headers:new l.d({"Content-Type":"application/json"})};let a=JSON.stringify(t);return console.log("eliminar",a),this.http.post(this.url+"/eliminar",a,e)}save(t){const e={headers:new l.d({"Content-Type":"application/json"})};let a=JSON.stringify(t);return console.log(a),this.http.put(this.url+"/guardar",a,e)}modificar(t){const e={headers:new l.d({"Content-Type":"application/json"})};let a=JSON.stringify(t);return this.http.post(this.url+"/modificar",a,e)}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(l.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=a("i9e2");function g(t,e){1&t&&(s.Tb(0,"div",26),s.Ob(1,"img",27),s.Sb())}function p(t,e){if(1&t&&(s.Tb(0,"tr"),s.Tb(1,"td"),s.Ic(2),s.Sb(),s.Tb(3,"td"),s.Ic(4),s.Sb(),s.Tb(5,"td"),s.Ic(6),s.Sb(),s.Sb()),2&t){const t=e.$implicit;s.zb(2),s.Mc("",t.nombre," ",t.apellidoPat," ",t.apellidoMat,""),s.zb(2),s.Jc(t.numEmpleado),s.zb(2),s.Jc(t.puesto)}}function m(t,e){if(1&t&&(s.Tb(0,"div"),s.Tb(1,"table",28),s.Tb(2,"thead"),s.Tb(3,"tr"),s.Tb(4,"th",29),s.Ic(5,"Nombre de empleado"),s.Sb(),s.Tb(6,"th",29),s.Ic(7,"N\xfamero de empleado"),s.Sb(),s.Tb(8,"th",29),s.Ic(9,"Puesto"),s.Sb(),s.Sb(),s.Sb(),s.Tb(10,"tbody"),s.Gc(11,p,7,5,"tr",30),s.Sb(),s.Sb(),s.Sb()),2&t){const t=s.ec(2);s.zb(11),s.kc("ngForOf",t.arreglodetalleemp)}}function h(t,e){if(1&t){const t=s.Ub();s.Tb(0,"div",14),s.Tb(1,"div",15),s.Tb(2,"button",16),s.ac("click",function(){return s.yc(t),s.ec().aparecemodalitoempleado=!1}),s.Tb(3,"span",17),s.Ic(4,"\xd7"),s.Sb(),s.Sb(),s.Tb(5,"div",18),s.Tb(6,"h5",19),s.Ic(7,"ADMINISTRACI\xd3N DE POLIT\xcdCAS"),s.Sb(),s.Sb(),s.Ob(8,"hr"),s.Tb(9,"div",20),s.Gc(10,g,2,0,"div",13),s.Gc(11,m,12,1,"div",21),s.Sb(),s.Ob(12,"hr"),s.Tb(13,"div",22),s.Tb(14,"div",23),s.Tb(15,"div",24),s.Tb(16,"button",25),s.ac("click",function(){return s.yc(t),s.ec().aparecemodalitoempleado=!1}),s.Ic(17,"Cerrar"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=s.ec();s.Dc("top",t.scrolly)("width",t.modalWidth),s.zb(10),s.kc("ngIf",t.cargandodetallearea),s.zb(1),s.kc("ngIf",!t.cargandodetallearea)}}function f(t,e){1&t&&(s.Tb(0,"div",26),s.Ob(1,"img",27),s.Sb())}function S(t,e){if(1&t&&(s.Tb(0,"tr"),s.Tb(1,"td"),s.Ic(2),s.Sb(),s.Tb(3,"td"),s.Ic(4),s.Sb(),s.Tb(5,"td"),s.Ic(6),s.Sb(),s.Tb(7,"td"),s.Ic(8),s.Sb(),s.Sb()),2&t){const t=e.$implicit;s.zb(2),s.Jc(t.aniosAntiguedad),s.zb(2),s.Jc(t.diasAguinaldo),s.zb(2),s.Jc(t.diasVacaciones),s.zb(2),s.Jc(t.primaVacacional)}}function T(t,e){if(1&t&&(s.Tb(0,"div"),s.Tb(1,"table",28),s.Tb(2,"thead"),s.Tb(3,"tr"),s.Tb(4,"th",29),s.Ic(5,"A\xf1os de antiguedad"),s.Sb(),s.Tb(6,"th",29),s.Ic(7,"D\xedas de aguinaldo"),s.Sb(),s.Tb(8,"th",29),s.Ic(9,"D\xedas de vacaciones"),s.Sb(),s.Tb(10,"th",29),s.Ic(11,"Prima vacacional"),s.Sb(),s.Sb(),s.Sb(),s.Tb(12,"tbody"),s.Gc(13,S,9,4,"tr",30),s.Sb(),s.Sb(),s.Sb()),2&t){const t=s.ec(2);s.zb(13),s.kc("ngForOf",t.arreglodetalle)}}function v(t,e){if(1&t){const t=s.Ub();s.Tb(0,"div",14),s.Tb(1,"div",15),s.Tb(2,"button",16),s.ac("click",function(){return s.yc(t),s.ec().aparecemodalito=!1}),s.Tb(3,"span",17),s.Ic(4,"\xd7"),s.Sb(),s.Sb(),s.Tb(5,"div",18),s.Tb(6,"h5",19),s.Ic(7,"TABLA DE BENEFICIOS"),s.Sb(),s.Sb(),s.Ob(8,"hr"),s.Tb(9,"div",20),s.Gc(10,f,2,0,"div",13),s.Gc(11,T,14,1,"div",21),s.Sb(),s.Ob(12,"hr"),s.Tb(13,"div",22),s.Tb(14,"div",23),s.Tb(15,"div",24),s.Tb(16,"button",25),s.ac("click",function(){return s.yc(t),s.ec().aparecemodalito=!1}),s.Ic(17,"Cerrar"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=s.ec();s.Dc("top",t.scrolly)("width",t.modalWidth),s.zb(10),s.kc("ngIf",t.cargandodetallearea),s.zb(1),s.kc("ngIf",!t.cargandodetallearea)}}function I(t,e){1&t&&(s.Tb(0,"th",29),s.Ic(1,"N\xfamero de empleados"),s.Sb())}function P(t,e){if(1&t){const t=s.Ub();s.Tb(0,"td",43),s.ac("click",function(){s.yc(t);const e=s.ec().index;return s.ec(2).traerModalEmpleo(e)}),s.Ic(1),s.Sb()}if(2&t){const t=s.ec().$implicit;s.zb(1),s.Jc(t.count)}}function C(t,e){1&t&&s.Ob(0,"i",44)}function x(t,e){1&t&&s.Ob(0,"i",45)}function O(t,e){if(1&t&&(s.Tb(0,"tr",46),s.Tb(1,"td",47),s.Tb(2,"div",48),s.Tb(3,"article",49),s.Ic(4," D\xedas econ\xf3micos "),s.Tb(5,"article"),s.Ic(6),s.Sb(),s.Sb(),s.Tb(7,"article",49),s.Ic(8," Prima vacacional al aniversario "),s.Tb(9,"article"),s.Ic(10),s.Sb(),s.Sb(),s.Tb(11,"article",49),s.Ic(12," Se descuentan faltas "),s.Tb(13,"article"),s.Ic(14),s.Sb(),s.Sb(),s.Sb(),s.Tb(15,"div",48),s.Tb(16,"article",49),s.Ic(17," Se descuentan incapacidades "),s.Tb(18,"article"),s.Ic(19),s.Sb(),s.Sb(),s.Tb(20,"article",49),s.Ic(21," Costo vales de restaurante "),s.Tb(22,"article"),s.Ic(23),s.Sb(),s.Sb(),s.Tb(24,"article",49),s.Ic(25," Descuento proporci\xf3n s\xe9ptimo d\xeda "),s.Tb(26,"article"),s.Ic(27),s.Sb(),s.Sb(),s.Sb(),s.Tb(28,"div",48),s.Tb(29,"article",49),s.Ic(30," C\xe1lculos en base a : "),s.Tb(31,"article"),s.Ic(32),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t){const t=s.ec().$implicit;s.zb(6),s.Jc(t.diasEconomicos),s.zb(4),s.Jc(t.primaAniversario?"Si":"No"),s.zb(4),s.Jc(t.descuentaFaltas?"Si":"No"),s.zb(5),s.Jc(t.descuentaIncapacidades?"Si":"No"),s.zb(4),s.Jc(t.costoValesRestaurante?"Si":"No"),s.zb(4),s.Jc(t.descuentoPropDia?"Si":"No"),s.zb(5),s.Jc("C"==t.calculoAntiguedadx?"Fecha de inicio de contrato":"Fecha de antig\xfcedad")}}function y(t,e){if(1&t){const t=s.Ub();s.Rb(0),s.Tb(1,"tr"),s.Tb(2,"td"),s.Ic(3),s.Sb(),s.Gc(4,P,2,1,"td",33),s.Tb(5,"td"),s.Tb(6,"button",34),s.ac("click",function(){s.yc(t);const a=e.index;return s.ec(2).traerModal(a)}),s.Ob(7,"i",35),s.Sb(),s.Sb(),s.Tb(8,"td",36),s.Tb(9,"button",37),s.ac("click",function(){s.yc(t);const a=e.$implicit;return s.ec(2).verdetalle(a)}),s.Ob(10,"i",38),s.Sb(),s.Tb(11,"button",37),s.ac("click",function(){s.yc(t);const a=e.$implicit;return s.ec(2).eliminar(a)}),s.Ob(12,"i",39),s.Sb(),s.Tb(13,"button",37),s.ac("click",function(){s.yc(t);const a=e.index;return s.ec(2).apagando(a)}),s.Gc(14,C,1,0,"i",40),s.Gc(15,x,1,0,"i",41),s.Sb(),s.Sb(),s.Sb(),s.Gc(16,O,33,7,"tr",42),s.Qb()}if(2&t){const t=e.$implicit,a=s.ec(2);s.zb(3),s.Kc("",t.nombre," "),s.zb(1),s.kc("ngIf",a.tamanio>=600),s.zb(10),s.kc("ngIf",!t.seleccionado),s.zb(1),s.kc("ngIf",t.seleccionado),s.zb(1),s.kc("ngIf",t.seleccionado)}}function k(t,e){if(1&t&&(s.Tb(0,"table",31),s.Tb(1,"thead"),s.Tb(2,"tr"),s.Tb(3,"th",29),s.Ic(4,"Nombre de pol\xedtica"),s.Sb(),s.Gc(5,I,2,0,"th",32),s.Tb(6,"th",29),s.Ic(7,"Tabla de beneficios"),s.Sb(),s.Tb(8,"th",29),s.Ic(9,"Acciones"),s.Sb(),s.Sb(),s.Sb(),s.Tb(10,"tbody"),s.Gc(11,y,17,5,"ng-container",30),s.Sb(),s.Sb()),2&t){const t=s.ec();s.zb(5),s.kc("ngIf",t.tamanio>=600),s.zb(6),s.kc("ngForOf",t.arreglo)}}function A(t,e){1&t&&(s.Tb(0,"div",50),s.Tb(1,"strong"),s.Ic(2,"En este momento no existen registros"),s.Sb(),s.Sb())}function z(t,e){1&t&&(s.Tb(0,"div",26),s.Ob(1,"img",27),s.Sb())}let _=(()=>{class t{constructor(t,e,a,i){this.routerPrd=t,this.politicasProd=e,this.CanRouterPrd=a,this.modalPrd=i,this.tamanio=0,this.cargando=!1,this.id_empresa=0,this.changeIconDown=!1,this.aparecemodalito=!1,this.aparecemodalitoempleado=!1,this.scrolly="5%",this.modalWidth="55%",this.cargandodetallearea=!1,this.arreglo=[],this.arreglodetalle=[],this.arreglodetalleemp=[]}onResize(t){this.tamanio=t.target.innerWidth}ngOnInit(){let t=document.defaultView;this.tamanio=t.innerWidth,this.cargando=!0,this.CanRouterPrd.params.subscribe(t=>{this.id_empresa=t.id,this.politicasProd.getAllPol(this.id_empresa).subscribe(t=>{this.arreglo=t.datos,console.log("Lista Jornadas",this.arreglo),this.cargando=!1})})}verdetalle(t){this.cargando=!0,this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"politicas",null==t?"nuevo":"modifica"],{state:{data:t}}),this.cargando=!1}eliminar(t){this.objEnviar={politicaId:t.politicaId,centrocClienteId:{centrocClienteId:t.centrocClienteId}},this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas eliminar la polit\xedca?").then(t=>{t&&this.politicasProd.eliminar(this.objEnviar).subscribe(t=>{this.cargando=!1,this.modalPrd.showMessageDialog(t.resultado,t.mensaje),t.resultado&&this.politicasProd.getAllPol(this.id_empresa).subscribe(t=>{this.arreglo=t.datos})})})}traerModal(t){let e=document.getElementById("vetanaprincipaltabla");if(this.aparecemodalito=!0,e.getBoundingClientRect().y<-40){let t=e.getBoundingClientRect().y;t=Math.abs(t),this.scrolly=t+100+"px"}else this.scrolly="5%";this.modalWidth=this.tamanio<600?"90%":"55%";let a=this.arreglo[t];this.cargandodetallearea=!0,this.politicasProd.getTabBen(a.politicaId,this.id_empresa).subscribe(t=>{this.cargandodetallearea=!1,this.arreglodetalle=null==t.datos?[]:t.datos})}traerModalEmpleo(t){let e=document.getElementById("vetanaprincipaltabla");if(this.aparecemodalitoempleado=!0,e.getBoundingClientRect().y<-40){let t=e.getBoundingClientRect().y;t=Math.abs(t),this.scrolly=t+100+"px"}else this.scrolly="5%";this.modalWidth=this.tamanio<600?"90%":"55%";let a=this.arreglo[t];this.cargandodetallearea=!0,this.politicasProd.getdetallePolitica(a.politicaId,this.id_empresa).subscribe(t=>{this.cargandodetallearea=!1,this.arreglodetalleemp=null==t.datos?[]:t.datos})}apagando(t){for(let e=0;e<this.arreglo.length;e++)e!=t&&(this.arreglo[e].seleccionado=!1);this.arreglo[t].seleccionado=!this.arreglo[t].seleccionado}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(r.e),s.Nb(b),s.Nb(r.a),s.Nb(u.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-listapoliticas"]],hostBindings:function(t,e){1&t&&s.ac("resize",function(t){return e.onResize(t)},!1,s.xc)},decls:19,vars:5,consts:[[1,"scrooll-designempresa"],[1,"col-10"],["class","ventanaemergente",3,"top","width",4,"ngIf"],[1,"col-12"],[1,"row","margen"],[1,"col","titulo"],[1,"row",2,"margin-top","10px","width","100%"],[1,"col","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],["id","vetanaprincipaltabla",1,"row","margen","margen-tabla","background-panel","scrooll",2,"position","relative"],["class","table table-hover",4,"ngIf"],["class","alert col text-center",4,"ngIf"],["class","col text-center mb-5",4,"ngIf"],[1,"ventanaemergente"],[1,"adentro"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","btnclosemodal",3,"click"],["aria-hidden","true"],[1,"header"],[1,"titulo"],[1,"body"],[4,"ngIf"],[1,"footer"],[1,"row"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading",3,"click"],[1,"col","text-center","mb-5"],["width","60px","height","60px","src","assets/imgs/loading_nomina.gif","alt",""],[1,"table","m-3","table-hober","table-sm",2,"width","90%"],["scope","col"],[4,"ngFor","ngForOf"],[1,"table","table-hover"],["scope","col",4,"ngIf"],["style","color:  #00DED4",3,"click",4,"ngIf"],[2,"background-color","transparent",3,"click"],[1,"icon_ver","primary-bg"],[1,"opciones"],[3,"click"],[1,"icon_editar","primary-bg"],[1,"icon_eliminar","danger-bg"],["class","fas fa-chevron-down primary","style","font-size: 14px;\n                              margin: 9px;",4,"ngIf"],["class","fas fa-chevron-up primary","style","font-size: 14px;\n                              margin: 9px;",4,"ngIf"],["class","slide-in-bck-center",4,"ngIf"],[2,"color","#00DED4",3,"click"],[1,"fas","fa-chevron-down","primary",2,"font-size","14px","margin","9px"],[1,"fas","fa-chevron-up","primary",2,"font-size","14px","margin","9px"],[1,"slide-in-bck-center"],["colspan","5"],[1,"row","mb-4"],[1,"titulo","col"],[1,"alert","col","text-center"]],template:function(t,e){1&t&&(s.Ob(0,"br"),s.Tb(1,"div",0),s.Tb(2,"div",1),s.Gc(3,h,18,6,"div",2),s.Sb(),s.Tb(4,"div",3),s.Gc(5,v,18,6,"div",2),s.Sb(),s.Tb(6,"div",4),s.Tb(7,"div",5),s.Tb(8,"label"),s.Ic(9,"RESULTADOS"),s.Sb(),s.Sb(),s.Tb(10,"div",6),s.Tb(11,"div",7),s.Tb(12,"button",8),s.ac("click",function(){return e.verdetalle(void 0)}),s.Ob(13,"i",9),s.Ic(14," Agregar polit\xedca "),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(15,"div",10),s.Gc(16,k,12,2,"table",11),s.Gc(17,A,3,0,"div",12),s.Gc(18,z,2,0,"div",13),s.Sb(),s.Sb()),2&t&&(s.zb(3),s.kc("ngIf",e.aparecemodalitoempleado),s.zb(2),s.kc("ngIf",e.aparecemodalito),s.zb(11),s.kc("ngIf",!e.cargando&&void 0!==e.arreglo),s.zb(1),s.kc("ngIf",!e.cargando&&void 0===e.arreglo),s.zb(1),s.kc("ngIf",e.cargando))},directives:[n.m,n.l],styles:[".button-outlet[_ngcontent-%COMP%]{background-color:initial!important}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}.contenedorDiv[_ngcontent-%COMP%]   .consulta[_ngcontent-%COMP%]{width:100%;height:auto;left:0}.ventanaemergente[_ngcontent-%COMP%]{z-index:1;display:block;overflow:auto;padding:4%;width:50%;border-radius:5px;border:1px solid #666;height:auto;background-color:#fff!important;box-shadow:5px 2px 5px 1px rgba(0,0,0,.42);left:5%;position:absolute}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]{top:0!important;position:absolute!important;right:11px!important}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#56dfd4;font-size:x-large}"]}),t})();var M=a("dkea"),w=a("cCUj");const D=["nombre"];function N(t,e){1&t&&(s.Tb(0,"div",27),s.Ic(1," Campo requerido "),s.Sb())}function E(t,e){1&t&&(s.Tb(0,"div",27),s.Ic(1," Campo requerido "),s.Sb())}function F(t,e){if(1&t){const t=s.Ub();s.Tb(0,"tr"),s.Tb(1,"td"),s.Tb(2,"span",37),s.ac("keyup",function(a){s.yc(t);const i=e.index;return s.ec(3).changeValue(i,"aniosAntiguedad",a)})("blur",function(a){s.yc(t);const i=e.index;return s.ec(3).updateList(i,"aniosAntiguedad",a)}),s.Ic(3),s.Sb(),s.Sb(),s.Tb(4,"td"),s.Tb(5,"span",37),s.ac("keyup",function(a){s.yc(t);const i=e.index;return s.ec(3).changeValue(i,"diasAguinaldo",a)})("blur",function(a){s.yc(t);const i=e.index;return s.ec(3).updateList(i,"diasAguinaldo",a)}),s.Ic(6),s.Sb(),s.Sb(),s.Tb(7,"td"),s.Tb(8,"span",37),s.ac("keyup",function(a){s.yc(t);const i=e.index;return s.ec(3).changeValue(i,"diasVacaciones",a)})("blur",function(a){s.yc(t);const i=e.index;return s.ec(3).updateList(i,"diasVacaciones",a)}),s.Ic(9),s.Sb(),s.Sb(),s.Tb(10,"td"),s.Tb(11,"span",37),s.ac("keyup",function(a){s.yc(t);const i=e.index;return s.ec(3).changeValue(i,"primaVacacional",a)})("blur",function(a){s.yc(t);const i=e.index;return s.ec(3).updateList(i,"primaVacacional",a)}),s.Ic(12),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=e.$implicit;s.zb(3),s.Jc(t.aniosAntiguedad),s.zb(3),s.Jc(t.diasAguinaldo),s.zb(3),s.Jc(t.diasVacaciones),s.zb(3),s.Jc(t.primaVacacional)}}function V(t,e){if(1&t&&(s.Tb(0,"table",34),s.Tb(1,"tr"),s.Tb(2,"th",35),s.Ic(3,"A\xf1os de antiguedad"),s.Sb(),s.Tb(4,"th",35),s.Ic(5,"D\xedas de aguinaldo"),s.Sb(),s.Tb(6,"th",35),s.Ic(7,"D\xedas de vacaciones"),s.Sb(),s.Tb(8,"th",35),s.Ic(9,"Prima vacacional"),s.Sb(),s.Sb(),s.Gc(10,F,13,4,"tr",36),s.Sb()),2&t){const t=s.ec(2);s.zb(10),s.kc("ngForOf",t.arregloTablaBeneficios)}}function B(t,e){1&t&&(s.Tb(0,"div",38),s.Tb(1,"strong"),s.Ic(2,"En este momento no existen registros"),s.Sb(),s.Sb())}function G(t,e){1&t&&(s.Tb(0,"div",39),s.Ob(1,"img",40),s.Sb())}function J(t,e){if(1&t&&(s.Tb(0,"div",28),s.Tb(1,"div",3),s.Tb(2,"label",4),s.Ic(3,"INFORMACI\xd3N DE TABLA DE BENEFICIOS"),s.Sb(),s.Sb(),s.Tb(4,"div",29),s.Tb(5,"div",30),s.Gc(6,V,11,1,"table",31),s.Gc(7,B,3,0,"div",32),s.Gc(8,G,2,0,"div",33),s.Sb(),s.Sb(),s.Sb()),2&t){const t=s.ec();s.zb(6),s.kc("ngIf",!t.cargando&&void 0!==t.arregloTablaBeneficios),s.zb(1),s.kc("ngIf",!t.cargando&&void 0===t.arregloTablaBeneficios),s.zb(1),s.kc("ngIf",t.cargando)}}const R=function(t){return{"is-invalid":t}},$=[{path:"",children:[{path:"politicas",component:_},{path:"politicas/:tipoinsert",component:(()=>{class t{constructor(t,e,a,i,n){this.formBuilder=t,this.politicasPrd=e,this.routerActivePrd=a,this.routerPrd=i,this.modalPrd=n,this.arreglo=[],this.insertar=!1,this.cargando=!1,this.submitEnviado=!1,this.esInsert=!1,this.id_empresa=0,this.calculoAntiguedadx=0,this.arregloTablaBeneficios=[],this.editField="",this.mostrarBeneficios=!1,this.beneficio=[],this.beneficiotab=[],this.routerActivePrd.params.subscribe(t=>{this.insertar="nuevo"==t.tipoinsert,this.id_empresa=t.id})}ngOnInit(){let t=null==history.state.data?{}:history.state.data;this.insertar||(this.mostrarBeneficios=!0,this.politicasPrd.getdetalleBeneficio(t.politicaId,this.id_empresa).subscribe(t=>this.arregloTablaBeneficios=t.datos)),this.myFormpol=this.createFormrep(t)}ngAfterViewInit(){this.nombre.nativeElement.focus()}createFormrep(t){return this.insertar||(t.calculoAntiguedadx="C"==t.calculoAntiguedadx?"contrato":"antiguedad"),this.formBuilder.group({nombre:[t.nombre,[i.w.required]],diasEconomicos:[t.diasEconomicos,[i.w.required]],primaAniversario:[t.primaAniversario],descuentaFaltas:[t.descuentaFaltas],descuentaIncapacidades:[t.descuentaIncapacidades],costoValesRestaurante:[t.costoValesRestaurante],descuentoPropDia:[t.descuentoPropDia],politicaId:t.politicaId,calculoAntiguedadx:[t.calculoAntiguedadx]})}verdetalle(t){}updateList(t,e,a){this.arregloTablaBeneficios[t][e]=a.target.textContent}changeValue(t,e,a){this.editField=a.target.textContent}enviarPeticion(){this.submitEnviado=!0,this.myFormpol.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.insertar?"\xbfDeseas registrar la pol\xedtica":"\xbfDeseas actualizar los datos de la pol\xedtica?").then(t=>{if(t){let t=this.myFormpol.value,e="contrato"==t.calculoAntiguedadx?"C":"A";this.calculoAntiguedadx="C"==e?2:1;let a={nombre:t.nombre,diasEconomicos:t.diasEconomicos,primaAniversario:t.primaAniversario,descuentaFaltas:t.descuentaFaltas,descuentaIncapacidades:t.descuentaIncapacidades,costoValesRestaurante:t.costoValesRestaurante,descuentoPropDia:t.descuentoPropDia,calculoAntiguedadx:e,centrocClienteId:{centrocClienteId:this.id_empresa},calculoAntiguedadId:{calculoAntiguedadxId:this.calculoAntiguedadx}};if(this.insertar)this.politicasPrd.save(a).subscribe(t=>{this.modalPrd.showMessageDialog(t.resultado,t.mensaje).then(()=>{t.resultado&&this.routerPrd.navigate(["/empresa/detalle/"+this.id_empresa+"/politicas"])})});else{for(let t of this.arregloTablaBeneficios)this.beneficio={beneficioPolitica:t.beneficioPolitica,aniosAntiguedad:t.aniosAntiguedad,diasAguinaldo:t.diasAguinaldo,diasVacaciones:t.diasVacaciones,primaVacacional:t.primaVacacional},this.beneficiotab.push(this.beneficio);let a={politicaId:t.politicaId,nombre:t.nombre,diasEconomicos:t.diasEconomicos,primaAniversario:t.primaAniversario,descuentaFaltas:t.descuentaFaltas,descuentaIncapacidades:t.descuentaIncapacidades,costoValesRestaurante:t.costoValesRestaurante,descuentoPropDia:t.descuentoPropDia,centrocClienteId:{centrocClienteId:this.id_empresa},calculoAntiguedadx:e,calculoAntiguedadId:{calculoAntiguedadxId:this.calculoAntiguedadx},beneficiosXPolitica:this.beneficiotab};console.log("Objeto Modificar",a),this.politicasPrd.modificar(a).subscribe(t=>{this.modalPrd.showMessageDialog(t.resultado,t.mensaje).then(()=>{t.resultado&&this.routerPrd.navigate(["/empresa/detalle/"+this.id_empresa+"/politicas"])})})}}})}redirect(t){this.routerPrd.navigate(["/empresa/detalle/"+this.id_empresa+"/politicas"])}get f(){return this.myFormpol.controls}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(i.c),s.Nb(b),s.Nb(r.a),s.Nb(r.e),s.Nb(u.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-detallepoliticas"]],viewQuery:function(t,e){if(1&t&&s.Pc(D,!0),2&t){let t;s.uc(t=s.bc())&&(e.nombre=t.first)}},decls:64,vars:11,consts:[[1,"form-desing",3,"formGroup","ngSubmit"],["type","hidden","formControlName","politicaId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar",3,"pixeles"],[1,"form-group","row","margen"],[1,"titulo"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6"],["formControlName","nombre","maxlength","64","type","text","placeholder","",1,"form-control",3,"ngClass"],["nombre",""],["class","invalid-feedback",4,"ngIf"],["appSolonumeros","","formControlName","diasEconomicos","type","text","placeholder","",1,"form-control",3,"ngClass"],[1,"contenedorInputCheckRadio"],["formControlName","primaAniversario","type","checkbox","name","","id","primaAniversario"],[1,"checkmark"],["formControlName","descuentaFaltas","type","checkbox","name","","id","descuentaFaltas"],[1,"input-group-sm","mb-3","col-6","col-sm-6","col-lg-6"],["formControlName","descuentaIncapacidades","type","checkbox","name","","id","descuentaIncapacidades"],[1,"input-group-sm","mb-4","col-6","col-sm-6","col-lg-6"],["formControlName","costoValesRestaurante","type","checkbox","name","","id","costoValesRestaurante"],["formControlName","descuentoPropDia","type","checkbox","name","","id","descuentoPropDia"],["value","antiguedad","formControlName","calculoAntiguedadx","type","radio","name","calculoAntiguedadx","id",""],[1,"radiomark"],["value","contrato","formControlName","calculoAntiguedadx","type","radio","name","calculoAntiguedadx","id",""],["class","card margen margen-tabla background-panel ",4,"ngIf"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"eventoFunciones","click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"],[1,"card","margen","margen-tabla","background-panel"],[1,"card-body"],["id","table",1,"table-editable"],["class","table table-hover",4,"ngIf"],["class","alert col text-center",4,"ngIf"],["class","col text-center mb-5",4,"ngIf"],[1,"table","table-hover"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["contenteditable","true",3,"keyup","blur"],[1,"alert","col","text-center"],[1,"col","text-center","mb-5"],["width","60px","height","60px","src","assets/imgs/loading_nomina.gif","alt",""]],template:function(t,e){1&t&&(s.Ob(0,"br"),s.Ob(1,"br"),s.Tb(2,"form",0),s.ac("ngSubmit",function(){return e.enviarPeticion()}),s.Ob(3,"input",1),s.Tb(4,"div",2),s.Ob(5,"br"),s.Tb(6,"div",3),s.Tb(7,"label",4),s.Ic(8,"INFORMACI\xd3N DE POLIT\xcdCA"),s.Sb(),s.Sb(),s.Tb(9,"div",5),s.Tb(10,"div",6),s.Tb(11,"label"),s.Ic(12,"Nombre *"),s.Sb(),s.Ob(13,"input",7,8),s.Gc(15,N,2,0,"div",9),s.Sb(),s.Tb(16,"div",6),s.Tb(17,"label"),s.Ic(18,"D\xedas econ\xf3micos *"),s.Sb(),s.Ob(19,"input",10),s.Gc(20,E,2,0,"div",9),s.Sb(),s.Tb(21,"div",6),s.Tb(22,"label",11),s.Ic(23,"Prima vacacional al aniversario "),s.Ob(24,"input",12),s.Ob(25,"span",13),s.Sb(),s.Sb(),s.Tb(26,"div",6),s.Tb(27,"label",11),s.Ic(28,"Se descuentan faltas "),s.Ob(29,"input",14),s.Ob(30,"span",13),s.Sb(),s.Sb(),s.Tb(31,"div",15),s.Tb(32,"label",11),s.Ic(33,"Se descuentan incapacidades "),s.Ob(34,"input",16),s.Ob(35,"span",13),s.Sb(),s.Sb(),s.Tb(36,"div",17),s.Tb(37,"label",11),s.Ic(38,"Costo vales de restaurante "),s.Ob(39,"input",18),s.Ob(40,"span",13),s.Sb(),s.Sb(),s.Tb(41,"div",15),s.Tb(42,"label",11),s.Ic(43,"Descuento proporci\xf3n s\xe9ptimo d\xeda "),s.Ob(44,"input",19),s.Ob(45,"span",13),s.Sb(),s.Sb(),s.Tb(46,"div",6),s.Tb(47,"label"),s.Ic(48,"C\xe1lculos en base a :"),s.Sb(),s.Ob(49,"br"),s.Tb(50,"label",11),s.Ic(51," Fecha de antig\xfcedad "),s.Ob(52,"input",20),s.Ob(53,"span",21),s.Sb(),s.Tb(54,"label",11),s.Ic(55," Fecha de inicio de contrato "),s.Ob(56,"input",22),s.Ob(57,"span",21),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Gc(58,J,9,3,"div",23),s.Tb(59,"div",24),s.Tb(60,"button",25),s.ac("eventoFunciones",function(t){return e.redirect(t)})("click",function(){return e.redirect(void 0)}),s.Ic(61,"Cancelar"),s.Sb(),s.Tb(62,"button",26),s.Ic(63,"Guardar"),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.zb(2),s.kc("formGroup",e.myFormpol),s.zb(2),s.kc("pixeles",340),s.zb(9),s.kc("ngClass",s.oc(7,R,e.f.nombre.errors&&e.submitEnviado)),s.zb(2),s.kc("ngIf",e.f.nombre.errors&&e.submitEnviado),s.zb(4),s.kc("ngClass",s.oc(9,R,e.f.diasEconomicos.errors&&e.submitEnviado)),s.zb(1),s.kc("ngIf",e.f.diasEconomicos.errors&&e.submitEnviado),s.zb(38),s.kc("ngIf",e.mostrarBeneficios))},directives:[i.y,i.m,i.f,i.b,i.l,i.e,M.a,i.h,n.k,n.m,w.a,i.a,i.s,n.l],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.button-outlet[_ngcontent-%COMP%]{background-color:initial!important}.titulo[_ngcontent-%COMP%]{margin-top:1em}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}@media (min-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}tr[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not([class]){padding:1rem}}"]}),t})()}]}];let L=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[r.i.forChild($)]]}),t})(),j=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[n.c,L,o.a,i.g,i.u,c.a]]}),t})()}}]);
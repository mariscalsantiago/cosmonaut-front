(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{pYoV:function(o,t,a){"use strict";a.r(t),a.d(t,"CompanyModule",function(){return B});var e=a("3Pt+"),n=a("ofXK"),r=a("tyNb"),i=a("DpdX"),l=a("fXoL"),c=a("DXz3"),s=a("Wt37"),d=a("JBW2");function b(o,t){1&o&&l.Ob(0,"i",38)}function m(o,t){1&o&&l.Ob(0,"i",39)}function u(o,t){if(1&o){const o=l.Ub();l.Tb(0,"button",34),l.ac("click",function(){l.zc(o);const t=l.ec();return t.changeIconDown=!t.changeIconDown}),l.Tb(1,"label",35),l.Jc(2,"B\xdaSQUEDA"),l.Sb(),l.Hc(3,b,1,0,"i",36),l.Hc(4,m,1,0,"i",37),l.Sb()}if(2&o){const o=l.ec();l.zb(3),l.kc("ngIf",o.changeIconDown),l.zb(1),l.kc("ngIf",!o.changeIconDown)}}function g(o,t){1&o&&(l.Tb(0,"button",40),l.Tb(1,"label",41),l.Jc(2,"B\xdaSQUEDA"),l.Sb(),l.Sb())}const p=function(o){return{show:o}};let h=(()=>{class o{constructor(o,t){this.routerPrd=o,this.companyProd=t,this.id_company=0,this.centrocClienteId="",this.rfc="",this.nombre="",this.razonSocial="",this.fechaAlta=null,this.esActivo="",this.modal=!1,this.strTitulo="",this.strsubtitulo="",this.iconType="",this.tamanio=0,this.cargando=!1,this.multiseleccion=!1,this.multiseleccionloading=!1,this.changeIconDown=!1,this.arreglo=[],this.arreglotabla={columnas:[],filas:[]},this.arreglotablaDesglose={columnas:[],filas:[]}}onResize(o){this.tamanio=o.target.innerWidth}ngOnInit(){let o=document.defaultView;this.tamanio=o.innerWidth,this.cargando=!0,this.companyProd.getAll().subscribe(o=>{var t;this.arreglo=o.datos;let a=[new i.a("url","imagen"),new i.a("centrocClienteId","ID cliente"),new i.a("razonSocial","Raz\xf3n social\t"),new i.a("nombre","Nombre de cliente"),new i.a("rfc","RFC"),new i.a("fechaAlta","Fecha de registro en el sistema"),new i.a("esActivo","Estatus")];if(void 0!==this.arreglo)for(let e of this.arreglo){e.fechaAlta=new Date(e.fechaAlta).toUTCString().replace(" 00:00:00 GMT","");let o=new n.f("es-MX");e.fechaAlta=null===(t=o.transform(e.fechaAlta,"dd-MMM-y"))||void 0===t?void 0:t.replace(".","")}this.arreglotabla.columnas=a,this.arreglotabla.filas=this.arreglo,this.cargando=!1})}verdetallecom(o){this.routerPrd.navigate(["company","detalle_company","nuevo"],{state:{datos:void 0}})}filtrar(){this.cargando=!0;let o="";if((null!=this.fechaAlta||null!=this.fechaAlta)&&""!=this.fechaAlta){const t=new Date(this.fechaAlta).toUTCString().replace("GMT","");o=""+new Date(t).getTime()}let t="";"1"==this.esActivo?t="true":"2"==this.esActivo&&(t="false");let a={centrocClienteId:this.centrocClienteId,rfc:this.rfc,nombre:this.nombre,razonSocial:this.razonSocial,fechaAlta:o,esActivo:""};console.log("peticion",a),this.companyProd.filtrar(a).subscribe(o=>{var t;this.arreglo=o.datos,this.arreglo=o.datos;let a=[new i.a("url","imagen"),new i.a("centrocClienteId","ID cliente"),new i.a("razonSocial","Raz\xf3n social\t"),new i.a("nombre","Nombre de cliente"),new i.a("rfc","RFC"),new i.a("fechaAlta","Fecha de registro en el sistema"),new i.a("esActivo","Estatus")];if(void 0!==this.arreglo)for(let e of this.arreglo){e.fechaAlta=new Date(e.fechaAlta).toUTCString().replace(" 00:00:00 GMT","");let o=new n.f("es-MX");e.fechaAlta=null===(t=o.transform(e.fechaAlta,"dd-MMM-y"))||void 0===t?void 0:t.replace(".","")}this.arreglotabla.columnas=a,this.arreglotabla.filas=this.arreglo,this.cargando=!1,this.cargando=!1})}activarMultiseleccion(){this.multiseleccion=!0}guardarMultiseleccion(){this.multiseleccionloading=!0,setTimeout(()=>{this.multiseleccionloading=!1,this.multiseleccion=!1},3e3)}cancelarMulti(){this.multiseleccionloading=!1,this.multiseleccion=!1}recibirTabla(o){"editar"==o.type&&this.routerPrd.navigate(["company","detalle_company","modifica"],{state:{datos:o.datos}})}}return o.\u0275fac=function(t){return new(t||o)(l.Nb(r.e),l.Nb(c.a))},o.\u0275cmp=l.Hb({type:o,selectors:[["app-company"]],hostBindings:function(o,t){1&o&&l.ac("resize",function(o){return t.onResize(o)},!1,l.yc)},decls:48,vars:18,consts:[[1,"row","margen","titulosfijos"],[1,"col","titulo-outlet"],[1,"scrooll-design"],[1,"margen"],["id","accordionFiltro"],["id","accordion"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["style","width: 100%;","class","btn btn-link aparece-movil","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",3,"click",4,"ngIf"],["class","btn btn-link aparece-desktop-inline-block",4,"ngIf"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse",3,"ngClass"],[1,"card-body"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4","col-xl-3"],["type","number","placeholder","Id cliente",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","RFC",1,"form-control",3,"appAlfanumerico","ngModel","ngModelChange"],["type","text","appAlfanumerico","","placeholder","Nombre cliente",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Raz\xf3n social",1,"form-control",3,"appAlfanumerico","ngModel","ngModelChange"],["type","text","placeholder","Fecha de registro","onfocus","(this.type='date')","onblur","(this.type='date')",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-sm","mb-3","col-12","col-sm-12","col-lg-4","col-xl-3"],["placeholder","Estatus",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected",""],["value","1"],["value","2"],[1,"input-group-sm","mb-3","text-center","col-12","col-sm-2"],["type","button",1,"btn","btn-primary","button-outlet",3,"click"],[1,"row","margen"],[1,"col","titulo"],[1,"col","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],[1,"row","margen","margen-tabla","background-panel"],[3,"datos","editar","imagen","icondefault","cargando","salida"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","aparece-movil",2,"width","100%",3,"click"],[1,"titulo",2,"width","80%","float","left","text-align","left"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-up ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-down ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up",2,"width","10%","float","right","color","#00C1AF"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down",2,"width","10%","float","right","color","#00C1AF"],[1,"btn","btn-link","aparece-desktop-inline-block"],[1,"titulo"]],template:function(o,t){1&o&&(l.Tb(0,"div"),l.Tb(1,"div",0),l.Tb(2,"div",1),l.Tb(3,"label"),l.Jc(4,"LISTA DE CLIENTES"),l.Sb(),l.Sb(),l.Sb(),l.Tb(5,"div",2),l.Tb(6,"div",3),l.Tb(7,"div",4),l.Tb(8,"div",5),l.Tb(9,"div",6),l.Tb(10,"div",7),l.Tb(11,"h5",8),l.Hc(12,u,5,2,"button",9),l.Hc(13,g,3,0,"button",10),l.Sb(),l.Sb(),l.Tb(14,"div",11),l.Tb(15,"div",12),l.Tb(16,"div",13),l.Tb(17,"div",14),l.Tb(18,"input",15),l.ac("ngModelChange",function(o){return t.centrocClienteId=o}),l.Sb(),l.Sb(),l.Tb(19,"div",14),l.Tb(20,"input",16),l.ac("ngModelChange",function(o){return t.rfc=o}),l.Sb(),l.Sb(),l.Tb(21,"div",14),l.Tb(22,"input",17),l.ac("ngModelChange",function(o){return t.nombre=o}),l.Sb(),l.Sb(),l.Tb(23,"div",14),l.Tb(24,"input",18),l.ac("ngModelChange",function(o){return t.razonSocial=o}),l.Sb(),l.Sb(),l.Tb(25,"div",14),l.Tb(26,"input",19),l.ac("ngModelChange",function(o){return t.fechaAlta=o}),l.Sb(),l.Sb(),l.Tb(27,"div",20),l.Tb(28,"select",21),l.ac("ngModelChange",function(o){return t.esActivo=o}),l.Tb(29,"option",22),l.Jc(30,"Estatus"),l.Sb(),l.Tb(31,"option",23),l.Jc(32,"Activo"),l.Sb(),l.Tb(33,"option",24),l.Jc(34,"Inactivo"),l.Sb(),l.Sb(),l.Sb(),l.Tb(35,"div",25),l.Tb(36,"button",26),l.ac("click",function(){return t.filtrar()}),l.Jc(37,"Filtrar"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(38,"div",27),l.Tb(39,"div",28),l.Tb(40,"label"),l.Jc(41,"RESULTADOS"),l.Sb(),l.Sb(),l.Tb(42,"div",29),l.Tb(43,"button",30),l.ac("click",function(){return t.verdetallecom(void 0)}),l.Ob(44,"i",31),l.Jc(45,"Agregar cliente "),l.Sb(),l.Sb(),l.Sb(),l.Tb(46,"div",32),l.Tb(47,"app-tablapaginado",33),l.ac("salida",function(o){return t.recibirTabla(o)}),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&o&&(l.zb(12),l.kc("ngIf",t.tamanio<600),l.zb(1),l.kc("ngIf",t.tamanio>=600),l.zb(1),l.kc("ngClass",l.oc(16,p,t.tamanio>600)),l.zb(4),l.kc("ngModel",t.centrocClienteId),l.zb(2),l.kc("appAlfanumerico","true")("ngModel",t.rfc),l.zb(2),l.kc("ngModel",t.nombre),l.zb(2),l.kc("appAlfanumerico","true")("ngModel",t.razonSocial),l.zb(2),l.kc("ngModel",t.fechaAlta),l.zb(2),l.kc("ngModel",t.esActivo),l.zb(19),l.kc("datos",t.arreglotabla)("editar",!0)("imagen",!0)("icondefault","empresa")("cargando",t.cargando))},directives:[n.m,n.k,e.q,e.b,e.l,e.o,s.a,e.v,e.p,e.x,d.a],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.button-outlet[_ngcontent-%COMP%]{background-color:initial!important}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}"]}),o})();var f=a("DlAn"),v=a("i9e2"),C=a("dkea"),T=a("qIi2");const S=["nombre"];function P(o,t){1&o&&(l.Tb(0,"div",34),l.Jc(1," Campo requerido "),l.Sb())}function y(o,t){1&o&&(l.Tb(0,"div",34),l.Jc(1," Campo requerido "),l.Sb())}function M(o,t){1&o&&(l.Tb(0,"div",34),l.Jc(1," Campo requerido "),l.Sb())}function w(o,t){1&o&&(l.Tb(0,"div",34),l.Jc(1," Formato de RFC inv\xe1lido, favor de verificar. "),l.Sb())}function I(o,t){if(1&o){const o=l.Ub();l.Tb(0,"div",35),l.Tb(1,"div",6),l.Tb(2,"label",7),l.Jc(3,"LISTA DE CONTACTOS"),l.Sb(),l.Sb(),l.Tb(4,"div",36),l.Tb(5,"div",37),l.Tb(6,"div",38),l.Tb(7,"button",39),l.ac("click",function(){return l.zc(o),l.ec().verdetallecont(void 0)}),l.Ob(8,"i",40),l.Jc(9,"Agregar contacto "),l.Sb(),l.Sb(),l.Sb(),l.Tb(10,"app-tablapaginado",41),l.ac("salida",function(t){return l.zc(o),l.ec().recibirTabla(t)}),l.Sb(),l.Sb(),l.Sb()}if(2&o){const o=l.ec();l.zb(10),l.kc("datos",o.arreglotabla)("editar",!0)("cargando",o.cargando)}}const O=function(o){return{"is-invalid":o}};let A=(()=>{class o{constructor(o,t,a,e,n,r){this.formBuilder=o,this.companyPrd=t,this.routerActivePrd=a,this.routerPrd=e,this.usuariosPrd=n,this.modalPrd=r,this.arreglo=[],this.contacto=!1,this.listcontacto=!1,this.compania=!0,this.companiaprincipal=!0,this.insertar=!1,this.fechaAlta="",this.cargando=!1,this.multiseleccion=!1,this.multiseleccionloading=!1,this.submitEnviado=!1,this.imagen=void 0,this.arreglotabla={columnas:[],filas:[]},this.cargandoImg=!1}ngOnInit(){this.objCompany=null==history.state.datos?{}:history.state.datos,this.compania=!0,this.cargandoImg=!0,console.log(this.objCompany,"el obj de compana"),this.routerActivePrd.params.subscribe(o=>{this.insertar="nuevo"==o.tipoinsert,this.insertar?this.cargandoImg=!1:(this.companyPrd.getEmpresaById(this.objCompany.centrocClienteId).subscribe(o=>{var t;this.cargandoImg=!1,this.imagen=null===(t=o.datos)||void 0===t?void 0:t.imagen}),this.listaContacto(),this.listcontacto=!0),this.myFormcomp=this.createFormcomp(this.objCompany),this.objCompany.multiempresa&&(this.myFormcomp.controls.rfc.setValidators([]),this.myFormcomp.controls.rfc.updateValueAndValidity())})}ngAfterViewInit(){this.nombre.nativeElement.focus()}createFormcomp(o){let t=new n.f("en-MX");return this.formBuilder.group({nombre:[o.nombre,[e.w.required]],razonSocial:[o.razonSocial,[e.w.required]],rfc:[o.rfc,[e.w.required,e.w.pattern("^([A-Z\xd1&]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])([A-Z]|[0-9]){2}([A]|[0-9]){1})?$")]],fechaAlta:[{value:this.insertar?t.transform(new Date,"dd-MMM-y"):o.fechaAlta,disabled:!0},[e.w.required]],esActivo:[{value:this.insertar?"true":o.esActivo,disabled:this.insertar},[e.w.required]],centrocClienteId:o.centrocClienteId,multiempresa:o.multiempresa})}subirarchivos(){}verdetallecont(o){this.cargando=!0,this.routerPrd.navigate(["company","detalle_contacto",null==o?"nuevo":"modifica"],{state:{datos:o,empresa:this.objCompany,modificaEmpresa:!0}}),this.cargando=!1}listaContacto(){var o;let t={centrocClienteId:{centrocClienteId:null===(o=this.objCompany)||void 0===o?void 0:o.centrocClienteId},tipoPersonaId:{tipoPersonaId:2}};this.cargando=!0,this.usuariosPrd.filtrar(t).subscribe(o=>{var t;this.arreglo=o.datos;let a=[new i.a("personaId","ID contacto"),new i.a("nombrecompleto","Nombre contacto"),new i.a("emailCorporativo","Correo empresarial"),new i.a("contactoInicialTelefono","Tel\xe9fono"),new i.a("fechaAlta","Fecha de registro en el sistema")];if(void 0!==this.arreglo)for(let e of this.arreglo){e.nombrecompleto=`${e.nombre} ${e.apellidoPaterno} ${null==e.apellidoMaterno?"":e.apellidoMaterno}`,e.fechaAlta=new Date(e.fechaAlta).toUTCString().replace(" 00:00:00 GMT","");let o=new n.f("es-MX");e.fechaAlta=null===(t=o.transform(e.fechaAlta,"dd-MMM-y"))||void 0===t?void 0:t.replace(".","")}this.arreglotabla.columnas=a,this.arreglotabla.filas=this.arreglo,this.cargando=!1})}enviarPeticioncomp(){this.submitEnviado=!0,this.myFormcomp.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.insertar?"\xbfDeseas registrar el cliente?":"\xbfDeseas actualizar los datos del cliente?").then(o=>{if(o){let o=this.myFormcomp.value;o=Object.assign(Object.assign({},o),{imagen:this.imagen}),this.modalPrd.showMessageDialog(this.modalPrd.loading),this.insertar?this.companyPrd.save(o).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{this.compania=!o.resultado,this.contacto=!0,o.resultado&&(this.objCompany=o.datos,this.routerPrd.navigate(["company","detalle_contacto","nuevo"],{state:{datos:void 0,empresa:this.objCompany}}))})}):this.companyPrd.modificar(o).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.listcontacto=!0,this.compania=!1})}})}cancelarcomp(){this.routerPrd.navigate(["/company"])}get f(){return this.myFormcomp.controls}recibirImagen(o){this.imagen=o}recibirTabla(o){switch(o.type){case"editar":this.verdetallecont(o.datos);break;case"filaseleccionada":console.log(this.arreglo)}}cambiarMultiempresa(){this.objCompany.multiempresa=this.myFormcomp.controls.multiempresa.value,this.myFormcomp.controls.multiempresa.value?(this.myFormcomp.controls.rfc.clearValidators(),this.myFormcomp.controls.rfc.updateValueAndValidity()):(this.myFormcomp.controls.rfc.setValidators([e.w.required,e.w.pattern("^([A-Z\xd1&]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])([A-Z]|[0-9]){2}([A]|[0-9]){1})?$")]),this.myFormcomp.controls.rfc.updateValueAndValidity())}}return o.\u0275fac=function(t){return new(t||o)(l.Nb(e.c),l.Nb(c.a),l.Nb(r.a),l.Nb(r.e),l.Nb(f.a),l.Nb(v.a))},o.\u0275cmp=l.Hb({type:o,selectors:[["app-detalle-company"]],viewQuery:function(o,t){if(1&o&&l.Qc(S,!0),2&o){let o;l.vc(o=l.bc())&&(t.nombre=o.first)}},decls:62,vars:18,consts:[[1,"row","margen"],[1,"col","titulo-outlet"],["routerLink","/company",1,"fas","fa-chevron-left","aparece-movil-inline-block"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","centrocClienteId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar"],[1,"form-group","row","margen"],[1,"titulo"],[1,"col-12","col-md-12","col-xl-9"],[1,"row"],[1,"input-group-sm","mb-3","col-12","col-sm-12","col-md-6","col-lg-4"],["formControlName","nombre","type","text","placeholder","",1,"form-control",3,"ngClass"],["nombre",""],["class","invalid-feedback",4,"ngIf"],["formControlName","razonSocial","type","text","placeholder","",1,"form-control",3,"ngClass"],[1,"input-group-sm","col-12","col-sm-12","col-md-4","col-lg-4",2,"padding-top","35px"],[1,"contenedorInputCheckRadio"],["formControlName","multiempresa","type","checkbox","name","","id","multiempresa",3,"change"],[1,"checkmark"],["formControlName","rfc","maxlength","13","type","text",1,"form-control",3,"ngClass"],["formControlName","fechaAlta","type","text","placeholder","",1,"form-control"],[1,"input-group-sm","mb-4","col-12","col-sm-12","col-md-6","col-lg-4"],["for","exampleFormControlSelect1"],["formControlName","esActivo",1,"form-control"],["value","true","selected",""],["value","false"],[1,"input-group-sm","mb-3","col-12","col-sm-12","col-md-4","col-lg-4"],[1,"col-12","col-md-12","col-xl-2"],[1,"input-group-sm","mb-3","col-12"],[3,"cargando","recibiendoImagen","emiteimagen"],["class","row  margen margen-tabla",4,"ngIf"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"],[1,"row","margen","margen-tabla"],[1,"form-group","row",2,"width","100%"],[1,"row",2,"margin-top","10px","width","100%"],[1,"col","text-right"],["type","button",1,"btn","btn-light",2,"background","#56dfd4","color","white",3,"click"],[1,"fa","fa-plus"],[3,"datos","editar","cargando","salida"]],template:function(o,t){1&o&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Tb(2,"label"),l.Ob(3,"i",2),l.Jc(4,"CONFIGURACI\xd3N DE CLIENTE"),l.Sb(),l.Sb(),l.Sb(),l.Ob(5,"hr"),l.Tb(6,"form",3),l.ac("ngSubmit",function(){return t.enviarPeticioncomp()}),l.Ob(7,"input",4),l.Tb(8,"div",5),l.Tb(9,"div",6),l.Tb(10,"label",7),l.Jc(11,"INFORMACI\xd3N DEL CLIENTE"),l.Sb(),l.Sb(),l.Tb(12,"div",6),l.Tb(13,"div",8),l.Tb(14,"div",9),l.Tb(15,"div",10),l.Tb(16,"label"),l.Jc(17,"Nombre del cliente *"),l.Sb(),l.Ob(18,"input",11,12),l.Hc(20,P,2,0,"div",13),l.Sb(),l.Tb(21,"div",10),l.Tb(22,"label"),l.Jc(23,"Raz\xf3n social *"),l.Sb(),l.Ob(24,"input",14),l.Hc(25,y,2,0,"div",13),l.Sb(),l.Tb(26,"div",15),l.Tb(27,"label",16),l.Jc(28,"Multiempresa "),l.Tb(29,"input",17),l.ac("change",function(){return t.cambiarMultiempresa()}),l.Sb(),l.Ob(30,"span",18),l.Sb(),l.Sb(),l.Tb(31,"div",10),l.Tb(32,"label"),l.Jc(33),l.Sb(),l.Ob(34,"input",19),l.Hc(35,M,2,0,"div",13),l.Hc(36,w,2,0,"div",13),l.Sb(),l.Tb(37,"div",10),l.Tb(38,"label"),l.Jc(39,"Fecha de registro en el sistema *"),l.Sb(),l.Ob(40,"input",20),l.Sb(),l.Tb(41,"div",21),l.Tb(42,"label",22),l.Jc(43,"Estatus"),l.Sb(),l.Tb(44,"select",23),l.Tb(45,"option",24),l.Jc(46,"ACTIVO"),l.Sb(),l.Tb(47,"option",25),l.Jc(48,"INACTIVO"),l.Sb(),l.Sb(),l.Sb(),l.Ob(49,"div",26),l.Sb(),l.Sb(),l.Tb(50,"div",27),l.Tb(51,"div",28),l.Tb(52,"label"),l.Jc(53,"Logo"),l.Sb(),l.Tb(54,"app-subirarchivo",29),l.ac("emiteimagen",function(o){return t.recibirImagen(o)}),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Ob(55,"hr"),l.Hc(56,I,11,3,"div",30),l.Sb(),l.Tb(57,"div",31),l.Tb(58,"button",32),l.ac("click",function(){return t.cancelarcomp()}),l.Jc(59,"Cancelar"),l.Sb(),l.Tb(60,"button",33),l.Jc(61,"Guardar"),l.Sb(),l.Sb(),l.Sb()),2&o&&(l.zb(6),l.kc("formGroup",t.myFormcomp),l.zb(12),l.kc("ngClass",l.oc(12,O,t.f.nombre.errors&&t.submitEnviado)),l.zb(2),l.kc("ngIf",t.f.nombre.errors&&t.submitEnviado),l.zb(4),l.kc("ngClass",l.oc(14,O,t.f.razonSocial.errors&&t.submitEnviado)),l.zb(1),l.kc("ngIf",t.f.razonSocial.errors&&t.submitEnviado),l.zb(8),l.Lc("RFC ",t.objCompany.multiempresa?"":"*",""),l.zb(1),l.kc("ngClass",l.oc(16,O,t.f.rfc.errors&&t.submitEnviado)),l.zb(1),l.kc("ngIf",(null==t.f.rfc.errors?null:t.f.rfc.errors.required)&&t.submitEnviado),l.zb(1),l.kc("ngIf",(null==t.f.rfc.errors?null:t.f.rfc.errors.pattern)&&t.f.rfc.touched),l.zb(18),l.kc("cargando",t.cargandoImg)("recibiendoImagen",t.objCompany.url),l.zb(2),l.kc("ngIf",t.listcontacto))},directives:[r.f,e.y,e.m,e.f,e.b,e.l,e.e,C.a,n.k,n.m,e.a,e.h,e.v,e.p,e.x,T.a,d.a],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.button-outlet[_ngcontent-%COMP%]{background-color:initial!important}.titulo[_ngcontent-%COMP%]{margin-top:1em}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}.ocultar[_ngcontent-%COMP%]{display:none}"]}),o})();var k=a("gYgu"),E=a("cCUj");const z=["nombre"];function x(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Campo requerido "),l.Sb())}function _(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Campo requerido "),l.Sb())}function J(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," CURP inv\xe1lida, favor de verificar "),l.Sb())}function N(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Campo requerido "),l.Sb())}function D(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Correo empresarial inv\xe1lido, favor de verificar "),l.Sb())}function F(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Campo requerido "),l.Sb())}function j(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Correo personal inv\xe1lido, favor de verificar "),l.Sb())}function q(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Campo requerido "),l.Sb())}function H(o,t){1&o&&(l.Tb(0,"div",24),l.Jc(1," Campo requerido "),l.Sb())}const R=function(o){return{"is-invalid":o}},L=[{path:"",children:[{path:"company",component:h},{path:"company/detalle_company/:tipoinsert",component:A},{path:"company/detalle_contacto/:tipoinsert",component:(()=>{class o{constructor(o,t,a,e,n){this.formBuilder=o,this.companyPrd=t,this.routerActivePrd=a,this.routerPrd=e,this.modalPrd=n,this.arreglo=[],this.contacto=!1,this.listcontacto=!1,this.compania=!0,this.companiaprincipal=!0,this.insertar=!1,this.fechaActual="",this.fechaAlta="",this.cargando=!1,this.centrocClienteId=1,this.submitEnviado=!1,this.esModificaEmpresa=!1,this.routerActivePrd.params.subscribe(o=>{this.insertar="nuevo"==o.tipoinsert});let r=new Date,i=r.getDate().toString(),l=r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,c=r.getFullYear();this.fechaActual=`${i}/${l}/${c}`}ngOnInit(){this.objcontacto=null==history.state.datos?{}:history.state.datos,this.datosEmpresa=null==history.state.empresa?{}:history.state.empresa,this.esModificaEmpresa=null!=history.state.modificaEmpresa&&history.state.modificaEmpresa,this.myFormcont=this.createFormcont(this.objcontacto)}ngAfterViewInit(){this.nombre.nativeElement.focus()}createFormcont(o){let t=new n.f("en-MX");return this.formBuilder.group({nombre:[o.nombre,[e.w.required]],apellidoPaterno:[o.apellidoPaterno,[e.w.required]],apellidoMaterno:[o.apellidoMaterno],celular:[o.celular],curp:[o.curp,e.w.pattern(/^([A-Z][AEIOUX][A-Z]{2}\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\d])(\d)$/)],emailCorporativo:[o.emailCorporativo,[e.w.required,e.w.email]],contactoInicialEmailPersonal:[o.contactoInicialEmailPersonal,[e.w.email]],contactoInicialTelefono:[o.contactoInicialTelefono,[e.w.required]],fechaAlta:[{value:this.insertar?this.fechaActual:t.transform(new Date,"dd-MMM-y"),disabled:!0},[e.w.required]],personaId:o.personaId,contactoInicialPuesto:o.contactoInicialPuesto})}enviarPeticioncont(){this.submitEnviado=!0,console.log(this.myFormcont.value),this.myFormcont.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.insertar?"\xbfDeseas registrar el contacto?":"\xbfDeseas actualizar los datos del contacto inicial?").then(o=>{if(o){let o=this.myFormcont.value;o=Object.assign(Object.assign({},o),{fechaAlta:this.fechaActual});let t={nombre:o.nombre,apellidoPaterno:o.apellidoPaterno,apellidoMaterno:o.apellidoMaterno,curp:o.curp,celular:o.celular,emailCorporativo:o.emailCorporativo,contactoInicialEmailPersonal:o.contactoInicialEmailPersonal,contactoInicialTelefono:o.contactoInicialTelefono,centrocClienteId:{centrocClienteId:this.datosEmpresa.centrocClienteId},contactoInicialPuesto:o.contactoInicialPuesto};this.modalPrd.showMessageDialog(this.modalPrd.loading),this.insertar?(this.modalPrd.showMessageDialog(this.modalPrd.loading),this.companyPrd.savecont(t).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),o.resultado?this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{this.esModificaEmpresa?this.routerPrd.navigate(["company","detalle_company","modifica"],{state:{datos:this.datosEmpresa}}):this.routerPrd.navigate(["company"])}):this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.compania=!1,this.contacto=!0})):(t.personaId=o.personaId,console.log(t),this.modalPrd.showMessageDialog(this.modalPrd.loading),this.companyPrd.modificarCont(t).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),o.resultado?this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>this.routerPrd.navigate(["company","detalle_company","modifica"],{state:{datos:this.datosEmpresa}})):this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.listcontacto=!0,this.compania=!1}))}})}redirect(o){this.routerPrd.navigate(["/company"])}regresarPantallaPrincipal(){this.routerPrd.navigate(["company","detalle_company","modifica"],{state:{datos:this.datosEmpresa}})}get f(){return this.myFormcont.controls}}return o.\u0275fac=function(t){return new(t||o)(l.Nb(e.c),l.Nb(c.a),l.Nb(r.a),l.Nb(r.e),l.Nb(v.a))},o.\u0275cmp=l.Hb({type:o,selectors:[["app-detalle-contacto"]],viewQuery:function(o,t){if(1&o&&l.Qc(z,!0),2&o){let o;l.vc(o=l.bc())&&(t.nombre=o.first)}},decls:68,vars:33,consts:[[1,"row","margen"],[1,"col","titulo-outlet"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","personaId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar"],[1,"form-group","row","margen"],[1,"titulo"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-4"],["formControlName","nombre","appMayusculas","","type","text","placeholder","",1,"form-control",3,"ngClass"],["nombre",""],["class","invalid-feedback",4,"ngIf"],["formControlName","apellidoPaterno","appMayusculas","","type","text","placeholder","",1,"form-control",3,"ngClass"],["formControlName","apellidoMaterno","appMayusculas","","type","text","id","apellidoMaterno","aria-describedby","emailHelp","placeholder","",1,"form-control"],["formControlName","curp","maxlength","18","type","text","placeholder","",1,"form-control",3,"ngClass"],["formControlName","contactoInicialPuesto","maxlength","150","type","text","placeholder","",1,"form-control"],["formControlName","emailCorporativo","type","email","appMayusculas","","placeholder","",1,"form-control",3,"minusculas","ngClass"],["appMayusculas","","formControlName","contactoInicialEmailPersonal","type","email","placeholder","",1,"form-control","text-lowercase",3,"minusculas","ngClass"],["appSolonumeros","","formControlName","contactoInicialTelefono","maxlength","10","type","text","placeholder","",1,"form-control",3,"ngClass"],["appSolonumeros","","formControlName","celular","maxlength","10","type","text","placeholder","",1,"form-control",3,"ngClass"],["formControlName","fechaAlta","type","text","placeholder","",1,"form-control"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"]],template:function(o,t){1&o&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Tb(2,"label"),l.Jc(3,"CONFIGURACI\xd3N DEL CLIENTE"),l.Sb(),l.Sb(),l.Sb(),l.Ob(4,"hr"),l.Tb(5,"form",2),l.ac("ngSubmit",function(){return t.enviarPeticioncont()}),l.Ob(6,"input",3),l.Tb(7,"div",4),l.Ob(8,"br"),l.Tb(9,"div",5),l.Tb(10,"label",6),l.Jc(11,"INFORMACI\xd3N DE CONTACTO"),l.Sb(),l.Sb(),l.Tb(12,"div",7),l.Tb(13,"div",8),l.Tb(14,"label"),l.Jc(15,"Nombre *"),l.Sb(),l.Ob(16,"input",9,10),l.Hc(18,x,2,0,"div",11),l.Sb(),l.Tb(19,"div",8),l.Tb(20,"label"),l.Jc(21,"Primer apellido *"),l.Sb(),l.Ob(22,"input",12),l.Hc(23,_,2,0,"div",11),l.Sb(),l.Tb(24,"div",8),l.Tb(25,"label"),l.Jc(26,"Segundo apellido"),l.Sb(),l.Ob(27,"input",13),l.Sb(),l.Tb(28,"div",8),l.Tb(29,"label"),l.Jc(30,"CURP"),l.Sb(),l.Ob(31,"input",14),l.Hc(32,J,2,0,"div",11),l.Sb(),l.Tb(33,"div",8),l.Tb(34,"label"),l.Jc(35,"Puesto"),l.Sb(),l.Ob(36,"input",15),l.Sb(),l.Tb(37,"div",8),l.Tb(38,"label"),l.Jc(39,"Correo empresarial *"),l.Sb(),l.Ob(40,"input",16),l.Hc(41,N,2,0,"div",11),l.Hc(42,D,2,0,"div",11),l.Sb(),l.Tb(43,"div",8),l.Tb(44,"label"),l.Jc(45,"Correo personal"),l.Sb(),l.Ob(46,"input",17),l.Hc(47,F,2,0,"div",11),l.Hc(48,j,2,0,"div",11),l.Sb(),l.Tb(49,"div",8),l.Tb(50,"label"),l.Jc(51,"Tel\xe9fono *"),l.Sb(),l.Ob(52,"input",18),l.Hc(53,q,2,0,"div",11),l.Sb(),l.Tb(54,"div",8),l.Tb(55,"label"),l.Jc(56,"Celular"),l.Sb(),l.Ob(57,"input",19),l.Hc(58,H,2,0,"div",11),l.Sb(),l.Tb(59,"div",8),l.Tb(60,"label"),l.Jc(61,"Fecha de registro en el sistema *"),l.Sb(),l.Ob(62,"input",20),l.Sb(),l.Sb(),l.Sb(),l.Tb(63,"div",21),l.Tb(64,"button",22),l.ac("click",function(){return t.regresarPantallaPrincipal()}),l.Jc(65,"Cancelar"),l.Sb(),l.Tb(66,"button",23),l.Jc(67,"Guardar"),l.Sb(),l.Sb(),l.Sb()),2&o&&(l.zb(5),l.kc("formGroup",t.myFormcont),l.zb(11),l.kc("ngClass",l.oc(19,R,t.f.nombre.errors&&t.submitEnviado)),l.zb(2),l.kc("ngIf",t.f.nombre.errors&&t.submitEnviado),l.zb(4),l.kc("ngClass",l.oc(21,R,t.f.apellidoPaterno.errors&&t.submitEnviado)),l.zb(1),l.kc("ngIf",t.f.apellidoPaterno.errors&&t.submitEnviado),l.zb(8),l.kc("ngClass",l.oc(23,R,(null==t.f.curp.errors?null:t.f.curp.errors.pattern)&&t.f.curp.touched)),l.zb(1),l.kc("ngIf",(null==t.f.curp.errors?null:t.f.curp.errors.pattern)&&t.f.curp.touched),l.zb(8),l.kc("minusculas",!0)("ngClass",l.oc(25,R,(null==t.f.emailCorporativo.errors?null:t.f.emailCorporativo.errors.required)&&t.submitEnviado||(null==t.f.emailCorporativo.errors?null:t.f.emailCorporativo.errors.email)&&t.f.emailCorporativo.touched)),l.zb(1),l.kc("ngIf",(null==t.f.emailCorporativo.errors?null:t.f.emailCorporativo.errors.required)&&t.submitEnviado),l.zb(1),l.kc("ngIf",(null==t.f.emailCorporativo.errors?null:t.f.emailCorporativo.errors.email)&&t.f.emailCorporativo.touched),l.zb(4),l.kc("minusculas",!0)("ngClass",l.oc(27,R,(null==t.f.contactoInicialEmailPersonal.errors?null:t.f.contactoInicialEmailPersonal.errors.required)&&t.submitEnviado||(null==t.f.contactoInicialEmailPersonal.errors?null:t.f.contactoInicialEmailPersonal.errors.email)&&t.f.contactoInicialEmailPersonal.touched)),l.zb(1),l.kc("ngIf",(null==t.f.contactoInicialEmailPersonal.errors?null:t.f.contactoInicialEmailPersonal.errors.required)&&t.submitEnviado),l.zb(1),l.kc("ngIf",(null==t.f.contactoInicialEmailPersonal.errors?null:t.f.contactoInicialEmailPersonal.errors.email)&&t.f.contactoInicialEmailPersonal.touched),l.zb(4),l.kc("ngClass",l.oc(29,R,t.f.contactoInicialTelefono.errors&&t.submitEnviado)),l.zb(1),l.kc("ngIf",t.f.contactoInicialTelefono.errors&&t.submitEnviado),l.zb(4),l.kc("ngClass",l.oc(31,R,t.f.celular.errors&&t.submitEnviado)),l.zb(1),l.kc("ngIf",t.f.celular.errors&&t.submitEnviado))},directives:[e.y,e.m,e.f,e.b,e.l,e.e,C.a,k.a,n.k,n.m,e.h,E.a],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.button-outlet[_ngcontent-%COMP%]{background-color:initial!important}.titulo[_ngcontent-%COMP%]{margin-top:1em}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}"]}),o})()}]}];let V=(()=>{class o{}return o.\u0275mod=l.Lb({type:o}),o.\u0275inj=l.Kb({factory:function(t){return new(t||o)},imports:[[r.i.forChild(L)],r.i]}),o})();var G=a("HaJA"),U=a("pKmL");let B=(()=>{class o{}return o.\u0275mod=l.Lb({type:o}),o.\u0275inj=l.Kb({factory:function(t){return new(t||o)},providers:[c.a],imports:[[n.c,V,G.a,e.g,e.u,U.a]]}),o})()}}]);
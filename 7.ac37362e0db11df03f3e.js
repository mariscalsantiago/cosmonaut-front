(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BYiI:function(e,t,o){"use strict";o.r(t),o.d(t,"UsuariosModule",function(){return me});var i=o("3Pt+"),n=o("DlAn"),a=o("ofXK"),r=o("tyNb"),c=o("fXoL"),l=o("t09X"),s=o("i9e2");function b(e,t){1&e&&c.Ob(0,"i",45)}function u(e,t){1&e&&c.Ob(0,"i",46)}function d(e,t){if(1&e){const e=c.Ub();c.Tb(0,"button",41),c.ac("click",function(){c.yc(e);const t=c.ec();return t.changeIconDown=!t.changeIconDown}),c.Tb(1,"label",42),c.Ic(2,"B\xdaSQUEDA"),c.Sb(),c.Gc(3,b,1,0,"i",43),c.Gc(4,u,1,0,"i",44),c.Sb()}if(2&e){const e=c.ec();c.zb(3),c.kc("ngIf",e.changeIconDown),c.zb(1),c.kc("ngIf",!e.changeIconDown)}}function m(e,t){1&e&&(c.Tb(0,"button",47),c.Tb(1,"label",48),c.Ic(2,"B\xdaSQUEDA"),c.Sb(),c.Sb())}function g(e,t){if(1&e&&(c.Tb(0,"option",49),c.Ic(1),c.Sb()),2&e){const e=t.$implicit;c.kc("value",e.centrocClienteId),c.zb(1),c.Jc(e.nombre)}}function p(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",50),c.Tb(1,"button",51),c.ac("click",function(){return c.yc(e),c.ec().verdetalle(void 0)}),c.Ob(2,"i",52),c.Ic(3,"Agregar "),c.Sb(),c.Sb()}}function f(e,t){if(1&e){const e=c.Ub();c.Tb(0,"button",59),c.ac("click",function(){return c.yc(e),c.ec(2).guardarMultiseleccion(!1)}),c.Ic(1,"Desactivar"),c.Sb()}}function h(e,t){1&e&&(c.Tb(0,"span"),c.Ic(1,"Activar"),c.Sb())}function v(e,t){1&e&&(c.Tb(0,"div",60),c.Ob(1,"span",61),c.Sb())}function I(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",53),c.Tb(1,"div",54),c.Gc(2,f,2,0,"button",55),c.Tb(3,"button",56),c.ac("click",function(){return c.yc(e),c.ec().guardarMultiseleccion(!0)}),c.Gc(4,h,2,0,"span",57),c.Gc(5,v,2,0,"div",58),c.Sb(),c.Sb(),c.Sb()}if(2&e){const e=c.ec();c.zb(2),c.kc("ngIf",!e.multiseleccionloading),c.zb(2),c.kc("ngIf",!e.multiseleccionloading),c.zb(1),c.kc("ngIf",e.multiseleccionloading)}}function S(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",62),c.Tb(1,"input",63,64),c.ac("change",function(){c.yc(e);const t=c.vc(2);return c.ec().seleccionarTodosBool(t)}),c.Sb(),c.Tb(3,"label",65),c.Ic(4,"Seleccionar todos"),c.Sb(),c.Sb()}}function T(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",66),c.Tb(1,"div",67),c.Tb(2,"div",68),c.Tb(3,"label",69),c.Ic(4,"Elementos"),c.Sb(),c.Sb(),c.Tb(5,"select",70),c.ac("ngModelChange",function(t){return c.yc(e),c.ec().numeroitems=t})("change",function(){return c.yc(e),c.ec().cambia()}),c.Tb(6,"option",71),c.Ic(7,"5"),c.Sb(),c.Tb(8,"option",72),c.Ic(9,"20"),c.Sb(),c.Tb(10,"option",73),c.Ic(11,"50"),c.Sb(),c.Tb(12,"option",74),c.Ic(13,"100"),c.Sb(),c.Sb(),c.Sb(),c.Sb()}if(2&e){const e=c.ec();c.zb(5),c.kc("ngModel",e.numeroitems)}}function C(e,t){1&e&&(c.Tb(0,"span"),c.Ic(1,"Activo"),c.Sb())}function k(e,t){1&e&&(c.Tb(0,"th",76),c.Ic(1,"Apellido paterno"),c.Sb())}function y(e,t){1&e&&(c.Tb(0,"th",76),c.Ic(1,"Apellido materno"),c.Sb())}function M(e,t){1&e&&(c.Tb(0,"th",76),c.Ic(1,"Centro de costos"),c.Sb())}function z(e,t){1&e&&(c.Tb(0,"th",76),c.Ic(1,"Correo empresarial"),c.Sb())}function P(e,t){1&e&&(c.Tb(0,"th",76),c.Ic(1,"Fecha de registro"),c.Sb())}function w(e,t){1&e&&(c.Tb(0,"th",76),c.Ic(1,"Activo"),c.Sb())}function x(e,t){1&e&&(c.Tb(0,"th",80),c.Ic(1,"Opciones"),c.Sb())}function O(e,t){if(1&e&&(c.Tb(0,"td"),c.Ic(1),c.Sb()),2&e){const e=c.ec().$implicit;c.zb(1),c.Jc(e.apellidoPaterno)}}function A(e,t){if(1&e&&(c.Tb(0,"td"),c.Ic(1),c.Sb()),2&e){const e=c.ec().$implicit;c.zb(1),c.Jc(e.apellidoMaterno)}}function G(e,t){if(1&e&&(c.Tb(0,"td"),c.Ic(1),c.Sb()),2&e){const e=c.ec().$implicit;c.zb(1),c.Jc(e.centrocClienteId.nombre)}}function N(e,t){if(1&e&&(c.Tb(0,"td"),c.Ic(1),c.Sb()),2&e){const e=c.ec().$implicit;c.zb(1),c.Jc(e.emailCorporativo)}}function D(e,t){if(1&e&&(c.Tb(0,"td"),c.Ic(1),c.Sb()),2&e){const e=c.ec().$implicit;c.zb(1),c.Jc(e.fechaAlta)}}function F(e,t){if(1&e&&(c.Tb(0,"td"),c.Ic(1),c.Sb()),2&e){const e=c.ec().$implicit;c.zb(1),c.Jc(e.activo?"Activo":"Inactivo")}}function E(e,t){if(1&e){const e=c.Ub();c.Tb(0,"td",84),c.Tb(1,"button"),c.Ob(2,"i",85),c.Sb(),c.Tb(3,"button",86),c.ac("click",function(){c.yc(e);const t=c.ec().$implicit;return c.ec(2).verdetalle(t)}),c.Ob(4,"i",87),c.Sb(),c.Sb()}}function _(e,t){if(1&e&&(c.Tb(0,"tr"),c.Tb(1,"th",81),c.Tb(2,"input",82),c.ac("ngModelChange",function(e){return t.$implicit.esActivo=e}),c.Sb(),c.Sb(),c.Tb(3,"td"),c.Ic(4),c.Sb(),c.Tb(5,"td"),c.Ic(6),c.Sb(),c.Gc(7,O,2,1,"td",57),c.Gc(8,A,2,1,"td",57),c.Gc(9,G,2,1,"td",57),c.Gc(10,N,2,1,"td",57),c.Gc(11,D,2,1,"td",57),c.Gc(12,F,2,1,"td",57),c.Gc(13,E,5,0,"td",83),c.Sb()),2&e){const e=t.$implicit,o=c.ec(2);c.zb(2),c.kc("ngModel",e.esActivo),c.zb(2),c.Kc("",e.personaId," "),c.zb(2),c.Kc("",e.nombre," "),c.zb(1),c.kc("ngIf",o.tamanio>=600),c.zb(1),c.kc("ngIf",o.tamanio>=600),c.zb(1),c.kc("ngIf",o.tamanio>=600),c.zb(1),c.kc("ngIf",o.tamanio>=600),c.zb(1),c.kc("ngIf",o.tamanio>=600),c.zb(1),c.kc("ngIf",o.tamanio>=600),c.zb(1),c.kc("ngIf",!o.multiseleccion)}}function U(e,t){if(1&e&&(c.Tb(0,"table",75),c.Tb(1,"thead"),c.Tb(2,"tr"),c.Tb(3,"th",76),c.Gc(4,C,2,0,"span",57),c.Sb(),c.Tb(5,"th",76),c.Ic(6,"ID"),c.Sb(),c.Tb(7,"th",76),c.Ic(8,"Nombre"),c.Sb(),c.Gc(9,k,2,0,"th",77),c.Gc(10,y,2,0,"th",77),c.Gc(11,M,2,0,"th",77),c.Gc(12,z,2,0,"th",77),c.Gc(13,P,2,0,"th",77),c.Gc(14,w,2,0,"th",77),c.Gc(15,x,2,0,"th",78),c.Sb(),c.Sb(),c.Tb(16,"tbody"),c.Gc(17,_,14,10,"tr",79),c.Sb(),c.Sb()),2&e){const e=c.ec();c.zb(4),c.kc("ngIf",e.multiseleccion),c.zb(5),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngIf",e.tamanio>=600),c.zb(1),c.kc("ngIf",!e.multiseleccion),c.zb(2),c.kc("ngForOf",e.arreglo)}}function R(e,t){1&e&&(c.Tb(0,"div",88),c.Tb(1,"strong"),c.Ic(2,"En este momento no existen registros"),c.Sb(),c.Sb())}const j=function(e){return{active:e}};function q(e,t){if(1&e){const e=c.Ub();c.Tb(0,"li",97),c.ac("click",function(){c.yc(e);const o=t.$implicit;return c.ec(2).paginacambiar(o)}),c.Tb(1,"a",96),c.Ic(2),c.Sb(),c.Sb()}if(2&e){const e=t.$implicit;c.kc("ngClass",c.oc(2,j,e.activado)),c.zb(2),c.Jc(e.mostrar)}}function L(e,t){if(1&e&&(c.Tb(0,"div",89),c.Tb(1,"div",90),c.Tb(2,"nav",91),c.Tb(3,"ul",92),c.Tb(4,"li",93),c.Tb(5,"a",94),c.Ic(6,"Antes"),c.Sb(),c.Sb(),c.Gc(7,q,3,4,"li",95),c.Tb(8,"li",93),c.Tb(9,"a",96),c.Ic(10,"Siguiente"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e){const e=c.ec();c.zb(7),c.kc("ngForOf",e.arreglopaginas)}}function B(e,t){1&e&&(c.Tb(0,"div",98),c.Ob(1,"img",99),c.Sb())}const $=function(e){return{show:e}};let J=(()=>{class e{constructor(e,t,o,i){this.routerPrd=e,this.usuariosPrd=t,this.companiPrd=o,this.modalPrd=i,this.cargando=!1,this.tipoguardad=!1,this.multiseleccion=!1,this.multiseleccionloading=!1,this.numeroitems=5,this.arreglotemp=[],this.arreglopaginas=[],this.id_company=0,this.idUsuario="",this.nombre="",this.apellidoPat="",this.apellidoMat="",this.fechaRegistro=null,this.correoempresarial="",this.activo=0,this.arreglo=[],this.arregloCompany=[],this.tamanio=0,this.changeIconDown=!1}onResize(e){this.tamanio=e.target.innerWidth}ngOnInit(){let e=document.defaultView;this.tamanio=e.innerWidth,this.cargando=!0,this.usuariosPrd.getAllUsers().subscribe(e=>{this.arreglotemp=e.datos,console.log(e);for(let t of this.arreglotemp)t.fechaAlta=new Date(t.fechaAlta).toUTCString().replace(" 00:00:00 GMT",""),t.fechaAlta=new Date(t.fechaAlta).toLocaleDateString();this.cargando=!1,void 0===this.arreglotemp||this.paginar()}),this.companiPrd.getAllCompany().subscribe(e=>this.arregloCompany=e.datos)}verdetalle(e){this.routerPrd.navigate(null==e?["usuarios","detalle_usuario","agregar"]:["usuarios","detalle_usuario","actualizar",e.personaId],{state:{company:this.arregloCompany}})}activarMultiseleccion(){this.multiseleccion=!0;let e=[];for(let t of this.arreglotemp){let o={};for(let e in t)o[e]=t[e];e.push(o)}this.arreglo=e}guardarMultiseleccion(e){this.tipoguardad=e,this.modalPrd.showMessageDialog(this.modalPrd.warning,`\xbfDeseas ${e?"activar":"desactivar"} estos usuarios?`).then(e=>{if(e){let e=[];for(let t of this.arreglotemp)t.esActivo&&e.push({personaId:t.personaId,activo:this.tipoguardad});this.usuariosPrd.modificarListaActivos(e).subscribe(t=>{this.modalPrd.showMessageDialog(t.resultado,t.mensaje);for(let o of e)for(let e of this.arreglotemp)if(e.personaId===o.personaId){e.activo=o.activo,e.esActivo=!1;break}})}})}cancelarMulti(){this.multiseleccionloading=!1,this.multiseleccion=!1,this.paginar()}filtrar(){this.cargando=!0;let e="";null==this.fechaRegistro&&null==this.fechaRegistro||""!=this.fechaRegistro&&(e=""+new Date(this.fechaRegistro).getTime());let t="";1==this.activo?t="true":2==this.activo&&(t="false"),this.usuariosPrd.filtrar({personaId:this.idUsuario,nombre:this.nombre,apellidoPaterno:this.apellidoPat,apellidoMaterno:this.apellidoMat,fechaAlta:e,emailCorporativo:this.correoempresarial,activo:"",centrocClienteId:{centrocClienteId:0==this.id_company?"":this.id_company},tipoPersonaId:{tipoPersonaId:3}}).subscribe(e=>{if(this.arreglotemp=e.datos,null!=this.arreglotemp)for(let t of this.arreglotemp)t.centrocClienteId={nombre:t.razonSocial},console.log(t),t.fechaAlta=new Date(t.fechaAlta).toUTCString().replace(" 00:00:00 GMT",""),t.fechaAlta=new Date(t.fechaAlta).toLocaleDateString();else this.arreglo=void 0;this.paginar(),this.cargando=!1})}paginar(){if(this.arreglopaginas=[],null!=this.arreglotemp){let e=this.arreglotemp.length/Number(this.numeroitems),t=!0;e=Math.ceil(e);for(let o=1;o<=e;o++)this.arreglopaginas.push({numeropagina:(o-1)*Number(this.numeroitems),llavepagina:(o-1)*Number(this.numeroitems)+Number(this.numeroitems),mostrar:o,activado:t}),t=!1;this.arreglo=this.arreglotemp.slice(0,Number(this.numeroitems)),console.log(this.arreglotemp)}}paginacambiar(e){this.arreglo=this.arreglotemp.slice(e.numeropagina,e.llavepagina);for(let t of this.arreglopaginas)t.activado=!1;e.activado=!0}cambia(){this.paginar()}seleccionarTodosBool(e){for(let t of this.arreglo)t.esActivo=e.checked}verificaDisponibilidad(){let e=!1;if(void 0!==this.arreglotemp)for(let t of this.arreglotemp){if(t.esActivo){e=!0;break}e=!1}return e}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(r.e),c.Nb(n.a),c.Nb(l.a),c.Nb(s.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-usuarios"]],hostBindings:function(e,t){1&e&&c.ac("resize",function(e){return t.onResize(e)},!1,c.xc)},decls:58,vars:22,consts:[[1,"row","margen","titulosfijos"],[1,"col","titulo-outlet"],[1,"scrooll-design"],[1,"margen"],["id","accordionFiltro"],["id","accordion"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["style","width: 100%;","class","btn btn-link aparece-movil","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",3,"click",4,"ngIf"],["class","btn btn-link aparece-desktop-inline-block",4,"ngIf"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse",3,"ngClass"],[1,"card-body"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4","col-xl-3"],["type","number","placeholder","Id usuario",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Apellido paterno",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Apellido materno",1,"form-control",3,"ngModel","ngModelChange"],["type","Date","placeholder","Fecha de registro",1,"form-control",3,"ngModel","ngModelChange"],["name","","id","",1,"form-control",3,"ngModel","ngModelChange"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Correo empresarial",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-sm","mb-3","col-12","col-sm-12","col-lg-4","col-xl-3"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"input-group-sm","mb-3","text-right","col-12","col-lg-2","col-xl-12"],["type","button",1,"btn","btn-primary","button-outlet",3,"click"],[1,"row","margen"],[1,"col","titulo"],["class","col text-right",4,"ngIf"],["class","row text-right margin botonmultiseleccion",4,"ngIf"],[1,"row","margen","margen-tabla","background-panel"],["class","form-check ml-4 mt-4",4,"ngIf"],["class","row  margen mt-3","style","margin-bottom: -25px;",4,"ngIf"],["class","table table-hover table-responsive",4,"ngIf"],["class","alert acol text-center",4,"ngIf"],["class","row","style","width: 100%;",4,"ngIf"],["class","col text-center mb-5",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","aparece-movil",2,"width","100%",3,"click"],[1,"titulo",2,"width","80%","float","left","text-align","left"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-up ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-down ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up",2,"width","10%","float","right","color","#00C1AF"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down",2,"width","10%","float","right","color","#00C1AF"],[1,"btn","btn-link","aparece-desktop-inline-block"],[1,"titulo"],[3,"value"],[1,"col","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],[1,"row","text-right","margin","botonmultiseleccion"],[1,"col-12"],["type","button","class","btn btn-primary button-outlet mr-2",3,"click",4,"ngIf"],["type","button",1,"btn","heartbeathand","btn-primary","button-fill","agrandarloading",3,"click"],[4,"ngIf"],["role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","button-outlet","mr-2",3,"click"],["role","status"],[1,"spinner-border"],[1,"form-check","ml-4","mt-4"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"change"],["valor",""],["for","exampleCheck1",1,"form-check-label"],[1,"row","margen","mt-3",2,"margin-bottom","-25px"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["id","inputGroupSelect01",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","5","selected",""],["value","20","selected",""],["value","50"],["value","100"],[1,"table","table-hover","table-responsive"],["scope","col"],["scope","col",4,"ngIf"],["scope","col ",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col "],["scope","row"],["type","checkbox","name","inlineRadioOptions","id","radio1","value","option1",3,"ngModel","ngModelChange"],["class","opciones",4,"ngIf"],[1,"opciones"],[1,"icon_ver","primary-bg"],[3,"click"],[1,"icon_editar","primary-bg"],[1,"alert","acol","text-center"],[1,"row",2,"width","100%"],[1,"col"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item","disabled"],["href","#","tabindex","-1","aria-disabled","true",1,"page-link"],["class","page-item ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"page-link"],[1,"page-item",3,"ngClass","click"],[1,"col","text-center","mb-5"],["width","60px","height","60px","src","assets/imgs/loading_nomina.gif","alt",""]],template:function(e,t){1&e&&(c.Tb(0,"div"),c.Tb(1,"div",0),c.Tb(2,"div",1),c.Tb(3,"label"),c.Ic(4,"LISTA DE USUARIOS"),c.Sb(),c.Sb(),c.Sb(),c.Tb(5,"div",2),c.Tb(6,"div",3),c.Tb(7,"div",4),c.Tb(8,"div",5),c.Tb(9,"div",6),c.Tb(10,"div",7),c.Tb(11,"h5",8),c.Gc(12,d,5,2,"button",9),c.Gc(13,m,3,0,"button",10),c.Sb(),c.Sb(),c.Tb(14,"div",11),c.Tb(15,"div",12),c.Tb(16,"div",13),c.Tb(17,"div",14),c.Tb(18,"input",15),c.ac("ngModelChange",function(e){return t.idUsuario=e}),c.Sb(),c.Sb(),c.Tb(19,"div",14),c.Tb(20,"input",16),c.ac("ngModelChange",function(e){return t.nombre=e}),c.Sb(),c.Sb(),c.Tb(21,"div",14),c.Tb(22,"input",17),c.ac("ngModelChange",function(e){return t.apellidoPat=e}),c.Sb(),c.Sb(),c.Tb(23,"div",14),c.Tb(24,"input",18),c.ac("ngModelChange",function(e){return t.apellidoMat=e}),c.Sb(),c.Sb(),c.Tb(25,"div",14),c.Tb(26,"input",19),c.ac("ngModelChange",function(e){return t.fechaRegistro=e}),c.Sb(),c.Sb(),c.Tb(27,"div",14),c.Tb(28,"select",20),c.ac("ngModelChange",function(e){return t.id_company=e}),c.Tb(29,"option",21),c.Ic(30,"Seleccionar compa\xf1\xeda"),c.Sb(),c.Gc(31,g,2,2,"option",22),c.Sb(),c.Sb(),c.Tb(32,"div",14),c.Tb(33,"input",23),c.ac("ngModelChange",function(e){return t.correoempresarial=e}),c.Sb(),c.Sb(),c.Tb(34,"div",24),c.Tb(35,"select",25),c.ac("ngModelChange",function(e){return t.activo=e}),c.Tb(36,"option",21),c.Ic(37,"Ambos"),c.Sb(),c.Tb(38,"option",26),c.Ic(39,"Activo"),c.Sb(),c.Tb(40,"option",27),c.Ic(41,"Inactivo"),c.Sb(),c.Sb(),c.Sb(),c.Tb(42,"div",28),c.Tb(43,"button",29),c.ac("click",function(){return t.filtrar()}),c.Ic(44,"FILTRAR"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(45,"div",30),c.Tb(46,"div",31),c.Tb(47,"label"),c.Ic(48,"RESULTADOS"),c.Sb(),c.Sb(),c.Gc(49,p,4,0,"div",32),c.Sb(),c.Gc(50,I,6,3,"div",33),c.Tb(51,"div",34),c.Gc(52,S,5,0,"div",35),c.Gc(53,T,14,1,"div",36),c.Gc(54,U,18,9,"table",37),c.Gc(55,R,3,0,"div",38),c.Gc(56,L,11,1,"div",39),c.Gc(57,B,2,0,"div",40),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.zb(12),c.kc("ngIf",t.tamanio<600),c.zb(1),c.kc("ngIf",t.tamanio>=600),c.zb(1),c.kc("ngClass",c.oc(20,$,t.tamanio>600)),c.zb(4),c.kc("ngModel",t.idUsuario),c.zb(2),c.kc("ngModel",t.nombre),c.zb(2),c.kc("ngModel",t.apellidoPat),c.zb(2),c.kc("ngModel",t.apellidoMat),c.zb(2),c.kc("ngModel",t.fechaRegistro),c.zb(2),c.kc("ngModel",t.id_company),c.zb(3),c.kc("ngForOf",t.arregloCompany),c.zb(2),c.kc("ngModel",t.correoempresarial),c.zb(2),c.kc("ngModel",t.activo),c.zb(14),c.kc("ngIf",!t.multiseleccion),c.zb(1),c.kc("ngIf",t.verificaDisponibilidad()),c.zb(2),c.kc("ngIf",t.multiseleccion),c.zb(1),c.kc("ngIf",!t.cargando&&void 0!==t.arreglo&&!t.multiseleccion),c.zb(1),c.kc("ngIf",!t.cargando&&void 0!==t.arreglo),c.zb(1),c.kc("ngIf",!t.cargando&&void 0===t.arreglo),c.zb(1),c.kc("ngIf",!t.cargando&&void 0!==t.arreglo&&!t.multiseleccion),c.zb(1),c.kc("ngIf",t.cargando))},directives:[a.m,a.k,i.q,i.b,i.l,i.o,i.v,i.p,i.x,a.l,i.a],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.button-outlet[_ngcontent-%COMP%]{background-color:initial!important}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#616060}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}"]}),e})();var H=o("dkea"),V=o("gYgu"),K=o("cCUj");const X=["centroCliente"],Z=["nombre"];function Q(e,t){if(1&e&&(c.Tb(0,"option",32),c.Ic(1),c.Sb()),2&e){const e=t.$implicit;c.kc("value",e.centrocClienteId),c.zb(1),c.Jc(e.nombre)}}function Y(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Campo requerido "),c.Sb())}function W(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Campo requerido "),c.Sb())}function ee(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Campo requerido "),c.Sb())}function te(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," CURP inv\xe1lida, favor de verificar "),c.Sb())}function oe(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Campo requerido "),c.Sb())}function ie(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Correo empresarial inv\xe1lido, Favor de verificar "),c.Sb())}function ne(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Campo requerido "),c.Sb())}function ae(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Correo personal inv\xe1lido, Favor de verificar "),c.Sb())}function re(e,t){1&e&&(c.Tb(0,"div",33),c.Ic(1," Campo requerido "),c.Sb())}const ce=function(e){return{"is-invalid":e}};let le=(()=>{class e{constructor(e,t,o,i,n){this.formBuilder=e,this.usuariosPrd=t,this.routerActivePrd=o,this.routerPrd=i,this.modalPrd=n,this.tamanio=0,this.insertar=!1,this.fechaActual="",this.objusuario={},this.summitenviado=!1;let r=new a.f("en-MX"),c=new Date;this.fechaActual=r.transform(c,"dd/MM/yyyy")}onResize(e){this.tamanio=e.target.innerHeight,console.log(this.tamanio)}ngOnInit(){this.arregloCompany=null==history.state.company?[]:history.state.company,this.verificarCompaniasExista(),this.routerActivePrd.params.subscribe(e=>{let t=e.idusuario;this.insertar=null==t,null!=t&&this.usuariosPrd.getById(t).subscribe(e=>{this.objusuario=e.datos,console.log(this.objusuario),this.objusuario.fechaAlta=new Date(this.objusuario.fechaAlta).toUTCString().replace(" 00:00:00 GMT",""),this.objusuario.fechaAlta=new Date(this.objusuario.fechaAlta).toLocaleDateString(),this.myForm=this.createForm(this.objusuario)})}),this.objusuario.centrocClienteId={},this.myForm=this.createForm(this.objusuario)}ngAfterViewInit(){this.insertar?this.centrocliente.nativeElement.focus():this.nombre.nativeElement.focus()}verificarCompaniasExista(){(null==this.arregloCompany||0==this.arregloCompany.length)&&this.cancelar()}createForm(e){return this.formBuilder.group({nombre:[e.nombre,[i.w.required]],apellidoPat:[e.apellidoPaterno,[i.w.required]],apellidoMat:[e.apellidoMaterno],curp:[e.curp,i.w.pattern(/^([A-Z][AEIOUX][A-Z]{2}\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\d])(\d)$/)],emailCorp:[e.emailCorporativo,[i.w.required,i.w.email]],ciEmailPersonal:[e.contactoInicialEmailPersonal,[i.w.required,i.w.email]],ciTelefono:[e.contactoInicialTelefono,[i.w.required]],fechaAlta:[{value:this.insertar?this.fechaActual:e.fechaAlta,disabled:!0},[i.w.required]],centrocClienteId:[{value:e.centrocClienteId.centrocClienteId,disabled:!this.insertar},[i.w.required]],esActivo:[{value:!!this.insertar||e.activo,disabled:this.insertar},[i.w.required]],personaId:e.personaId})}enviarPeticion(){this.summitenviado=!0,this.myForm.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.insertar?"\xbfDeseas registrar el usuario?":"\xbfDeseas actualizar los datos del usuario?").then(e=>{if(e){let e=this.myForm.value,t={nombre:e.nombre,apellidoPaterno:e.apellidoPat,apellidoMaterno:e.apellidoMat,curp:e.curp,emailCorporativo:e.emailCorp,contactoInicialEmailPersonal:e.ciEmailPersonal,contactoInicialTelefono:e.ciTelefono,centrocClienteId:{centrocClienteId:e.centrocClienteId}};this.insertar?this.usuariosPrd.save(t).subscribe(e=>{this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>this.routerPrd.navigate(["/usuarios"]))}):(t.personaId=e.personaId,t.centrocClienteId.centrocClienteId=this.objusuario.centrocClienteId.centrocClienteId,this.usuariosPrd.modificar(t).subscribe(e=>{this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>this.routerPrd.navigate(["/usuarios"]))}))}})}get f(){return this.myForm.controls}cancelar(){this.routerPrd.navigate(["/usuarios"])}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(i.c),c.Nb(n.a),c.Nb(r.a),c.Nb(r.e),c.Nb(s.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-detalle-usuario"]],viewQuery:function(e,t){if(1&e&&(c.Oc(X,!0),c.Oc(Z,!0)),2&e){let e;c.uc(e=c.bc())&&(t.centrocliente=e.first),c.uc(e=c.bc())&&(t.nombre=e.first)}},hostBindings:function(e,t){1&e&&c.ac("resize",function(e){return t.onResize(e)},!1,c.xc)},decls:81,vars:35,consts:[[1,"row","margen"],[1,"col","titulo-outlet"],["routerLink","/usuarios",1,"fas","fa-chevron-left","aparece-movil-inline-block"],[1,"form-desing",3,"formGroup","ngSubmit"],["type","hidden","formControlName","personaId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar"],[1,"form-group","row","margen"],[1,"titulo"],[1,"input-group-sm","mb-3","col-12","col-sm-8","col-lg-8"],["for","exampleFormControlSelect1"],["formControlName","centrocClienteId","id","exampleFormControlSelect1",1,"form-control",3,"disabled","ngClass"],["centroCliente",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4"],["appMayusculas","","formControlName","nombre","type","text","placeholder","",1,"form-control",3,"ngClass"],["nombre",""],["formControlName","apellidoPat","appMayusculas","","type","text","placeholder","",1,"form-control",3,"ngClass"],["formControlName","apellidoMat","appMayusculas","","type","text","placeholder","",1,"form-control"],["formControlName","curp","maxlength","18","type","text","placeholder","",1,"form-control",3,"ngClass"],[1,"form","group","row","margen"],["appMayusculas","","formControlName","emailCorp","type","email","placeholder","",1,"form-control",3,"minusculas","ngClass"],["appMayusculas","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","formControlName","ciEmailPersonal","type","email","placeholder","",1,"form-control","text-lowercase",3,"minusculas","ngClass"],["appSolonumeros","","formControlName","ciTelefono","maxlength","10","type","text","placeholder","",1,"form-control",3,"ngClass"],["formControlName","fechaAlta","type","text","placeholder","",1,"form-control"],[1,"input-group-sm","mb-4","col-12","col-sm-6","col-lg-4"],["formControlName","esActivo",1,"form-control"],["value","true","selected",""],["value","false"],[1,"text-center","margin",2,"margin-bottom","20px"],[1,"btn","btn-primary","button-outlet","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","button-fill"],[3,"value"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"label"),c.Ob(3,"i",2),c.Ic(4,"INFORMACI\xd3N B\xc1SICA"),c.Sb(),c.Sb(),c.Sb(),c.Ob(5,"hr"),c.Tb(6,"form",3),c.ac("ngSubmit",function(){return t.enviarPeticion()}),c.Ob(7,"input",4),c.Tb(8,"div",5),c.Tb(9,"div",6),c.Tb(10,"label",7),c.Ic(11,"Informaci\xf3n de Usuario"),c.Sb(),c.Sb(),c.Tb(12,"div",6),c.Tb(13,"div",8),c.Tb(14,"label",9),c.Ic(15,"Compa\xf1ia *"),c.Sb(),c.Tb(16,"select",10,11),c.Gc(18,Q,2,2,"option",12),c.Sb(),c.Gc(19,Y,2,0,"div",13),c.Sb(),c.Sb(),c.Tb(20,"div",6),c.Tb(21,"div",14),c.Tb(22,"label"),c.Ic(23,"Nombre *"),c.Sb(),c.Ob(24,"input",15,16),c.Gc(26,W,2,0,"div",13),c.Sb(),c.Tb(27,"div",14),c.Tb(28,"label"),c.Ic(29,"Apellido paterno *"),c.Sb(),c.Ob(30,"input",17),c.Gc(31,ee,2,0,"div",13),c.Sb(),c.Tb(32,"div",14),c.Tb(33,"label"),c.Ic(34,"Apellido materno"),c.Sb(),c.Ob(35,"input",18),c.Sb(),c.Tb(36,"div",14),c.Tb(37,"label"),c.Ic(38,"CURP"),c.Sb(),c.Ob(39,"input",19),c.Gc(40,te,2,0,"div",13),c.Sb(),c.Sb(),c.Ob(41,"hr"),c.Tb(42,"div",6),c.Tb(43,"label",7),c.Ic(44,"Contacto"),c.Sb(),c.Sb(),c.Tb(45,"div",20),c.Tb(46,"div",14),c.Tb(47,"label"),c.Ic(48,"Correo empresarial *"),c.Sb(),c.Ob(49,"input",21),c.Gc(50,oe,2,0,"div",13),c.Gc(51,ie,2,0,"div",13),c.Sb(),c.Tb(52,"div",14),c.Tb(53,"label"),c.Ic(54,"Correo personal *"),c.Sb(),c.Ob(55,"input",22),c.Gc(56,ne,2,0,"div",13),c.Gc(57,ae,2,0,"div",13),c.Sb(),c.Tb(58,"div",14),c.Tb(59,"label"),c.Ic(60,"Tel\xe9fono *"),c.Sb(),c.Ob(61,"input",23),c.Gc(62,re,2,0,"div",13),c.Sb(),c.Tb(63,"div",14),c.Tb(64,"label"),c.Ic(65,"Fecha de registro *"),c.Sb(),c.Ob(66,"input",24),c.Sb(),c.Tb(67,"div",25),c.Tb(68,"label",9),c.Ic(69,"Estado *"),c.Sb(),c.Tb(70,"select",26),c.Tb(71,"option",27),c.Ic(72,"ACTIVO"),c.Sb(),c.Tb(73,"option",28),c.Ic(74,"INACTIVO"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Ob(75,"hr"),c.Sb(),c.Tb(76,"div",29),c.Tb(77,"button",30),c.ac("click",function(){return t.cancelar()}),c.Ic(78,"Cancelar"),c.Sb(),c.Tb(79,"button",31),c.Ic(80,"Guardar"),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.zb(6),c.kc("formGroup",t.myForm),c.zb(10),c.kc("disabled",!t.insertar)("ngClass",c.oc(21,ce,t.f.centrocClienteId.errors&&t.summitenviado)),c.zb(2),c.kc("ngForOf",t.arregloCompany),c.zb(1),c.kc("ngIf",t.f.centrocClienteId.errors&&t.summitenviado),c.zb(5),c.kc("ngClass",c.oc(23,ce,t.f.nombre.errors&&t.summitenviado)),c.zb(2),c.kc("ngIf",t.f.nombre.errors&&t.summitenviado),c.zb(4),c.kc("ngClass",c.oc(25,ce,t.f.apellidoPat.errors&&t.summitenviado)),c.zb(1),c.kc("ngIf",t.f.apellidoPat.errors&&t.summitenviado),c.zb(8),c.kc("ngClass",c.oc(27,ce,(null==t.f.curp.errors?null:t.f.curp.errors.pattern)&&t.f.curp.touched)),c.zb(1),c.kc("ngIf",(null==t.f.curp.errors?null:t.f.curp.errors.pattern)&&t.f.curp.touched),c.zb(9),c.kc("minusculas",!0)("ngClass",c.oc(29,ce,(null==t.f.emailCorp.errors?null:t.f.emailCorp.errors.email)&&t.f.emailCorp.touched||(null==t.f.emailCorp.errors?null:t.f.emailCorp.errors.required)&&t.summitenviado)),c.zb(1),c.kc("ngIf",(null==t.f.emailCorp.errors?null:t.f.emailCorp.errors.required)&&t.summitenviado),c.zb(1),c.kc("ngIf",(null==t.f.emailCorp.errors?null:t.f.emailCorp.errors.email)&&t.f.emailCorp.touched),c.zb(4),c.kc("minusculas",!0)("ngClass",c.oc(31,ce,(null==t.f.ciEmailPersonal.errors?null:t.f.ciEmailPersonal.errors.email)&&t.f.ciEmailPersonal.touched||(null==t.f.ciEmailPersonal.errors?null:t.f.ciEmailPersonal.errors.required)&&t.summitenviado)),c.zb(1),c.kc("ngIf",(null==t.f.ciEmailPersonal.errors?null:t.f.ciEmailPersonal.errors.required)&&t.summitenviado),c.zb(1),c.kc("ngIf",(null==t.f.ciEmailPersonal.errors?null:t.f.ciEmailPersonal.errors.email)&&t.f.ciEmailPersonal.touched),c.zb(4),c.kc("ngClass",c.oc(33,ce,t.f.ciTelefono.errors&&t.summitenviado)),c.zb(1),c.kc("ngIf",t.f.ciTelefono.errors&&t.summitenviado))},directives:[r.f,i.y,i.m,i.f,i.b,i.l,i.e,H.a,i.v,a.k,a.l,a.m,V.a,i.h,i.r,K.a,i.p,i.x],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.titulo[_ngcontent-%COMP%]{margin-top:1em}.tablapropiedadstatus[_ngcontent-%COMP%]{width:80%;margin:auto auto 5em}"]}),e})();const se=[{path:"",children:[{path:"usuarios",component:J},{path:"usuarios/detalle_usuario/agregar",component:le},{path:"usuarios/detalle_usuario/actualizar/:idusuario",component:le}]}];let be=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(se)],r.i]}),e})();var ue=o("HaJA"),de=o("pKmL");let me=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},providers:[n.a],imports:[[a.c,be,ue.a,i.g,i.u,de.a]]}),e})()},cCUj:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var i=o("fXoL");let n=(()=>{class e{constructor(e){this.el=e}onKeyDown(e){"Backspace"!=e.code&&Number.isNaN(Number(e.key))&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.l))},e.\u0275dir=i.Ib({type:e,selectors:[["","appSolonumeros",""]],hostBindings:function(e,t){1&e&&i.ac("keydown",function(e){return t.onKeyDown(e)})}}),e})()},dkea:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var i=o("fXoL");let n=(()=>{class e{constructor(e){this.elemento=e,this.tamanio=0,this.pixeles=240;let t=document.defaultView;this.tamanio=t.innerHeight,this.elemento.nativeElement.style.height=this.tamanio-this.pixeles+"px",console.log("inicia con",this.pixeles)}onResize(e){this.tamanio=e.target.innerHeight,this.elemento.nativeElement.style.height=this.tamanio-this.pixeles+"px",console.log(this.elemento.nativeElement.style.height)}ngOnChanges(e){let t=document.defaultView;this.tamanio=t.innerHeight,this.elemento.nativeElement.style.height=this.tamanio-this.pixeles+"px"}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.l))},e.\u0275dir=i.Ib({type:e,selectors:[["","appTamanioVentana",""]],hostBindings:function(e,t){1&e&&i.ac("resize",function(e){return t.onResize(e)},!1,i.xc)},inputs:{pixeles:"pixeles"},features:[i.xb]}),e})()}}]);
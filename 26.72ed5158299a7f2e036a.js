(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{fWsG:function(e,o,a){"use strict";a.r(o),a.d(o,"eventosModule",function(){return Z});var t=a("ofXK"),n=a("tk/3"),i=a("3Pt+"),r=a("tyNb"),c=a("DpdX"),s=a("fXoL"),l=a("Iobd"),d=a("xIjt");let b=(()=>{class e{constructor(e){this.http=e,this.url="",this.url=d.a.incidencias}save(e){const o={headers:new n.d({"Content-Type":"application/json"})},a=JSON.stringify(e);return this.http.put(this.url+"/guardar",a,o)}update(e){const o={headers:new n.d({"Content-Type":"application/json"})},a=JSON.stringify(e);return this.http.post(this.url+"/modificar",a,o)}delete(e){const o={headers:new n.d({"Content-Type":"application/json"})};return this.http.post(`${this.url}/eliminar/${e}`,{},o)}getById(e){return this.http.get(`${this.url}/obtener/id/${e}`)}getByIdEmpresa(e){return this.http.get(`${this.url}/lista/empresa/${e}`)}filtro(e){const o={headers:new n.d({"Content-Type":"application/json"})},a=JSON.stringify(e);return this.http.post(this.url+"/lista/dinamica",a,o)}findByFechas(e){const o={headers:new n.d({"Content-Type":"application/json"})},a=JSON.stringify(e);return this.http.post(this.url+"/lista/empresa/fechas",a,o)}}return e.\u0275fac=function(o){return new(o||e)(s.Xb(n.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=a("7PWB"),m=a("04Ps"),p=a("IhP3"),h=a("dkea");const g=function(e,o,a,t,n,i,r){return{aniversarios:e,cumpleanios:o,faltas:a,diaseconomicos:t,vacaciones:n,horasextras:i,incapacidades:r}};function f(e,o){if(1&e){const e=s.Ub();s.Tb(0,"div",16),s.ac("click",function(a){s.zc(e);const t=o.$implicit;return s.ec(3).aparecerModalEvento(t,a)}),s.Jc(1),s.Sb()}if(2&e){const e=o.$implicit;s.kc("ngClass",s.uc(2,g,"aniversario"==e.tipoIncidenciaId,8==e.tipoIncidenciaId,5==e.tipoIncidenciaId,2==e.tipoIncidenciaId,1==e.tipoIncidenciaId,13==e.tipoIncidenciaId||14==e.nombre,3==e.tipoIncidenciaId)),s.zb(1),s.Lc(" ",e.nombre," ")}}const v=function(e,o){return{noEsDia:e,tdActual:o}},T=function(e){return{diaActual:e}};function S(e,o){if(1&e&&(s.Tb(0,"td",12),s.Tb(1,"span",13),s.Tb(2,"span",14),s.Jc(3),s.Sb(),s.Sb(),s.Hc(4,f,2,10,"div",15),s.Sb()),2&e){const e=o.$implicit;s.kc("ngClass",s.pc(4,v,!e.mesActual,e.esDiaNow)),s.zb(2),s.kc("ngClass",s.oc(7,T,e.esDiaNow)),s.zb(1),s.Kc(e.dia),s.zb(1),s.kc("ngForOf",e.eventos)}}function y(e,o){if(1&e&&(s.Tb(0,"tr"),s.Hc(1,S,5,9,"td",11),s.Sb()),2&e){const e=o.$implicit;s.zb(1),s.kc("ngForOf",e)}}function k(e,o){if(1&e){const e=s.Ub();s.Tb(0,"div",17),s.Tb(1,"button",18),s.ac("click",function(){return s.zc(e),s.ec().aparecerModalita=!1}),s.Tb(2,"span",19),s.Jc(3,"\xd7"),s.Sb(),s.Sb(),s.Tb(4,"div",20),s.Tb(5,"span",21),s.Jc(6),s.Sb(),s.Ob(7,"br"),s.Tb(8,"span",22),s.Jc(9),s.Sb(),s.Ob(10,"br"),s.Tb(11,"span",21),s.Jc(12),s.Sb(),s.Ob(13,"br"),s.Tb(14,"span",21),s.Jc(15),s.fc(16,"date"),s.Sb(),s.Ob(17,"br"),s.Tb(18,"span",21),s.Jc(19),s.fc(20,"date"),s.Sb(),s.Ob(21,"br"),s.Tb(22,"span",21),s.Jc(23),s.fc(24,"date"),s.Sb(),s.Ob(25,"br"),s.Tb(26,"span",21),s.Jc(27),s.Sb(),s.Ob(28,"br"),s.Tb(29,"span",21),s.Jc(30),s.Sb(),s.Ob(31,"br"),s.Tb(32,"span",21),s.Jc(33),s.Sb(),s.Ob(34,"br"),s.Tb(35,"div",23),s.Tb(36,"button",24),s.ac("click",function(){return s.zc(e),s.ec().aparecerModalita=!1}),s.Jc(37,"Cerrar"),s.Sb(),s.Sb(),s.Sb(),s.Sb()}if(2&e){const e=s.ec();s.Ec("top",e.top+"px")("background-color",e.eventoActual.color)("left",e.left+"px"),s.zb(6),s.Kc(e.eventoActual.incidenciaDescripcion),s.zb(3),s.Kc(e.eventoActual.nombre),s.zb(3),s.Lc("Dias: ",e.eventoActual.duracion,""),s.zb(3),s.Lc("Fecha inicio: ",s.hc(16,15,e.eventoActual.fechaInicio,"yyyy MMM dd"),""),s.zb(4),s.Lc("Fecha termino: ",s.hc(20,18,e.eventoActual.fechaTermino,"yyyy MMM dd"),""),s.zb(4),s.Lc("Fecha aplicaci\xf3n: ",s.hc(24,21,e.eventoActual.fechaAplicacion,"yyyy MMM dd"),""),s.zb(4),s.Lc("Monto: ",e.eventoActual.monto,""),s.zb(3),s.Lc("Politica aplicaci\xf3n: ",e.eventoActual.politicaNombre,""),s.zb(3),s.Lc("Comentario: ",e.eventoActual.comentarios,"")}}let C=(()=>{class e{constructor(){this.arregloEventos=[],this.arregloAreas=[],this.eventos=[],this.salida=new s.n,this.arregloArreglos=[],this.aparecerModalita=!1,this.top=0,this.left=0,this.mesauxActual=!1,this.eventoActual={color:"yellow"}}ngOnChanges(e){let o=new t.f("es-MX");for(let a=0;a<=5;a++)for(let e=0;e<=6;e++)if(this.arregloArreglos[a][e].eventos=[],void 0!==this.eventos)for(let t of this.eventos){let n=new Date(t.fechaInicio),i=o.transform(n,"MM");n.getDate()==Number(this.arregloArreglos[a][e].dia)&&i==this.arregloArreglos[a][e].mes&&this.arregloArreglos[a][e].eventos.push(Object.assign(Object.assign({},t),{nombre:`${t.nombre} ${t.apellidoPaterno}`}))}console.log(this.arregloArreglos)}ngOnInit(){this.ejecutarMes(new Date((new Date).getFullYear(),(new Date).getMonth(),1)),this.salida.emit({type:"fecha",datos:new Date((new Date).getFullYear(),(new Date).getMonth(),1)})}ejecutarMes(e){console.log("Se ejecuto 1 vez"),this.arregloArreglos=[];const o=new t.f("es-MX");this.fecha=new Date(e.getFullYear(),e.getMonth(),1);let a=o.transform(e,"EEEE"),n=o.transform(e,"dd");const i=o.transform(this.fecha,"MMM");this.mesauxActual=o.transform(new Date,"MMM")==i;let r=0;switch(a){case"lunes":r=1;break;case"martes":r=2;break;case"miercoles":r=3;break;case"jueves":r=4;break;case"viernes":r=5;break;case"s\xe1bado":r=6}let c=1-r;const s=new Date,l=o.transform(s,"dd"),d=o.transform(s,"MMM");for(let t=0;t<=5;t++){this.arregloArreglos.push([]);for(let a=1;a<=7;a++){let a=new Date(e.getFullYear(),e.getMonth(),c),r=o.transform(a,"dd");const s=o.transform(a,"MMM");let b={dia:r,mesActual:s==i,mes:o.transform(a,"MM"),diaActual:r==n,eventos:[],aparecerModal:!1,esDiaNow:l==r&&s==d};this.arregloArreglos[t].push(b),c++}}}aparecerModalEvento(e,o){switch(this.eventoActual=e,this.aparecerModalita=!0,this.top=o.pageY-200,this.left=o.pageX-200,console.log("el evento",e),e.tipoIncidenciaId){case 8:this.eventoActual.color="#67bf89";break;case 5:this.eventoActual.color="#7973ba";break;case 2:this.eventoActual.color="#5db2c9";break;case 1:this.eventoActual.color="#67bf89";break;case 13:case 14:this.eventoActual.color="#deaa57";break;case 3:this.eventoActual.color="#e17b5b";break;default:this.eventoActual.color="#a31616"}console.log("Este es el evento actual",this.eventoActual)}anteriorMes(){let e=new Date(this.fecha.getFullYear(),this.fecha.getMonth()-1,1);this.salida.emit({type:"fecha",datos:e}),this.ejecutarMes(e)}siguienteMes(){let e=new Date(this.fecha.getFullYear(),this.fecha.getMonth()+1,1);this.salida.emit({type:"fecha",datos:e}),this.ejecutarMes(e)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-calendario"]],inputs:{arregloEventos:"arregloEventos",arregloAreas:"arregloAreas",eventos:"eventos"},outputs:{salida:"salida"},features:[s.xb],decls:33,vars:12,consts:[[1,"m-1"],[1,"row","m-2"],[1,"col-8"],[1,"primary","cursor",3,"click"],[1,"fas","fa-chevron-left",2,"cursor","pointer"],[1,"primary","ml-5","mr-5"],[1,"fas","fa-chevron-right",2,"cursor","pointer"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],["class","modalita flip-in-hor-bottom ",3,"top","background-color","left",4,"ngIf"],["class","posicion fade-in ",3,"ngClass",4,"ngFor","ngForOf"],[1,"posicion","fade-in",3,"ngClass"],[1,"absolutoClass"],[3,"ngClass"],["class","evento otros",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"evento","otros",3,"ngClass","click"],[1,"modalita","flip-in-hor-bottom"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","btnclosemodal","mr-2",2,"color","white",3,"click"],["aria-hidden","true"],[1,"cuerpo"],[2,"color","white","font-size","small"],[2,"color","white","font-size","large"],[2,"width","100%","text-align","center"],[1,"btn","btn-primary","button-outlet","mr-2",2,"background-color","white","color","black",3,"click"]],template:function(e,o){if(1&e&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"span",3),s.ac("click",function(){return o.anteriorMes()}),s.Ob(4,"i",4),s.Sb(),s.Tb(5,"span",5),s.Jc(6),s.fc(7,"uppercase"),s.fc(8,"date"),s.fc(9,"date"),s.Sb(),s.Tb(10,"span",3),s.ac("click",function(){return o.siguienteMes()}),s.Ob(11,"i",6),s.Sb(),s.Sb(),s.Sb(),s.Tb(12,"div",7),s.Tb(13,"div",8),s.Tb(14,"table"),s.Tb(15,"thead"),s.Tb(16,"th"),s.Jc(17,"Dom"),s.Sb(),s.Tb(18,"th"),s.Jc(19,"Lun"),s.Sb(),s.Tb(20,"th"),s.Jc(21,"Mar"),s.Sb(),s.Tb(22,"th"),s.Jc(23,"Mie"),s.Sb(),s.Tb(24,"th"),s.Jc(25,"Jue"),s.Sb(),s.Tb(26,"th"),s.Jc(27,"Vie"),s.Sb(),s.Tb(28,"th"),s.Jc(29,"Sab"),s.Sb(),s.Sb(),s.Tb(30,"tbody"),s.Hc(31,y,2,1,"tr",9),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Hc(32,k,38,24,"div",10)),2&e){let e=null;s.zb(6),s.Mc(" ",null==(e=s.gc(7,4,s.hc(8,6,o.fecha,"MMMM")))?null:e.replace(".","")," ",s.hc(9,9,o.fecha,"yyyy")," "),s.zb(25),s.kc("ngForOf",o.arregloArreglos),s.zb(1),s.kc("ngIf",o.aparecerModalita)}},directives:[t.l,t.m,t.k],pipes:[t.r,t.f],styles:["table[_ngcontent-%COMP%]{width:100%;text-align:center;color:#8d8d8d;border:1px solid #e6e8e9}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0 solid #fff;width:100vw}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e6e8e9;height:140px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}table[_ngcontent-%COMP%]   .noEsDia[_ngcontent-%COMP%]{background:#eee!important;color:#a1a1a1}table[_ngcontent-%COMP%]   .diaActual[_ngcontent-%COMP%]{border-radius:50%;background-color:#00ded4!important;color:#fff!important;padding:10px}table[_ngcontent-%COMP%]   .tdActual[_ngcontent-%COMP%]{background-color:rgba(0,222,211,.13725490196078433)!important}table[_ngcontent-%COMP%]   .posicion[_ngcontent-%COMP%]{position:relative}table[_ngcontent-%COMP%]   .absolutoClass[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;padding:9px}table[_ngcontent-%COMP%]   .evento[_ngcontent-%COMP%]{color:#fff;border-radius:25px;font-size:10px;cursor:pointer;margin-bottom:2px}table[_ngcontent-%COMP%]   .vacaciones[_ngcontent-%COMP%]{background-color:#67bf89!important}table[_ngcontent-%COMP%]   .cumpleanios[_ngcontent-%COMP%]{background-color:#4cc1b0!important}table[_ngcontent-%COMP%]   .diaseconomicos[_ngcontent-%COMP%]{background-color:#5db2c9!important}table[_ngcontent-%COMP%]   .faltas[_ngcontent-%COMP%]{background-color:#7973ba!important}table[_ngcontent-%COMP%]   .horasextras[_ngcontent-%COMP%]{background-color:#deaa57!important}table[_ngcontent-%COMP%]   .incapacidades[_ngcontent-%COMP%]{background-color:#e17b5b!important}table[_ngcontent-%COMP%]   .aniversarios[_ngcontent-%COMP%]{background-color:#bec3cd!important}table[_ngcontent-%COMP%]   .otros[_ngcontent-%COMP%]{background-color:#a31616}table[_ngcontent-%COMP%]   .evento[_ngcontent-%COMP%]:hover{background-color:#4cb651}.modalita[_ngcontent-%COMP%]{position:fixed;width:250px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;color:#fff;border-radius:25px}.modalita[_ngcontent-%COMP%]   .cuerpo[_ngcontent-%COMP%]{margin:20px}.form-control[_ngcontent-%COMP%]{color:#818181!important}"]}),e})();var M=a("JBW2");function I(e,o){if(1&e){const e=s.Ub();s.Tb(0,"i",35),s.ac("click",function(){return s.zc(e),s.ec().colapsarmtd()}),s.Sb()}}function w(e,o){if(1&e){const e=s.Ub();s.Tb(0,"i",36),s.ac("click",function(){return s.zc(e),s.ec().colapsarmtd()}),s.Sb()}}let F=(()=>{class e{constructor(e,o,a,t,n){this.ventana=e,this.eventoPrd=o,this.areasPrd=a,this.catalogos=t,this.usuariosSistemaPrd=n,this.apareceListadoEventos=!1,this.arreglotabla={columnas:[],filas:[]},this.arregloEventos=[],this.arregloAreas=[],this.cargando=!1,this.colapsar=!1,this.arreglo=[]}ngOnInit(){this.catalogos.getTipoIncidencia(!0).subscribe(e=>{this.arregloEventos=e.datos}),this.areasPrd.getAreasByEmpresa(this.usuariosSistemaPrd.getIdEmpresa()).subscribe(e=>{this.arregloAreas=e.datos}),new Date,this.cargando=!0,this.eventoPrd.getByIdEmpresa(this.usuariosSistemaPrd.getIdEmpresa()).subscribe(e=>{var o,a;this.arreglo=e.datos;let n=[new c.a("incidenciaDescripcion","Tipo de evento"),new c.a("nombrecompleado","Empleado"),new c.a("fechaInicio","Fecha inicio",!1,!1,!0),new c.a("fechaFin","Fecha fin",!1,!1,!0),new c.a("duracion","Duraci\xf2n",!1,!1,!0)];if(this.arreglotabla={columnas:[],filas:[]},void 0!==this.arreglo)for(let r of this.arreglo){r.nombrecompleado=`${r.nombre} ${r.apellidoPaterno} ${null==r.apellidoMaterno?"":r.apellidoMaterno}`;var i=new t.f("es-MX");r.fechaInicio=new Date(r.fechaInicio).toUTCString().replace(" 00:00:00 GMT",""),r.fechaInicio=null===(o=i.transform(r.fechaInicio,"dd-MMM-y"))||void 0===o?void 0:o.replace(".",""),r.fechaFin=new Date(r.fechaFin).toUTCString().replace(" 00:00:00 GMT",""),r.fechaFin=null===(a=i.transform(r.fechaFin,"dd-MMM-y"))||void 0===a?void 0:a.replace(".","")}this.arreglotabla.columnas=n,this.arreglotabla.filas=this.arreglo,this.cargando=!1})}calcularFechasEventos(e){let o=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0),t={clienteId:this.usuariosSistemaPrd.getIdEmpresa(),fechaInicio:o.getTime(),fechaFin:a.getTime()};this.eventoPrd.filtro(t).subscribe(e=>{this.eventos=e.datos})}recibirTabla(e){switch(e.type){case"fecha":this.calcularFechasEventos(e.datos)}}cambiaValor(){}colapsarmtd(){this.colapsar=!this.colapsar}}return e.\u0275fac=function(o){return new(o||e)(s.Nb(l.a),s.Nb(b),s.Nb(u.a),s.Nb(m.a),s.Nb(p.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-calendarioevento"]],decls:60,vars:8,consts:[[1,"ml-3","mr-3","mb-3"],[1,"row","mb-2"],[1,"col","titulo-outlet"],["appTamanioVentana","",1,"row","margen-tabla","background-panel","background-ajustar",3,"pixeles"],[1,"col-12"],["id","accordion",1,"acordion_desplegable","show"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"btn","btn-link",2,"width","90%",3,"click"],["style","float: right; color:#00C1AF;margin-top: 7px;","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","class","fas fa-chevron-up ",3,"click",4,"ngIf"],["style","float: right; color:#00C1AF;margin-top: 7px;","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","class","fas fa-chevron-down ",3,"click",4,"ngIf"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse","show"],[1,"card-body"],[1,"row"],[1,"col-2"],[1,"primary"],[1,"contenedorInputCheckRadio","aniversarios"],["checked","","type","checkbox","name","","id","",3,"change"],[1,"checkmark","aniversarios"],[1,"contenedorInputCheckRadio","cumpleanios"],[1,"checkmark","cumpleanios"],[1,"contenedorInputCheckRadio","diaseconomicos"],[1,"checkmark","diaseconomicos"],[1,"contenedorInputCheckRadio","faltas"],[1,"checkmark","faltas"],[1,"contenedorInputCheckRadio","horasextras"],[1,"checkmark","horasextras"],[1,"contenedorInputCheckRadio","incapacidades"],[1,"checkmark","incapacidades"],[1,"contenedorInputCheckRadio","vacaciones"],[1,"checkmark","vacaciones"],[1,"col-10"],[3,"eventos","arregloEventos","arregloAreas","salida"],[3,"datos","cargando","salida"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up",2,"float","right","color","#00C1AF","margin-top","7px",3,"click"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down",2,"float","right","color","#00C1AF","margin-top","7px",3,"click"]],template:function(e,o){1&e&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"label"),s.Jc(4," EVENTOS "),s.Sb(),s.Sb(),s.Sb(),s.Tb(5,"div",3),s.Tb(6,"div",4),s.Tb(7,"div",5),s.Tb(8,"div",6),s.Tb(9,"div",7),s.Tb(10,"h5",8),s.Tb(11,"button",9),s.ac("click",function(){return o.colapsarmtd()}),s.Jc(12," Calendario "),s.Sb(),s.Hc(13,I,1,0,"i",10),s.Hc(14,w,1,0,"i",11),s.Sb(),s.Sb(),s.Tb(15,"div",12),s.Tb(16,"div",13),s.Tb(17,"div",14),s.Tb(18,"div",15),s.Tb(19,"label",16),s.Jc(20,"GESTIONAR EVENTOS"),s.Sb(),s.Tb(21,"div"),s.Tb(22,"label",17),s.Jc(23,"Aniversarios "),s.Tb(24,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(25,"span",19),s.Sb(),s.Sb(),s.Tb(26,"div"),s.Tb(27,"label",20),s.Jc(28,"Retardos "),s.Tb(29,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(30,"span",21),s.Sb(),s.Sb(),s.Tb(31,"div"),s.Tb(32,"label",22),s.Jc(33,"D\xedas economicos "),s.Tb(34,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(35,"span",23),s.Sb(),s.Sb(),s.Tb(36,"div"),s.Tb(37,"label",24),s.Jc(38,"Faltas "),s.Tb(39,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(40,"span",25),s.Sb(),s.Sb(),s.Tb(41,"div"),s.Tb(42,"label",26),s.Jc(43,"Horas extras "),s.Tb(44,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(45,"span",27),s.Sb(),s.Sb(),s.Tb(46,"div"),s.Tb(47,"label",28),s.Jc(48,"Incapacidades "),s.Tb(49,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(50,"span",29),s.Sb(),s.Sb(),s.Tb(51,"div"),s.Tb(52,"label",30),s.Jc(53,"Vacaciones "),s.Tb(54,"input",18),s.ac("change",function(){return o.cambiaValor()}),s.Sb(),s.Ob(55,"span",31),s.Sb(),s.Sb(),s.Sb(),s.Tb(56,"div",32),s.Tb(57,"app-calendario",33),s.ac("salida",function(e){return o.recibirTabla(e)}),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(58,"div",4),s.Tb(59,"app-tablapaginado",34),s.ac("salida",function(e){return o.recibirTabla(e)}),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.zb(5),s.kc("pixeles",145),s.zb(8),s.kc("ngIf",0==o.colapsar),s.zb(1),s.kc("ngIf",1==o.colapsar),s.zb(43),s.kc("eventos",o.eventos)("arregloEventos",o.arregloEventos)("arregloAreas",o.arregloAreas),s.zb(2),s.kc("datos",o.arreglotabla)("cargando",o.cargando))},directives:[h.a,t.m,C,M.a],styles:[".vacaciones.checkmark[_ngcontent-%COMP%]{background-color:#67bf89!important}.cumpleanios.checkmark[_ngcontent-%COMP%]{background-color:#4cc1b0!important}.diaseconomicos.checkmark[_ngcontent-%COMP%]{background-color:#5db2c9!important}.faltas.checkmark[_ngcontent-%COMP%]{background-color:#7973ba!important}.horasextras.checkmark[_ngcontent-%COMP%]{background-color:#deaa57!important}.incapacidades.checkmark[_ngcontent-%COMP%]{background-color:#e17b5b!important}.aniversarios.checkmark[_ngcontent-%COMP%]{background-color:#bec3cd!important}.contenedorInputCheckRadio[_ngcontent-%COMP%]{color:#818181!important}.sinborde[_ngcontent-%COMP%]{border:0!important}"]}),e})();var O=a("i9e2"),P=a("hTEM"),A=a("cCUj");function V(e,o){if(1&e&&(s.Tb(0,"option",34),s.Jc(1),s.Sb()),2&e){const e=o.$implicit;s.kc("value",e.tipoIncidenciaId),s.zb(1),s.Kc(e.descripcion)}}function J(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function z(e,o){if(1&e&&s.Ob(0,"option",34),2&e){const e=o.$implicit;s.kc("value",e.nombre+" "+e.apellidoPaterno+" "+(null==e.apellidoMaterno?"":e.apellidoMaterno))}}function x(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function E(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function _(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function D(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function N(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function q(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function H(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function j(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function $(e,o){if(1&e&&(s.Tb(0,"option",34),s.Jc(1),s.Sb()),2&e){const e=o.$implicit;s.kc("value",e.tipoIncapacidadId),s.zb(1),s.Kc(e.descripcion)}}function R(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}function K(e,o){1&e&&(s.Tb(0,"div",35),s.Jc(1," Campo requerido "),s.Sb())}const L=function(e){return{"is-invalid":e}},U=function(e){return{ocultarCampo:e}};let B=(()=>{class e{constructor(e,o,a,t,n,i,r){this.modalPrd=e,this.catalogosPrd=o,this.formbuilder=a,this.usuarioSistemaPrd=t,this.empleadosPrd=n,this.router=i,this.eventoPrd=r,this.submitEnviado=!1,this.arregloIncidenciaTipo=[],this.arregloEmpleados=[],this.arregloTipoIncapacidad=[]}ngOnInit(){this.myForm=this.createForms({}),this.catalogosPrd.getTipoIncidencia(!0).subscribe(e=>this.arregloIncidenciaTipo=e.datos),this.catalogosPrd.getTipoIncapacidad(!0).subscribe(e=>this.arregloTipoIncapacidad=e.datos);let e={centrocClienteId:{centrocClienteId:this.usuarioSistemaPrd.getIdEmpresa()},esActivo:"true"};this.empleadosPrd.filtrar(e).subscribe(e=>this.arregloEmpleados=e.datos)}createForms(e){var o=new t.f("es-MX");return this.formbuilder.group({incidenciaId:["",[i.w.required]],personaId:["",[i.w.required]],duracion:["",i.w.required],fechaInicio:[o.transform(new Date,"yyyy-MM-dd"),i.w.required],monto:["",[i.w.required]],fechaFin:[{value:o.transform(new Date,"yyyy-MM-dd"),disabled:!0},i.w.required],fechaAplicacion:["",i.w.required],tipoIncapacidadId:["",i.w.required],urlArchivo:[""],numeroFolio:["",i.w.required],comentarios:[""],identificadorPersona:[""],fechaContrato:[""]})}get f(){return this.myForm.controls}enviarPeticion(){this.submitEnviado=!0,console.log(this.myForm.controls),this.myForm.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas registrar el evento?").then(e=>{e&&this.guardarEvento()})}guardarEvento(){let e=this.myForm.getRawValue();this.modalPrd.showMessageDialog(this.modalPrd.loading),null==e.fechaInicio&&""==e.fechaInicio||(e.fechaInicio=new Date(new Date(e.fechaInicio).toUTCString().replace(" 00:00:00 GMT","")).getTime()),null==e.fechaFin&&""==e.fechaFin||(e.fechaFin=new Date(new Date(e.fechaFin).toUTCString().replace(" 00:00:00 GMT","")).getTime()),null==e.fechaAplicacion&&""==e.fechaAplicacion||(e.fechaAplicacion=new Date(new Date(e.fechaAplicacion).toUTCString().replace(" 00:00:00 GMT","")).getTime());let o=Object.assign(Object.assign({},e),{tipoIncapacidadId:{tipoIncapacidadId:e.tipoIncapacidadId},tipoIncidenciaId:{tipoIncidenciaId:e.incidenciaId},personaId:e.identificadorPersona,clienteId:this.usuarioSistemaPrd.getIdEmpresa(),fechaContrato:e.fechaContrato});this.eventoPrd.save(o).subscribe(e=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>{e.resultado&&this.router.navigate(["/eventos/eventosxempleado"])})})}cancelar(){this.router.navigate(["/eventos/eventosxempleado"])}abrirArchivo(){}verificar(e){let o=!0,a=Number(this.myForm.controls.incidenciaId.value);switch(new t.f("es-MX"),e){case"dias":switch(a){case 1:case 2:case 5:case 3:case 9:case 10:case 11:case 16:o=!1}break;case"fecha":switch(a){case 4:case 8:case 10:case 11:case 13:case 14:case 16:o=!1}break;case"monto":switch(a){case 4:case 8:case 13:case 14:o=!1}break;case"fechainicio":case"fechafin":switch(a){case 1:case 2:case 5:case 3:o=!1}break;case"fechaaplicacion":switch(a){case 1:case 2:case 5:case 4:case 3:case 8:case 9:case 10:case 11:case 16:case 13:case 14:o=!1}break;case"incapacidad":case"archivo":case"folio":switch(a){case 3:o=!1}break;case"monto2":switch(a){case 10:case 11:case 16:case 9:o=!1}}return o}configurandoRestricciones(){let e=Number(this.myForm.controls.incidenciaId.value);for(let o in this.myForm.controls)"incidenciaId"!=o&&"personaId"!=o&&(this.myForm.controls[o].clearValidators(),this.myForm.controls[o].updateValueAndValidity());1!=e&&2!=e&&5!=e||(this.myForm.controls.duracion.setValidators([i.w.required]),this.myForm.controls.duracion.updateValueAndValidity(),this.myForm.controls.fechaInicio.setValidators([i.w.required]),this.myForm.controls.fechaInicio.updateValueAndValidity(),this.myForm.controls.fechaFin.setValidators([i.w.required]),this.myForm.controls.fechaFin.updateValueAndValidity(),this.myForm.controls.fechaAplicacion.setValidators([i.w.required]),this.myForm.controls.fechaAplicacion.updateValueAndValidity()),4==e&&(this.myForm.controls.fechaInicio.setValidators([i.w.required]),this.myForm.controls.fechaInicio.updateValueAndValidity(),this.myForm.controls.monto.setValidators([i.w.required]),this.myForm.controls.monto.updateValueAndValidity(),this.myForm.controls.fechaAplicacion.setValidators([i.w.required]),this.myForm.controls.fechaAplicacion.updateValueAndValidity()),3==e&&(this.myForm.controls.duracion.setValidators([i.w.required]),this.myForm.controls.duracion.updateValueAndValidity(),this.myForm.controls.fechaInicio.setValidators([i.w.required]),this.myForm.controls.fechaInicio.updateValueAndValidity(),this.myForm.controls.fechaFin.setValidators([i.w.required]),this.myForm.controls.fechaFin.updateValueAndValidity(),this.myForm.controls.fechaAplicacion.setValidators([i.w.required]),this.myForm.controls.fechaAplicacion.updateValueAndValidity(),this.myForm.controls.tipoIncapacidadId.setValidators([i.w.required]),this.myForm.controls.tipoIncapacidadId.updateValueAndValidity(),this.myForm.controls.numeroFolio.setValidators([i.w.required]),this.myForm.controls.numeroFolio.updateValueAndValidity()),8!=e&&13!=e&&14!=e||(this.myForm.controls.fechaInicio.setValidators([i.w.required]),this.myForm.controls.fechaInicio.updateValueAndValidity(),this.myForm.controls.monto.setValidators([i.w.required]),this.myForm.controls.monto.updateValueAndValidity(),this.myForm.controls.fechaAplicacion.setValidators([i.w.required]),this.myForm.controls.fechaAplicacion.updateValueAndValidity()),9==e&&(this.myForm.controls.duracion.setValidators([i.w.required]),this.myForm.controls.duracion.updateValueAndValidity(),this.myForm.controls.fechaAplicacion.setValidators([i.w.required]),this.myForm.controls.fechaAplicacion.updateValueAndValidity(),this.myForm.controls.monto.setValidators([i.w.required]),this.myForm.controls.monto.updateValueAndValidity()),10!=e&&11!=e&&16!=e||(this.myForm.controls.duracion.setValidators([i.w.required]),this.myForm.controls.duracion.updateValueAndValidity(),this.myForm.controls.fechaAplicacion.setValidators([i.w.required]),this.myForm.controls.fechaAplicacion.updateValueAndValidity(),this.myForm.controls.monto.setValidators([i.w.required]),this.myForm.controls.monto.updateValueAndValidity(),this.myForm.controls.fechaInicio.setValidators([i.w.required]),this.myForm.controls.fechaInicio.updateValueAndValidity())}perderFoco(){const e=this.myForm.controls.duracion.value;if(void 0!==e||null!==e){var o=new t.f("es-MX");let a=new Date(new Date(this.myForm.controls.fechaInicio.value).toUTCString().replace("GMT","")),n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+(Number(e)<=0?0:Number(e)-1));this.myForm.controls.fechaFin.setValue(o.transform(n,"yyyy-MM-dd"))}}salirPersonaid(){this.myForm.controls.personaId.clearValidators(),this.myForm.controls.personaId.updateValueAndValidity(),this.myForm.value.identificadorPersona=void 0;const e=this.myForm.value.personaId;if(void 0!==e)if(""!==e.trim()){let o=!1;for(let a of this.arregloEmpleados)if(e.includes(a.nombre+" "+a.apellidoPaterno)){o=!0,this.myForm.controls.identificadorPersona.setValue(a.idPersona),this.myForm.controls.fechaContrato.setValue(a.fechaContrato);break}this.myForm.controls.personaId.setValidators([i.w.required]),this.myForm.controls.personaId.updateValueAndValidity(),console.log("esto se encontro",o),o?(this.myForm.controls.personaId.clearValidators(),this.myForm.controls.personaId.updateValueAndValidity()):(console.log("Se va a limpiar"),this.myForm.controls.identificadorPersona.setValue(""),this.myForm.controls.fechaContrato.setValue(""),this.myForm.controls.personaId.setValue(""))}else this.myForm.controls.personaId.setValidators([i.w.required]),this.myForm.controls.personaId.updateValueAndValidity();console.log("La persona elegida es ",this.myForm.value)}}return e.\u0275fac=function(o){return new(o||e)(s.Nb(O.a),s.Nb(m.a),s.Nb(i.c),s.Nb(p.a),s.Nb(P.a),s.Nb(r.e),s.Nb(b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-detalleeventoxempleado"]],decls:87,vars:78,consts:[[1,"row","margen"],[1,"col","titulo-outlet"],[1,"form-desing",3,"formGroup","ngSubmit"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar"],[1,"form-group","row","margen","mt-2"],[1,"titulo"],[1,"form-group","row","margen"],[1,"input-group-sm","mb-3","col-12","col-sm-12","col-lg-6"],["for","exampleFormControlSelect1"],["formControlName","incidenciaId","id","exampleFormControlSelect1",1,"form-control",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"input-group-sm","mb-4","col-12","col-sm-6","col-lg-6"],["autocomplete","off","list","empleadosreporta","formControlName","personaId","name","browser","id","browser",1,"form-control",3,"ngClass","focusout"],["id","empleadosreporta"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4",3,"ngClass"],["appSolonumeros","","formControlName","duracion","type","text",1,"form-control",3,"ngClass","blur"],["formControlName","fechaInicio","type","date",1,"form-control",3,"ngClass"],["appSolonumeros","","formControlName","monto","type","text",1,"form-control",3,"ngClass"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4",3,"ngClass","blur"],["formControlName","fechaFin","type","date",1,"form-control",3,"ngClass"],["formControlName","fechaAplicacion","type","date",1,"form-control",3,"ngClass"],["formControlName","tipoIncapacidadId",1,"form-control",3,"ngClass"],[1,"input-group","mb-3"],["formControlName","urlArchivo","type","text",1,"form-control"],[1,"input-group-append",2,"cursor","pointer",3,"click"],["id","basic-addon2",1,"input-group-text","dark",2,"font-size","small"],["src","assets/Iconos24/upload.png","alt","","srcset",""],["maxlength","8","formControlName","numeroFolio","type","text",1,"form-control",3,"ngClass"],[1,"input-group-sm","mb-3","col-12","col-sm-12","col-lg-12"],["formControlName","comentarios","type","text",1,"form-control"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","button-fill"],[3,"value"],[1,"invalid-feedback"]],template:function(e,o){1&e&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"label"),s.Jc(3,"Agregar evento"),s.Sb(),s.Sb(),s.Sb(),s.Ob(4,"hr"),s.Tb(5,"form",2),s.ac("ngSubmit",function(){return o.enviarPeticion()}),s.Tb(6,"div",3),s.Tb(7,"div",4),s.Tb(8,"label",5),s.Jc(9,"EVENTO"),s.Sb(),s.Sb(),s.Tb(10,"div",6),s.Tb(11,"div",7),s.Tb(12,"label",8),s.Jc(13,"Tipo de evento *"),s.Sb(),s.Tb(14,"select",9),s.ac("change",function(){return o.configurandoRestricciones()}),s.Hc(15,V,2,2,"option",10),s.Sb(),s.Hc(16,J,2,0,"div",11),s.Sb(),s.Tb(17,"div",12),s.Tb(18,"label"),s.Jc(19,"Empleado *"),s.Sb(),s.Tb(20,"input",13),s.ac("focusout",function(){return o.salirPersonaid()}),s.Sb(),s.Tb(21,"datalist",14),s.Hc(22,z,1,1,"option",10),s.Sb(),s.Hc(23,x,2,0,"div",11),s.Sb(),s.Tb(24,"div",15),s.Tb(25,"label"),s.Jc(26,"D\xedas *"),s.Sb(),s.Tb(27,"input",16),s.ac("blur",function(){return o.perderFoco()}),s.Sb(),s.Hc(28,E,2,0,"div",11),s.Sb(),s.Tb(29,"div",15),s.Tb(30,"label"),s.Jc(31,"Fecha *"),s.Sb(),s.Ob(32,"input",17),s.Hc(33,_,2,0,"div",11),s.Sb(),s.Tb(34,"div",15),s.Tb(35,"label"),s.Jc(36,"Monto *"),s.Sb(),s.Ob(37,"input",18),s.Hc(38,D,2,0,"div",11),s.Sb(),s.Tb(39,"div",19),s.ac("blur",function(){return o.perderFoco()}),s.Tb(40,"label"),s.Jc(41,"Fecha inicio *"),s.Sb(),s.Ob(42,"input",17),s.Hc(43,N,2,0,"div",11),s.Sb(),s.Tb(44,"div",15),s.Tb(45,"label"),s.Jc(46,"Fecha fin"),s.Sb(),s.Ob(47,"input",20),s.Hc(48,q,2,0,"div",11),s.Sb(),s.Tb(49,"div",15),s.Tb(50,"label"),s.Jc(51,"Fecha de aplicaci\xf3n *"),s.Sb(),s.Ob(52,"input",21),s.Hc(53,H,2,0,"div",11),s.Sb(),s.Tb(54,"div",15),s.Tb(55,"label"),s.Jc(56,"Monto *"),s.Sb(),s.Ob(57,"input",18),s.Hc(58,j,2,0,"div",11),s.Sb(),s.Tb(59,"div",15),s.Tb(60,"label"),s.Jc(61,"Tipo de incapacidad *"),s.Sb(),s.Tb(62,"select",22),s.Hc(63,$,2,2,"option",10),s.Sb(),s.Hc(64,R,2,0,"div",11),s.Sb(),s.Tb(65,"div",15),s.Tb(66,"label"),s.Jc(67,"Seleccionar archivo"),s.Sb(),s.Tb(68,"div",23),s.Ob(69,"input",24),s.Tb(70,"div",25),s.ac("click",function(){return o.abrirArchivo()}),s.Tb(71,"span",26),s.Ob(72,"img",27),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(73,"div",15),s.Tb(74,"label"),s.Jc(75,"N\xfamero de folio *"),s.Sb(),s.Ob(76,"input",28),s.Hc(77,K,2,0,"div",11),s.Sb(),s.Tb(78,"div",29),s.Tb(79,"label"),s.Jc(80,"Comentarios"),s.Sb(),s.Ob(81,"input",30),s.Sb(),s.Sb(),s.Sb(),s.Tb(82,"div",31),s.Tb(83,"button",32),s.ac("click",function(){return o.cancelar()}),s.Jc(84,"Cancelar"),s.Sb(),s.Tb(85,"button",33),s.Jc(86,"Guardar"),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.zb(5),s.kc("formGroup",o.myForm),s.zb(9),s.kc("ngClass",s.oc(36,L,o.f.incidenciaId.errors&&o.submitEnviado)),s.zb(1),s.kc("ngForOf",o.arregloIncidenciaTipo),s.zb(1),s.kc("ngIf",o.f.incidenciaId.errors&&o.submitEnviado),s.zb(4),s.kc("ngClass",s.oc(38,L,o.f.personaId.errors&&o.submitEnviado)),s.zb(2),s.kc("ngForOf",o.arregloEmpleados),s.zb(1),s.kc("ngIf",o.f.personaId.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(40,U,o.verificar("dias"))),s.zb(3),s.kc("ngClass",s.oc(42,L,o.f.duracion.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.duracion.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(44,U,o.verificar("fecha"))),s.zb(3),s.kc("ngClass",s.oc(46,L,o.f.fechaInicio.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.fechaInicio.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(48,U,o.verificar("monto"))),s.zb(3),s.kc("ngClass",s.oc(50,L,o.f.monto.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.monto.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(52,U,o.verificar("fechainicio"))),s.zb(3),s.kc("ngClass",s.oc(54,L,o.f.fechaInicio.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.fechaInicio.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(56,U,o.verificar("fechafin"))),s.zb(3),s.kc("ngClass",s.oc(58,L,o.f.fechaFin.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.fechaFin.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(60,U,o.verificar("fechaaplicacion"))),s.zb(3),s.kc("ngClass",s.oc(62,L,o.f.fechaAplicacion.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.fechaAplicacion.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(64,U,o.verificar("monto2"))),s.zb(3),s.kc("ngClass",s.oc(66,L,o.f.monto.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.monto.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(68,U,o.verificar("incapacidad"))),s.zb(3),s.kc("ngClass",s.oc(70,L,o.f.tipoIncapacidadId.errors&&o.submitEnviado)),s.zb(1),s.kc("ngForOf",o.arregloTipoIncapacidad),s.zb(1),s.kc("ngIf",o.f.tipoIncapacidadId.errors&&o.submitEnviado),s.zb(1),s.kc("ngClass",s.oc(72,U,o.verificar("archivo"))),s.zb(8),s.kc("ngClass",s.oc(74,U,o.verificar("folio"))),s.zb(3),s.kc("ngClass",s.oc(76,L,o.f.numeroFolio.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.numeroFolio.errors&&o.submitEnviado))},directives:[i.y,i.m,i.f,h.a,i.v,i.l,i.e,t.k,t.l,t.m,i.b,A.a,i.h,i.p,i.x],styles:[".ocultarCampo[_ngcontent-%COMP%]{display:none}"]}),e})();function G(e,o){1&e&&(s.Tb(0,"div",41),s.Ob(1,"img",42),s.Sb())}function X(e,o){if(1&e){const e=s.Ub();s.Tb(0,"div",28),s.Tb(1,"div",29),s.Tb(2,"button",30),s.ac("click",function(){return s.zc(e),s.ec().aparecemodalito=!1}),s.Tb(3,"span",31),s.Jc(4,"\xd7"),s.Sb(),s.Sb(),s.Tb(5,"div",32),s.Tb(6,"h5",10),s.Jc(7),s.Sb(),s.Sb(),s.Ob(8,"hr"),s.Tb(9,"div",33),s.Hc(10,G,2,0,"div",34),s.Tb(11,"div",35),s.Tb(12,"div",36),s.Tb(13,"label"),s.Jc(14,"D\xedas: "),s.Tb(15,"span",37),s.Jc(16),s.Sb(),s.Sb(),s.Sb(),s.Tb(17,"div",36),s.Tb(18,"label"),s.Jc(19,"Fecha de inicio: "),s.Tb(20,"span",37),s.Jc(21),s.Sb(),s.Sb(),s.Sb(),s.Tb(22,"div",36),s.Tb(23,"label"),s.Jc(24,"Fecha de termino: "),s.Tb(25,"span",37),s.Jc(26),s.fc(27,"date"),s.Sb(),s.Sb(),s.Sb(),s.Tb(28,"div",36),s.Tb(29,"label"),s.Jc(30,"Fecha de aplicaci\xf3n: "),s.Tb(31,"span",37),s.Jc(32),s.fc(33,"date"),s.Sb(),s.Sb(),s.Sb(),s.Tb(34,"div",36),s.Tb(35,"label"),s.Jc(36,"Fecha de monto: "),s.Tb(37,"span",37),s.Jc(38),s.Sb(),s.Sb(),s.Sb(),s.Tb(39,"div",36),s.Tb(40,"label"),s.Jc(41,"Pol\xedtica: "),s.Tb(42,"span",37),s.Jc(43),s.Sb(),s.Sb(),s.Sb(),s.Tb(44,"div",36),s.Tb(45,"label"),s.Jc(46,"Comentario: "),s.Tb(47,"span",37),s.Jc(48),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Ob(49,"hr"),s.Tb(50,"div",38),s.Tb(51,"div",35),s.Tb(52,"div",39),s.Tb(53,"button",40),s.ac("click",function(){return s.zc(e),s.ec().aparecemodalito=!1}),s.Jc(54,"Cerrar"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()}if(2&e){const e=s.ec();let o=null;s.Ec("top",e.scrolly)("width",e.modalWidth),s.zb(7),s.Kc(e.evento.incidenciaDescripcion),s.zb(3),s.kc("ngIf",e.cargandodetallegrupo),s.zb(6),s.Kc(e.evento.duracion),s.zb(5),s.Kc(e.evento.fechaInicio),s.zb(5),s.Kc(null==(o=s.hc(27,13,e.evento.fechaFin,"dd-MMM-yyyy"))?null:o.replace(".","")),s.zb(6),s.Kc(s.hc(33,16,e.evento.fechaAplicacion,"dd-MMM-yyyy")),s.zb(6),s.Kc(e.evento.monto),s.zb(5),s.Kc(e.evento.politicaNombre),s.zb(5),s.Kc(e.evento.comentarios)}}const Y=[{path:"",children:[{path:"eventosxempleado",component:(()=>{class e{constructor(e,o,a,t){this.router=e,this.eventosPrd=o,this.usuariosSistemaPrd=a,this.modalPrd=t,this.cargando=!1,this.aparecemodalito=!1,this.scrolly="250px",this.tamanio=0,this.modalWidth="75%",this.cargandodetallegrupo=!1,this.arreglo=[],this.arreglotabla={columnas:[],filas:[]}}onResize(e){this.tamanio=e.target.innerWidth,this.modalWidth=this.tamanio<600?"90%":"75%"}ngOnInit(){let e=document.defaultView;this.tamanio=e.innerWidth,this.cargando=!0,this.eventosPrd.getByIdEmpresa(this.usuariosSistemaPrd.getIdEmpresa()).subscribe(e=>{var o;this.arreglo=e.datos;let a=[new c.a("incidenciaDescripcion","Tipo de evento"),new c.a("nombrecompleado","Nombre del empleado"),new c.a("numeroEmpleado","N\xfamero de empleado",!1,!1,!0),new c.a("fechaInicio","Fecha de inicio",!1,!1,!0),new c.a("tiempo","Tiempo",!1,!1,!0)];if(this.arreglotabla={columnas:[],filas:[]},void 0!==this.arreglo)for(let i of this.arreglo){i.nombrecompleado=`${i.nombre} ${i.apellidoPaterno} ${null==i.apellidoMaterno?"":i.apellidoMaterno}`;var n=new t.f("es-MX");i.fechaInicio=new Date(i.fechaInicio).toUTCString().replace(" 00:00:00 GMT",""),i.fechaInicio=null===(o=n.transform(i.fechaInicio,"dd-MMM-y"))||void 0===o?void 0:o.replace(".","")}this.arreglotabla.columnas=a,this.arreglotabla.filas=this.arreglo,this.cargando=!1})}recibirTabla(e){switch(console.log(e.datos),e.type){case"eliminar":this.eliminarIncidencia(e.datos);break;case"ver":this.evento=e.datos,this.traerModal(e.indice),console.log(this.evento)}}eliminarIncidencia(e){this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas inactivar el evento?").then(o=>{o&&(this.modalPrd.showMessageDialog(this.modalPrd.loading),this.eventosPrd.delete(e.incidenciaId).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{o.resultado&&(e.esActivo=!1)})}))})}filtrar(){}agregar(){this.router.navigate(["/eventos/eventosxempleado","nuevo"])}traerModal(e){let o=document.getElementById("vetanaprincipaltabla");if(this.aparecemodalito=!0,console.log("La modal",o.getBoundingClientRect().y),o.getBoundingClientRect().y<-40){let e=o.getBoundingClientRect().y;e=Math.abs(e),this.scrolly=e+400+"px"}else this.scrolly="250px";this.modalWidth=this.tamanio<600?"90%":"75%"}}return e.\u0275fac=function(o){return new(o||e)(s.Nb(r.e),s.Nb(b),s.Nb(p.a),s.Nb(O.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-listaeventosxempledo"]],hostBindings:function(e,o){1&e&&s.ac("resize",function(e){return o.onResize(e)},!1,s.yc)},decls:46,vars:5,consts:[[1,"row","ml-2","mr-2","titulosfijos",2,"background-color","transparent"],[1,"col","titulo-outlet"],[1,"col-10",2,"z-index","4"],["class","ventanaemergente",3,"top","width",4,"ngIf"],[1,"scrooll-design"],[1,"margen"],["id","myTabContent",1,"tab-content"],["id","altas","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"mt-2"],[1,"form-group","margen","row"],[1,"titulo"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-3"],["type","text","placeholder","Nombre",1,"form-control"],["type","text","placeholder","Primer apellido",1,"form-control"],["type","text","placeholder","Segundo apellido",1,"form-control"],[1,"form-control"],["value",""],["selected","","value",""],[1,"input-group-sm","mb-3","text-right","col-12","col-lg-2","col-xl-12"],["type","button",1,"btn","btn-primary","button-outlet",3,"click"],[1,"row","margen"],[1,"col","titulo"],[1,"col","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],["id","vetanaprincipaltabla",1,"row","margen-tabla","background-panel"],[3,"datos","cargando","eliminar","ver","salida"],[1,"ventanaemergente"],[1,"adentro"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","btnclosemodal",3,"click"],["aria-hidden","true"],[1,"header"],[1,"body"],["class","col text-center mb-5",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"letramenos"],[1,"footer"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-primary","button-fill","ml-1",3,"click"],[1,"col","text-center","mb-5"],["width","60px","height","60px","src","assets/imgs/loading_nomina.gif","alt",""]],template:function(e,o){1&e&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"label"),s.Jc(3," EVENTOS "),s.Sb(),s.Sb(),s.Sb(),s.Tb(4,"div",2),s.Hc(5,X,55,19,"div",3),s.Sb(),s.Tb(6,"div",4),s.Tb(7,"div",5),s.Tb(8,"div",6),s.Tb(9,"div",7),s.Tb(10,"div",8),s.Tb(11,"div",9),s.Tb(12,"label",10),s.Jc(13,"B\xdaSQUEDA"),s.Sb(),s.Sb(),s.Tb(14,"div",11),s.Tb(15,"div",12),s.Ob(16,"input",13),s.Sb(),s.Tb(17,"div",12),s.Ob(18,"input",14),s.Sb(),s.Tb(19,"div",12),s.Ob(20,"input",15),s.Sb(),s.Tb(21,"div",12),s.Tb(22,"select",16),s.Tb(23,"option",17),s.Jc(24,"Estatus"),s.Sb(),s.Tb(25,"option"),s.Jc(26,"Activo"),s.Sb(),s.Tb(27,"option"),s.Jc(28,"Inactivo"),s.Sb(),s.Sb(),s.Sb(),s.Tb(29,"div",12),s.Tb(30,"select",16),s.Tb(31,"option",18),s.Jc(32,"Evento"),s.Sb(),s.Sb(),s.Sb(),s.Tb(33,"div",19),s.Tb(34,"button",20),s.ac("click",function(){return o.filtrar()}),s.Jc(35,"Filtrar"),s.Sb(),s.Sb(),s.Sb(),s.Tb(36,"div",21),s.Tb(37,"div",22),s.Tb(38,"label"),s.Jc(39,"RESULTADOS"),s.Sb(),s.Sb(),s.Tb(40,"div",23),s.Tb(41,"button",24),s.ac("click",function(){return o.agregar()}),s.Ob(42,"i",25),s.Jc(43," Agregar evento "),s.Sb(),s.Sb(),s.Sb(),s.Tb(44,"div",26),s.Tb(45,"app-tablapaginado",27),s.ac("salida",function(e){return o.recibirTabla(e)}),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.zb(5),s.kc("ngIf",o.aparecemodalito),s.zb(40),s.kc("datos",o.arreglotabla)("cargando",o.cargando)("eliminar",!0)("ver",!0))},directives:[t.m,i.p,i.x,M.a],pipes:[t.f],styles:[".ventanaemergente[_ngcontent-%COMP%]{z-index:1;display:block;overflow:auto;padding:4%;width:50%;border-radius:5px;border:1px solid #666;height:auto;background-color:#fff!important;box-shadow:5px 2px 5px 1px rgba(0,0,0,.42);left:5%;position:absolute}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]{top:0!important;position:absolute!important;right:11px!important}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#56dfd4;font-size:x-large}.letramenos[_ngcontent-%COMP%]{color:#6b6b6b!important}.btneliminar[_ngcontent-%COMP%]{float:left;display:inline-flex;color:#022!important;background-color:#e6e6e6!important;border-color:#fff!important}.btndespues[_ngcontent-%COMP%]{float:right}.rechazarbtn[_ngcontent-%COMP%]{background-color:#fff!important;color:#022538!important;border-color:#022538!important}"]}),e})()},{path:"eventosxempleado/nuevo",component:B},{path:"calendario",component:F}]}];let W=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(o){return new(o||e)},imports:[[r.i.forChild(Y)],r.i]}),e})();var Q=a("HaJA");let Z=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(o){return new(o||e)},imports:[[t.c,i.g,i.u,n.c,W,Q.a]]}),e})()}}]);
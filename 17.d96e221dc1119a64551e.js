(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{uHeS:function(e,o,t){"use strict";t.r(o),t.d(o,"empresasConceptosModule",function(){return E});var i=t("ofXK"),a=t("tyNb"),r=t("3Pt+"),n=t("fXoL"),c=t("tk/3"),s=t("xIjt");let l=(()=>{class e{constructor(e){this.http=e,this.url="",this.url=s.a.conceptos}getListaConceptoPercepcion(e){return this.http.get(`${this.url}/obtener/percepcion/${e}`)}getListaConceptoDeduccion(e){return this.http.get(`${this.url}/obtener/deduccion/${e}`)}savePer(e){const o={headers:new c.d({"Content-Type":"application/json"})};let t=JSON.stringify(e);return console.log("guardar percepcion",t),this.http.put(this.url+"/guardarPercepcion",t,o)}saveDed(e){const o={headers:new c.d({"Content-Type":"application/json"})};let t=JSON.stringify(e);return console.log("guardar percepcion",t),this.http.put(this.url+"/guardarDeduccion",t,o)}modificarPer(e){const o={headers:new c.d({"Content-Type":"application/json"})};let t=JSON.stringify(e);return console.log(t),this.http.post(this.url+"/modificarPercepcion",t,o)}modificarDed(e){const o={headers:new c.d({"Content-Type":"application/json"})};let t=JSON.stringify(e);return console.log(t),this.http.post(this.url+"/modificarDeduccion",t,o)}eliminarPer(e){const o={headers:new c.d({"Content-Type":"application/json"})};let t=JSON.stringify(e);return this.http.post(this.url+"/eliminarPercepcion",t,o)}eliminarDed(e){const o={headers:new c.d({"Content-Type":"application/json"})};let t=JSON.stringify(e);return this.http.post(this.url+"/eliminarDeduccion",t,o)}}return e.\u0275fac=function(o){return new(o||e)(n.Xb(c.b))},e.\u0275prov=n.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=t("04Ps"),p=t("i9e2"),b=t("dkea"),u=t("gYgu");const g=["nombre"];function h(e,o){1&e&&(n.Tb(0,"div",29),n.Jc(1," Campo requerido "),n.Sb())}function m(e,o){1&e&&(n.Tb(0,"div",29),n.Jc(1," Campo requerido "),n.Sb())}function f(e,o){if(1&e&&(n.Tb(0,"option",30),n.Jc(1),n.Sb()),2&e){const e=o.$implicit;n.kc("value",e.tipoPercepcionId),n.zb(1),n.Kc(e.descripcion)}}function v(e,o){1&e&&(n.Tb(0,"div",29),n.Jc(1," Campo requerido "),n.Sb())}const P=function(e){return{"is-invalid":e}};let I=(()=>{class e{constructor(e,o,t,i,a,r){this.formBuild=e,this.routerPrd=o,this.routerActive=t,this.conceptosPrd=i,this.catalogosPrd=a,this.modalPrd=r,this.mostrartooltip=!1,this.id_empresa=0,this.esInsert=!1,this.submitInvalido=!1,this.arregloTipoPercepcion=[],this.peticion=[]}ngOnInit(){this.catalogosPrd.getTipoPercepcion(!0).subscribe(e=>this.arregloTipoPercepcion=e.datos),this.routerActive.params.subscribe(e=>{this.id_empresa=e.id,"nuevo"==e.tipoinsert?this.esInsert=!0:"editar"==e.tipoinsert&&(this.esInsert=!1)});let e=null==history.state.data?{}:history.state.data;"Periodica"==e.tipoPeriodicidad&&(e.tipoPeriodicidad="P"),"Estandar"==e.tipoPeriodicidad&&(e.tipoPeriodicidad="E"),"S"==e.gravaIsr&&(e.gravaIsr=!0),"N"==e.gravaIsr&&(e.gravaIsr=!1),this.esInsert&&(e={tipoPercepcionId:{}}),this.myForm=this.createForm(e)}ngAfterViewInit(){this.nombre.nativeElement.focus()}createForm(e){return this.formBuild.group({nombre:[e.nombre,[r.w.required]],tipoPercepcionId:[e.tipoPercepcionId.tipoPercepcionId,[r.w.required]],tipoPeriodicidad:[e.tipoPeriodicidad,[r.w.required]],gravaIsr:e.gravaIsr,gravaIsn:e.gravaIsn,cuentaContable:e.cuentaContable,tipoConcepto:[e.tipoConcepto],esActivo:[this.esInsert?{value:"true",disabled:!0}:e.esActivo],conceptoPercepcionId:[e.conceptoPercepcionId]})}enviarPeticion(){this.submitInvalido=!0,this.myForm.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.esInsert?"\xbfDeseas registrar la percepci\xf3n ?":"\xbfDeseas actualizar la percepci\xf3n?").then(e=>{if(e){let e=this.myForm.value;"Ordinario"==e.tipoConcepto&&(e.tipoConcepto="O"),"Extraordinario"==e.tipoConcepto&&(e.tipoConcepto="E"),this.peticion={nombre:e.nombre,tipoPercepcionId:{tipoPercepcionId:e.tipoPercepcionId},tipoPeriodicidad:e.tipoPeriodicidad,cuentaContable:e.cuentaContable,tipoConcepto:e.tipoConcepto,gravaIsn:e.gravaIsn,esActivo:e.esActivo,gravaIsr:1==e.gravaIsr?"S":"N",centrocClienteId:{centrocClienteId:this.id_empresa}},this.esInsert?(this.modalPrd.showMessageDialog(this.modalPrd.loading),this.conceptosPrd.savePer(this.peticion).subscribe(e=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>{e.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"conceptos"])})})):(this.peticion.conceptoPercepcionId=e.conceptoPercepcionId,this.modalPrd.showMessageDialog(this.modalPrd.loading),this.conceptosPrd.modificarPer(this.peticion).subscribe(e=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>{e.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"conceptos"])})}))}})}cancelar(){this.routerPrd.navigate(["/empresa/detalle",this.id_empresa,"conceptos"])}get f(){return this.myForm.controls}}return e.\u0275fac=function(o){return new(o||e)(n.Nb(r.c),n.Nb(a.e),n.Nb(a.a),n.Nb(l),n.Nb(d.a),n.Nb(p.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-detalleconceptospercepciones"]],viewQuery:function(e,o){if(1&e&&n.Qc(g,!0),2&e){let e;n.vc(e=n.bc())&&(o.nombre=e.first)}},decls:69,vars:15,consts:[[1,"form-desing",3,"formGroup","ngSubmit"],["type","hidden","formControlName","conceptoPercepcionId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar",3,"pixeles"],[1,"form-group","row","margen"],[1,"titulo"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6"],["formControlName","nombre","maxlength","100","type","text","name","","placeholder","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","tipoPeriodicidad","name","",1,"form-control",3,"ngClass"],["value","P"],["value","E"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6",2,"position","relative"],["formControlName","tipoPercepcionId",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cuentaContable","maxlength","100","appMayusculas","","type","text","id","cuentaContable","aria-describedby","cuentaContable","placeholder","",1,"form-control"],["name","","id","","formControlName","esActivo",1,"form-control"],["value","true"],["value","false"],[1,"input-group-sm","mb-3","col-6","col-sm-6","col-lg-6"],[1,"contenedorInputCheckRadio"],["formControlName","gravaIsr","type","checkbox","name","","id","gravaIsr"],[1,"checkmark"],["formControlName","gravaIsn","type","checkbox","name","","id","gravaIsn"],["value","Ordinario","formControlName","tipoConcepto","type","radio","name","tipoConcepto","id",""],[1,"radiomark"],["value","Extraordinario","formControlName","tipoConcepto","type","radio","name","tipoConcepto","id",""],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"],[3,"value"]],template:function(e,o){1&e&&(n.Ob(0,"br"),n.Ob(1,"br"),n.Tb(2,"form",0),n.ac("ngSubmit",function(){return o.enviarPeticion()}),n.Ob(3,"input",1),n.Tb(4,"div",2),n.Ob(5,"br"),n.Tb(6,"div",3),n.Tb(7,"label",4),n.Jc(8,"INFORMACI\xd3N DE LA PERCEPCI\xd3N"),n.Sb(),n.Sb(),n.Tb(9,"div",3),n.Tb(10,"div",5),n.Tb(11,"label"),n.Jc(12,"Nombre de la percepci\xf3n *"),n.Sb(),n.Ob(13,"input",6),n.Hc(14,h,2,0,"div",7),n.Sb(),n.Tb(15,"div",5),n.Tb(16,"label"),n.Jc(17,"Tipo de percepci\xf3n *"),n.Sb(),n.Tb(18,"select",8),n.Tb(19,"option",9),n.Jc(20,"Peri\xf3dica"),n.Sb(),n.Tb(21,"option",10),n.Jc(22,"Est\xe1ndar"),n.Sb(),n.Sb(),n.Hc(23,m,2,0,"div",7),n.Sb(),n.Tb(24,"div",11),n.Tb(25,"label"),n.Jc(26,"Cat\xe1logo SAT *"),n.Sb(),n.Tb(27,"select",12),n.Hc(28,f,2,2,"option",13),n.Sb(),n.Hc(29,v,2,0,"div",7),n.Sb(),n.Tb(30,"div",5),n.Tb(31,"label"),n.Jc(32,"Cuenta contable"),n.Sb(),n.Ob(33,"input",14),n.Sb(),n.Tb(34,"div",5),n.Tb(35,"label"),n.Jc(36,"Estatus"),n.Sb(),n.Tb(37,"select",15),n.Tb(38,"option",16),n.Jc(39,"Activo"),n.Sb(),n.Tb(40,"option",17),n.Jc(41,"Inactivo"),n.Sb(),n.Sb(),n.Sb(),n.Ob(42,"div",5),n.Tb(43,"div",18),n.Tb(44,"label",19),n.Jc(45,"Grava ISR "),n.Ob(46,"input",20),n.Ob(47,"span",21),n.Sb(),n.Tb(48,"label",19),n.Jc(49,"Grava ISN "),n.Ob(50,"input",22),n.Ob(51,"span",21),n.Sb(),n.Sb(),n.Tb(52,"div",5),n.Tb(53,"label"),n.Jc(54,"Tipo concepto:"),n.Sb(),n.Ob(55,"br"),n.Tb(56,"label",19),n.Jc(57," Ordinario "),n.Ob(58,"input",23),n.Ob(59,"span",24),n.Sb(),n.Tb(60,"label",19),n.Jc(61," Extraordinario "),n.Ob(62,"input",25),n.Ob(63,"span",24),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(64,"div",26),n.Tb(65,"button",27),n.ac("click",function(){return o.cancelar()}),n.Jc(66,"Cancelar"),n.Sb(),n.Tb(67,"button",28),n.Jc(68,"Guardar"),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.zb(2),n.kc("formGroup",o.myForm),n.zb(2),n.kc("pixeles",340),n.zb(9),n.kc("ngClass",n.oc(9,P,o.f.nombre.errors&&o.submitInvalido)),n.zb(1),n.kc("ngIf",o.submitInvalido&&o.f.nombre.errors),n.zb(4),n.kc("ngClass",n.oc(11,P,o.f.tipoPeriodicidad.errors&&o.submitInvalido)),n.zb(5),n.kc("ngIf",o.submitInvalido&&o.f.tipoPeriodicidad.errors),n.zb(4),n.kc("ngClass",n.oc(13,P,o.f.tipoPercepcionId.errors&&o.submitInvalido)),n.zb(1),n.kc("ngForOf",o.arregloTipoPercepcion),n.zb(1),n.kc("ngIf",o.submitInvalido&&o.f.tipoPercepcionId.errors))},directives:[r.y,r.m,r.f,r.b,r.l,r.e,b.a,r.h,i.k,i.m,r.v,r.p,r.x,i.l,u.a,r.a,r.s],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.mostrarTooltip[_ngcontent-%COMP%]{background-color:rgba(2,37,56,.64);width:100%;height:50px;top:-51px;color:#fff;font-size:smaller;border-radius:7px;padding:5px;white-space:nowrap;display:block;position:absolute}.mostrarTooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4cc1b0;text-decoration:underline}.ocultar[_ngcontent-%COMP%]{display:none}"]}),e})();const D=["nombre"];function C(e,o){1&e&&(n.Tb(0,"div",18),n.Jc(1," Campo requerido "),n.Sb())}function T(e,o){if(1&e&&(n.Tb(0,"option",19),n.Jc(1),n.Sb()),2&e){const e=o.$implicit;n.kc("value",e.tipoDeduccionId),n.zb(1),n.Kc(e.descripcion)}}function S(e,o){1&e&&(n.Tb(0,"div",18),n.Jc(1," Campo requerido "),n.Sb())}const w=function(e){return{"is-invalid":e}};let O=(()=>{class e{constructor(e,o,t,i,a,r){this.formBuild=e,this.routerPrd=o,this.routerActive=t,this.conceptosPrd=i,this.catalogosPrd=a,this.modalPrd=r,this.mostrartooltip=!1,this.id_empresa=0,this.esInsert=!1,this.submitInvalido=!1,this.arregloTipoDeduccion=[],this.peticion=[]}ngOnInit(){this.catalogosPrd.getTipoDeduccion(!0).subscribe(e=>this.arregloTipoDeduccion=e.datos),console.log("deducciones",this.arregloTipoDeduccion),this.routerActive.params.subscribe(e=>{this.id_empresa=e.id,"nuevo"==e.tipoinsert?this.esInsert=!0:"editar"==e.tipoinsert&&(this.esInsert=!1)});let e=null==history.state.data?{}:history.state.data;this.esInsert&&(e={tipoDeduccionId:{}}),this.myForm=this.createForm(e)}ngAfterViewInit(){this.nombre.nativeElement.focus()}createForm(e){return this.formBuild.group({nombre:[e.nombre,[r.w.required]],tipoDeduccionId:[e.tipoDeduccionId.tipoDeduccionId,[r.w.required]],cuentaContable:[e.cuentaContable],esActivo:[this.esInsert?{value:"true",disabled:!0}:e.esActivo],conceptoDeduccionId:[e.conceptoDeduccionId]})}enviarPeticion(){this.submitInvalido=!0,this.myForm.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.esInsert?"\xbfDeseas registrar la deducci\xf3n ?":"\xbfDeseas actualizar la deducci\xf3n?").then(e=>{if(e){let e=this.myForm.value;this.peticion={nombre:e.nombre,tipoDeduccionId:{tipoDeduccionId:e.tipoDeduccionId},cuentaContable:e.cuentaContable,esActivo:e.esActivo,centrocClienteId:{centrocClienteId:this.id_empresa}},this.esInsert?(this.modalPrd.showMessageDialog(this.modalPrd.loading),this.conceptosPrd.saveDed(this.peticion).subscribe(e=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>{e.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"conceptos"])})})):(this.peticion.conceptoDeduccionId=e.conceptoDeduccionId,this.modalPrd.showMessageDialog(this.modalPrd.loading),this.conceptosPrd.modificarDed(this.peticion).subscribe(e=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(e.resultado,e.mensaje).then(()=>{e.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"conceptos"])})}))}})}cancelar(){this.routerPrd.navigate(["/empresa/detalle",this.id_empresa,"conceptos"])}get f(){return this.myForm.controls}}return e.\u0275fac=function(o){return new(o||e)(n.Nb(r.c),n.Nb(a.e),n.Nb(a.a),n.Nb(l),n.Nb(d.a),n.Nb(p.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-detalleconceptosdeducciones"]],viewQuery:function(e,o){if(1&e&&n.Qc(D,!0),2&e){let e;n.vc(e=n.bc())&&(o.nombre=e.first)}},decls:38,vars:11,consts:[[1,"form-desing",3,"formGroup","ngSubmit"],["type","hidden","formControlName","conceptoDeduccionId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar",3,"pixeles"],[1,"form-group","row","margen"],[1,"titulo"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6"],["appMayusculas","","formControlName","nombre","type","text","placeholder","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6",2,"position","relative"],["formControlName","tipoDeduccionId",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["appMayusculas","","formControlName","cuentaContable","max","100","type","text","placeholder","",1,"form-control"],["name","","id","","formControlName","esActivo",1,"form-control"],["value","true"],["value","false"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"],[3,"value"]],template:function(e,o){1&e&&(n.Ob(0,"br"),n.Ob(1,"br"),n.Tb(2,"form",0),n.ac("ngSubmit",function(){return o.enviarPeticion()}),n.Ob(3,"input",1),n.Tb(4,"div",2),n.Ob(5,"br"),n.Tb(6,"div",3),n.Tb(7,"label",4),n.Jc(8,"INFORMACI\xd3N DE LA DEDUCCI\xd3N"),n.Sb(),n.Sb(),n.Tb(9,"div",3),n.Tb(10,"div",5),n.Tb(11,"label"),n.Jc(12,"Nombre de la deducci\xf3n *"),n.Sb(),n.Ob(13,"input",6),n.Hc(14,C,2,0,"div",7),n.Sb(),n.Tb(15,"div",8),n.Tb(16,"label"),n.Jc(17,"Cat\xe1logo SAT *"),n.Sb(),n.Tb(18,"select",9),n.Hc(19,T,2,2,"option",10),n.Sb(),n.Hc(20,S,2,0,"div",7),n.Sb(),n.Tb(21,"div",5),n.Tb(22,"label"),n.Jc(23,"Cuenta contable"),n.Sb(),n.Ob(24,"input",11),n.Sb(),n.Tb(25,"div",5),n.Tb(26,"label"),n.Jc(27,"Estatus"),n.Sb(),n.Tb(28,"select",12),n.Tb(29,"option",13),n.Jc(30,"Activo"),n.Sb(),n.Tb(31,"option",14),n.Jc(32,"Inactivo"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(33,"div",15),n.Tb(34,"button",16),n.ac("click",function(){return o.cancelar()}),n.Jc(35,"Cancelar"),n.Sb(),n.Tb(36,"button",17),n.Jc(37,"Guardar"),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.zb(2),n.kc("formGroup",o.myForm),n.zb(2),n.kc("pixeles",340),n.zb(9),n.kc("ngClass",n.oc(7,w,o.f.nombre.errors&&o.submitInvalido)),n.zb(1),n.kc("ngIf",o.submitInvalido&&o.f.nombre.errors),n.zb(4),n.kc("ngClass",n.oc(9,w,o.f.tipoDeduccionId.errors&&o.submitInvalido)),n.zb(1),n.kc("ngForOf",o.arregloTipoDeduccion),n.zb(1),n.kc("ngIf",o.submitInvalido&&o.f.tipoDeduccionId.errors))},directives:[r.y,r.m,r.f,r.b,r.l,r.e,b.a,u.a,i.k,i.m,r.v,i.l,r.p,r.x],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.mostrarTooltip[_ngcontent-%COMP%]{background-color:rgba(2,37,56,.64);width:100%;height:50px;top:-51px;color:#fff;font-size:smaller;border-radius:7px;padding:5px;white-space:nowrap;display:block;position:absolute}.mostrarTooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4cc1b0;text-decoration:underline}.ocultar[_ngcontent-%COMP%]{display:none}"]}),e})();var y=t("DpdX"),k=t("JBW2");function x(e,o){1&e&&n.Ob(0,"i",20)}function N(e,o){1&e&&n.Ob(0,"i",21)}function M(e,o){if(1&e){const e=n.Ub();n.Tb(0,"button",16),n.ac("click",function(){n.zc(e);const o=n.ec();return o.changeIconDown=!o.changeIconDown}),n.Tb(1,"label",17),n.Jc(2,"RESULTADOS"),n.Sb(),n.Hc(3,x,1,0,"i",18),n.Hc(4,N,1,0,"i",19),n.Sb()}if(2&e){const e=n.ec();n.zb(3),n.kc("ngIf",e.changeIconDown),n.zb(1),n.kc("ngIf",!e.changeIconDown)}}function J(e,o){1&e&&(n.Tb(0,"button",22),n.Tb(1,"label",23),n.Jc(2,"RESULTADOS"),n.Sb(),n.Sb())}const _=[{path:"",children:[{path:"conceptos",component:(()=>{class e{constructor(e,o,t,i){this.conceptosPrd=e,this.routerPrd=o,this.routerActive=t,this.modalPrd=i,this.tamanio=0,this.changeIconDown=!1,this.nombre="",this.cargando=!1,this.id_empresa=0,this.aparecemodalito=!1,this.scrolly="5%",this.modalWidth="55%",this.cargandodetallegrupo=!1,this.indexSeleccionado=0,this.arreglotablaPer=[],this.arreglotablaDed=[],this.arreglodetalle=[],this.arreglotablaPert={columnas:[],filas:[]},this.arreglotablaDesgloseP={columnas:[],filas:[]},this.arreglotablaDedt={columnas:[],filas:[]},this.arreglotablaDesgloseD={columnas:[],filas:[]},this.cargandoPer=!1,this.cargandoDed=!1}onResize(e){this.tamanio=e.target.innerWidth,this.modalWidth=this.tamanio<600?"90%":"55%"}ngOnInit(){let e=document.defaultView;this.tamanio=e.innerWidth,this.routerActive.params.subscribe(e=>{this.id_empresa=e.id,this.cargando=!0,this.cargandoPer=!0,this.conceptosPrd.getListaConceptoPercepcion(this.id_empresa).subscribe(e=>{this.crearTablaPercepcion(e)}),this.cargandoDed=!0,this.conceptosPrd.getListaConceptoDeduccion(this.id_empresa).subscribe(e=>{this.crearTablaDeduccion(e)})})}crearTablaDeduccion(e){this.arreglotablaDed=e.datos;let o=[new y.a("nombre","Nombre de la deducci\xf3n"),new y.a("tipoDeduccionIdDescripcion","Descripci\xf3n SAT"),new y.a("esActivo","Estatus")];if(this.arreglotablaDedt={columnas:[],filas:[]},void 0!==this.arreglotablaDed)for(let t of this.arreglotablaDed)t.tipoDeduccionIdDescripcion=t.tipoDeduccionId.descripcion;this.arreglotablaDedt.columnas=o,this.arreglotablaDedt.filas=this.arreglotablaDed,this.cargandoDed=!1,this.cargando=!1}crearTablaPercepcion(e){void 0!==e.datos&&e.datos.forEach(e=>{var o;e.descripcion=null===(o=e.tipoPercepcionId)||void 0===o?void 0:o.descripcion,"O"==e.tipoConcepto&&(e.tipoConcepto="Ordinario"),"E"==e.tipoConcepto&&(e.tipoConcepto="Extraordinario"),"P"==e.tipoPeriodicidad&&(e.tipoPeriodicidad="Periodica"),"E"==e.tipoPeriodicidad&&(e.tipoPeriodicidad="Estandar"),"A"==e.tipoPeriodicidad&&(e.tipoPeriodicidad="Ambos")}),this.arreglotablaPer=e.datos;let o=[new y.a("nombre","Nombre de la percepci\xf3n"),new y.a("tipoConcepto","Tipo de concepto"),new y.a("descripciolnsat","Descripci\xf3n SAT"),new y.a("esActivo","Estatus")];if(this.arreglotablaPert={columnas:[],filas:[]},void 0!==this.arreglotablaPer)for(let t of this.arreglotablaPer)t.descripciolnsat=t.tipoPercepcionId.descripcion;this.arreglotablaPert.columnas=o,this.arreglotablaPert.filas=this.arreglotablaPer,this.cargandoPer=!1}filtrar(){}eliminarPer(e){this.objEnviar={conceptoPercepcionId:e.conceptoPercepcionId,tipoPercepcionId:{tipoPercepcionId:e.tipoPercepcionId.tipoPercepcionId},centrocClienteId:e.centrocClienteId},this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas eliminar la percepci\xf3n?").then(e=>{e&&this.conceptosPrd.eliminarPer(this.objEnviar).subscribe(e=>{this.cargando=!1,this.modalPrd.showMessageDialog(e.resultado,e.mensaje),e.resultado&&this.conceptosPrd.getListaConceptoPercepcion(this.id_empresa).subscribe(e=>{this.crearTablaPercepcion(e)})})})}eliminarDed(e){this.objEnviar={conceptoDeduccionId:e.conceptoDeduccionId,tipoDeduccionId:{tipoDeduccionId:e.tipoDeduccionId.tipoDeduccionId},centrocClienteId:e.centrocClienteId},this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas eliminar la deducci\xf3n?").then(e=>{e&&this.conceptosPrd.eliminarDed(this.objEnviar).subscribe(e=>{this.cargando=!1,this.modalPrd.showMessageDialog(e.resultado,e.mensaje),e.resultado&&this.conceptosPrd.getListaConceptoDeduccion(this.id_empresa).subscribe(e=>{this.crearTablaDeduccion(e)})})})}verdetallePer(e){null==e?this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"conceptosPercepciones","nuevo"]):this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"conceptosPercepciones","editar"],{state:{data:e}})}verdetalleDed(e){null==e?this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"conceptosDeducciones","nuevo"]):this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"conceptosDeducciones","editar"],{state:{data:e}})}apagandoPer(e){for(let o=0;o<this.arreglotablaPer.length;o++)o!=e&&(this.arreglotablaPer[o].seleccionado=!1);this.arreglotablaPer[e].seleccionado=!this.arreglotablaPer[e].seleccionado}apagandoDed(e){for(let o=0;o<this.arreglotablaDed.length;o++)o!=e&&(this.arreglotablaDed[o].seleccionado=!1);this.arreglotablaDed[e].seleccionado=!this.arreglotablaDed[e].seleccionado}recibirTablaPercepcion(e){switch(e.type){case"editar":this.verdetallePer(e.datos);break;case"eliminar":this.eliminarPer(e.datos);break;case"desglosar":let o=e.datos,t=[new y.a("gravaIsrdescripcion","Grava ISR"),new y.a("gravaIsndescripcion","Grava ISN"),new y.a("cuentaContable","Cuenta contable"),new y.a("tipoPeriodicidad","Tipo de percepci\xf3n")];o.gravaIsrdescripcion="S"==o.gravaIsr?"Si":"No",o.gravaIsndescripcion=o.gravaIsn?"Si":"No",this.arreglotablaDesgloseP.columnas=t,this.arreglotablaDesgloseP.filas=o,o.cargandoDetalle=!1}}recibirTablaDeduccion(e){switch(e.type){case"editar":this.verdetalleDed(e.datos);break;case"eliminar":this.eliminarDed(e.datos);break;case"desglosar":let o=e.datos,t=[new y.a("cuentaContable","Cuenta contable")];this.arreglotablaDesgloseD.columnas=t,this.arreglotablaDesgloseD.filas=o,o.cargandoDetalle=!1}}}return e.\u0275fac=function(o){return new(o||e)(n.Nb(l),n.Nb(a.e),n.Nb(a.a),n.Nb(p.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-listasconceptospercepciones"]],hostBindings:function(e,o){1&e&&n.ac("resize",function(e){return o.onResize(e)},!1,n.yc)},decls:29,vars:12,consts:[[1,"scrooll-designempresa"],[1,"row"],[1,"col-12","col-lg-12"],["id","accordionFiltro"],["id","accordion"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["style","width: 100%;","class","btn btn-link aparece-movil","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",3,"click",4,"ngIf"],["class","btn btn-link aparece-desktop-inline-block",4,"ngIf"],[1,"row",2,"margin","10px"],[1,"col-12","col-lg-12","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],["id","vetanaprincipaltabla",1,"row","margen","margen-tabla","background-panel","scrooll",2,"position","relative"],[3,"desglosar","arreglotablaDesglose","datos","editar","cargando","salida"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","aparece-movil",2,"width","100%",3,"click"],[1,"titulo",2,"width","80%","float","left","text-align","left"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-up ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-down ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up",2,"width","10%","float","right","color","#00C1AF"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down",2,"width","10%","float","right","color","#00C1AF"],[1,"btn","btn-link","aparece-desktop-inline-block"],[1,"titulo"]],template:function(e,o){1&e&&(n.Ob(0,"br"),n.Ob(1,"br"),n.Tb(2,"div",0),n.Tb(3,"div",1),n.Tb(4,"div",2),n.Tb(5,"div",3),n.Tb(6,"div",4),n.Tb(7,"div",5),n.Tb(8,"div",6),n.Tb(9,"h5",7),n.Hc(10,M,5,2,"button",8),n.Hc(11,J,3,0,"button",9),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(12,"div",10),n.Tb(13,"div",11),n.Tb(14,"button",12),n.ac("click",function(){return o.verdetallePer(void 0)}),n.Ob(15,"i",13),n.Jc(16," Agregar percepci\xf3n "),n.Sb(),n.Sb(),n.Sb(),n.Tb(17,"div",14),n.Tb(18,"app-tablapaginado",15),n.ac("salida",function(e){return o.recibirTablaPercepcion(e)}),n.Sb(),n.Sb(),n.Sb(),n.Ob(19,"br"),n.Ob(20,"br"),n.Tb(21,"div",0),n.Tb(22,"div",10),n.Tb(23,"div",11),n.Tb(24,"button",12),n.ac("click",function(){return o.verdetalleDed(void 0)}),n.Ob(25,"i",13),n.Jc(26," Agregar deducci\xf3n "),n.Sb(),n.Sb(),n.Sb(),n.Tb(27,"div",14),n.Tb(28,"app-tablapaginado",15),n.ac("salida",function(e){return o.recibirTablaDeduccion(e)}),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.zb(10),n.kc("ngIf",o.tamanio<600),n.zb(1),n.kc("ngIf",o.tamanio>=600),n.zb(7),n.kc("desglosar",!0)("arreglotablaDesglose",o.arreglotablaDesgloseP)("datos",o.arreglotablaPert)("editar",!0)("cargando",o.cargandoPer),n.zb(10),n.kc("desglosar",!0)("arreglotablaDesglose",o.arreglotablaDesgloseD)("datos",o.arreglotablaDedt)("editar",!0)("cargando",o.cargandoDed))},directives:[i.m,k.a],styles:[".margen[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px}.button-outlet[_ngcontent-%COMP%]{background-color:initial!important}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}"]}),e})()},{path:"conceptosPercepciones/:tipoinsert",component:I},{path:"conceptosDeducciones/:tipoinsert",component:O}]}];let A=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(o){return new(o||e)},imports:[[a.i.forChild(_)]]}),e})();var z=t("HaJA");let E=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(o){return new(o||e)},providers:[l],imports:[[i.c,A,z.a,r.g,r.u,c.c]]}),e})()}}]);
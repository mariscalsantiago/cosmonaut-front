(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{QJJc:function(o,a,e){"use strict";e.r(a),e.d(a,"empleadosPagosModule",function(){return ro});var t=e("ofXK"),n=e("tk/3"),i=e("3Pt+"),c=e("tyNb"),r=e("DpdX"),s=e("fXoL"),l=e("i9e2"),d=e("04Ps"),b=e("Iobd"),u=e("9GDa"),m=e("IhP3"),g=e("wK29"),p=e("juEs"),h=e("JBW2"),f=e("iW8M"),P=e("cCUj");function v(o,a){1&o&&s.Ob(0,"i",41)}function S(o,a){1&o&&s.Ob(0,"i",42)}function T(o,a){if(1&o&&(s.Tb(0,"td"),s.Jc(1),s.Sb()),2&o){const o=s.ec();s.zb(1),s.Kc(null==o.empleado||null==o.empleado.metodoPagoId?null:o.empleado.metodoPagoId.descripcion)}}function I(o,a){if(1&o&&(s.Tb(0,"option",45),s.Jc(1),s.Sb()),2&o){const o=a.$implicit;s.kc("value",o.metodoPagoId),s.zb(1),s.Kc(o.descripcion)}}function C(o,a){if(1&o){const o=s.Ub();s.Tb(0,"td"),s.Tb(1,"select",43),s.ac("ngModelChange",function(a){return s.zc(o),s.ec().indexMetodoSeleccionado=a})("change",function(){return s.zc(o),s.ec().cambiaValorMetodo()}),s.Hc(2,I,2,2,"option",44),s.fc(3,"async"),s.Sb(),s.Sb()}if(2&o){const o=s.ec();let a=null;s.zb(1),s.kc("ngModel",o.indexMetodoSeleccionado),s.zb(1),s.kc("ngForOf",null==(a=s.gc(3,2,o.arregloMetodosPago))?null:a.datos)}}function M(o,a){1&o&&(s.Tb(0,"td",46),s.Jc(1,"DETALLE DE LA CUENTA"),s.Sb())}function k(o,a){if(1&o&&(s.Tb(0,"div",47),s.Tb(1,"article",48),s.Jc(2," N\xfamero de cuenta "),s.Tb(3,"article"),s.Jc(4),s.Sb(),s.Sb(),s.Tb(5,"article",48),s.Jc(6," Cuenta CLABE "),s.Tb(7,"article"),s.Jc(8),s.Sb(),s.Sb(),s.Tb(9,"article",48),s.Jc(10," Banco "),s.Tb(11,"article"),s.Jc(12),s.Sb(),s.Sb(),s.Tb(13,"article",48),s.Jc(14," N\xfamero de ID cliente "),s.Tb(15,"article"),s.Jc(16),s.Sb(),s.Sb(),s.Sb()),2&o){const o=s.ec();s.zb(4),s.Kc(null==o.cuentaBanco?null:o.cuentaBanco.numeroCuenta),s.zb(4),s.Kc(null==o.cuentaBanco?null:o.cuentaBanco.clabe),s.zb(4),s.Kc(null==o.cuentaBanco||null==o.cuentaBanco.bancoId?null:o.cuentaBanco.bancoId.nombreCorto),s.zb(4),s.Kc(null==o.cuentaBanco?null:o.cuentaBanco.numInformacion)}}function D(o,a){1&o&&(s.Tb(0,"div",65),s.Jc(1," Campo requerido "),s.Sb())}function w(o,a){1&o&&(s.Tb(0,"div",65),s.Jc(1," Campo requerido "),s.Sb())}function z(o,a){1&o&&(s.Tb(0,"div",65),s.Jc(1," La CLABE no es v\xe1lida "),s.Sb())}function y(o,a){if(1&o&&(s.Tb(0,"option",45),s.Jc(1),s.Sb()),2&o){const o=a.$implicit;s.kc("value",o.bancoId),s.zb(1),s.Kc(o.nombreCorto)}}function E(o,a){1&o&&(s.Tb(0,"div",65),s.Jc(1," Campo requerido "),s.Sb())}const J=function(o){return{"is-invalid":o}};function O(o,a){if(1&o){const o=s.Ub();s.Tb(0,"form",26),s.ac("ngSubmit",function(){return s.zc(o),s.ec().enviandoMetodoPago()}),s.Tb(1,"div",49),s.Tb(2,"label",50),s.Jc(3,"DETALLE DE LA CUENTA"),s.Sb(),s.Sb(),s.Tb(4,"div",1),s.Tb(5,"div",51),s.Tb(6,"div",52),s.Tb(7,"div",53),s.Tb(8,"label"),s.Jc(9,"N\xfamero de cuenta *"),s.Sb(),s.Ob(10,"input",54),s.Ob(11,"input",55),s.Hc(12,D,2,0,"div",56),s.Sb(),s.Tb(13,"div",53),s.Tb(14,"label"),s.Jc(15,"Cuenta CLABE *"),s.Sb(),s.Tb(16,"input",57,58),s.ac("focusout",function(){s.zc(o);const a=s.wc(17);return s.ec().validarBanco(a.value)}),s.Sb(),s.Hc(18,w,2,0,"div",56),s.Hc(19,z,2,0,"div",56),s.Sb(),s.Tb(20,"div",53),s.Tb(21,"label",59),s.Jc(22,"Banco *"),s.Sb(),s.Tb(23,"select",60),s.Hc(24,y,2,2,"option",44),s.fc(25,"async"),s.Sb(),s.Hc(26,E,2,0,"div",56),s.Sb(),s.Tb(27,"div",53),s.Tb(28,"label"),s.Jc(29,"N\xfamero de ID cliente"),s.Sb(),s.Ob(30,"input",61),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(31,"div",1),s.Tb(32,"div",12),s.Tb(33,"div",62),s.Tb(34,"button",63),s.ac("click",function(){return s.zc(o),s.ec().cancelar()}),s.Jc(35,"Cancelar"),s.Sb(),s.Tb(36,"button",64),s.Jc(37,"Guardar"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()}if(2&o){const o=s.ec();let a=null;s.kc("formGroup",o.myFormMetodoPago),s.zb(11),s.kc("ngClass",s.oc(11,J,o.f.numeroCuenta.errors&&o.submitEnviado)),s.zb(1),s.kc("ngIf",o.f.numeroCuenta.errors&&o.submitEnviado),s.zb(4),s.kc("ngClass",s.oc(13,J,o.submitEnviado&&(null==o.f.clabe.errors?null:o.f.clabe.errors.required)||(null==o.f.clabe.errors?null:o.f.clabe.errors.pattern)&&o.f.clabe.touched)),s.zb(2),s.kc("ngIf",o.submitEnviado&&(null==o.f.clabe.errors?null:o.f.clabe.errors.required)),s.zb(1),s.kc("ngIf",(null==o.f.clabe.errors?null:o.f.clabe.errors.pattern)&&o.f.clabe.touched),s.zb(4),s.kc("ngClass",s.oc(15,J,o.f.csBanco.errors&&o.submitEnviado)),s.zb(1),s.kc("ngForOf",null==(a=s.gc(25,9,o.arreglobancos))?null:a.datos),s.zb(2),s.kc("ngIf",o.submitEnviado&&o.f.csBanco.errors)}}function B(o,a){1&o&&s.Ob(0,"div",66)}function N(o,a){if(1&o){const o=s.Ub();s.Tb(0,"button",67),s.ac("click",function(){return s.zc(o),s.ec().editandoMetodoPago(void 0)}),s.Jc(1,"Editar"),s.Sb()}}function x(o,a){if(1&o){const o=s.Ub();s.Tb(0,"button",68),s.ac("click",function(){return s.zc(o),s.ec().cancelar()}),s.Jc(1,"Cancelar"),s.Sb()}}function H(o,a){if(1&o){const o=s.Ub();s.Tb(0,"button",67),s.ac("click",function(){return s.zc(o),s.ec().guardandometodoPago()}),s.Jc(1,"Guardar"),s.Sb()}}function F(o,a){1&o&&s.Ob(0,"i",41)}function A(o,a){1&o&&s.Ob(0,"i",42)}function j(o,a){if(1&o&&(s.Tb(0,"td"),s.Jc(1),s.Sb()),2&o){const o=s.ec();s.zb(1),s.Kc(null==o.empleado||null==o.empleado.grupoNominaId?null:o.empleado.grupoNominaId.nombre)}}function L(o,a){if(1&o&&(s.Tb(0,"option",45),s.Jc(1),s.Sb()),2&o){const o=a.$implicit;s.kc("value",o.id),s.zb(1),s.Lc(" ",o.nombre,"")}}function K(o,a){if(1&o&&(s.Tb(0,"td"),s.Tb(1,"select",69),s.Hc(2,L,2,2,"option",44),s.fc(3,"async"),s.Sb(),s.Sb()),2&o){const o=s.ec();let a=null;s.zb(2),s.kc("ngForOf",null==(a=s.gc(3,1,o.arreglogrupoNomina))?null:a.datos)}}function U(o,a){if(1&o&&(s.Tb(0,"td"),s.Jc(1),s.Sb()),2&o){const o=s.ec();s.zb(1),s.Kc(null==o.empleado.tipoCompensacionId?null:o.empleado.tipoCompensacionId.descripcion)}}function V(o,a){if(1&o&&(s.Tb(0,"option",45),s.Jc(1),s.Sb()),2&o){const o=a.$implicit;s.kc("value",o.tipoCompensacionId),s.zb(1),s.Kc(o.descripcion)}}function q(o,a){if(1&o&&(s.Tb(0,"td"),s.Tb(1,"select",70),s.Hc(2,V,2,2,"option",44),s.fc(3,"async"),s.Sb(),s.Sb()),2&o){const o=s.ec();let a=null;s.zb(2),s.kc("ngForOf",null==(a=s.gc(3,1,o.arregloCompensacion))?null:a.datos)}}function G(o,a){if(1&o&&(s.Tb(0,"td"),s.Jc(1),s.fc(2,"currency"),s.Sb()),2&o){const o=s.ec();s.zb(1),s.Kc(s.hc(2,1,o.empleado.sueldoBrutoMensual,"$"))}}function _(o,a){1&o&&(s.Tb(0,"td"),s.Ob(1,"input",71),s.Sb())}function $(o,a){if(1&o&&(s.Tb(0,"td"),s.Jc(1),s.fc(2,"currency"),s.Sb()),2&o){const o=s.ec();s.zb(1),s.Kc(s.hc(2,1,o.empleado.sbc,"$"))}}function X(o,a){1&o&&(s.Tb(0,"td"),s.Ob(1,"input",72),s.Sb())}function R(o,a){if(1&o){const o=s.Ub();s.Tb(0,"button",67),s.ac("click",function(){return s.zc(o),s.ec().verDetalleCompensacion()}),s.Jc(1,"Editar"),s.Sb()}}function W(o,a){if(1&o){const o=s.Ub();s.Tb(0,"button",68),s.ac("click",function(){return s.zc(o),s.ec().cancelar()}),s.Jc(1,"Cancelar"),s.Sb()}}function Q(o,a){if(1&o){const o=s.Ub();s.Tb(0,"button",67),s.ac("click",function(){return s.zc(o),s.ec().guardarDetalleCompensacion()}),s.Jc(1,"Guardar"),s.Sb()}}function Y(o,a){1&o&&s.Ob(0,"i",41)}function Z(o,a){1&o&&s.Ob(0,"i",42)}function oo(o,a){1&o&&s.Ob(0,"i",41)}function ao(o,a){1&o&&s.Ob(0,"i",42)}const eo=function(o){return{cardselected:o}},to=function(o){return{fondoblanco:o}},no=[{path:"",children:[{path:"pagos",component:(()=>{class o{constructor(o,a,e,t,n,i,c,r,s,l){this.modalPrd=o,this.catalogosPrd=a,this.ventana=e,this.gruponominaPrd=t,this.usuariosSistemaPrd=n,this.formbuilder=i,this.router=c,this.routerPrd=r,this.contratoColaboradorPrd=s,this.bancosPrd=l,this.arreglopintar=[!1,!1,!1,!1,!1],this.metodopagobool=!1,this.detallecompensacionbool=!1,this.esTransferencia=!1,this.submitEnviado=!1,this.indexMetodoSeleccionado=0,this.idEmpleado=-1,this.cuentaBanco=[],this.empleado={},this.cargando=!1,this.detalleCuenta=!1,this.cargandoPer=!1,this.cargandoDed=!1,this.arreglotablaDed=[],this.arreglotablaPer=[],this.arreglotablaPert={columnas:[],filas:[]},this.arreglotablaDedt={columnas:[],filas:[]}}ngOnInit(){this.myFormMetodoPago=this.formbuilder.group({}),this.myFormCompensacion=this.formbuilder.group({}),this.arregloMetodosPago=this.catalogosPrd.getAllMetodosPago(!0).toPromise(),this.arreglogrupoNomina=this.gruponominaPrd.getAll(this.usuariosSistemaPrd.getIdEmpresa()).toPromise(),this.arregloCompensacion=this.catalogosPrd.getCompensacion(!0).toPromise(),this.arreglobancos=this.catalogosPrd.getCuentasBanco(!0).toPromise(),this.router.params.subscribe(o=>{this.idEmpleado=o.id,this.contratoColaboradorPrd.getContratoColaboradorById(this.idEmpleado).subscribe(o=>{this.empleado=o.datos,this.detalleCuenta=4==this.empleado.metodoPagoId.metodoPagoId}),this.bancosPrd.getByEmpleado(this.idEmpleado).subscribe(o=>{this.cuentaBanco=o.datos,console.log("cuentas",this.cuentaBanco)}),this.cargandoPer=!0,this.bancosPrd.getListaPercepcionesEmpleado(this.idEmpleado,this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>{this.crearTablaPercepcion(o)}),this.cargandoDed=!0,this.bancosPrd.getListaDeduccionesEmpleado(this.idEmpleado,this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>{this.crearTablaDeduccion(o)})})}crearTablaPercepcion(o){var a,e,n;this.arreglotablaPer=o.datos;let i=[new r.a("nombre","Nombre de percepci\xf3n"),new r.a("fechaInicioPer","Fecha inicio de percepci\xf3n"),new r.a("tipoMonto","Tipo de monto"),new r.a("valor","Valor(porcentaje/monto)"),new r.a("esActivo","Estatus")];if(this.arreglotablaPert={columnas:[],filas:[]},void 0!==this.arreglotablaPer)for(let c of this.arreglotablaPer){c.fechaInicio=new Date(c.fechaInicio).toUTCString().replace(" 00:00:00 GMT","");let o=new t.f("es-MX");c.fechaInicioPer=null===(a=o.transform(c.fechaInicio,"dd-MMM-y"))||void 0===a?void 0:a.replace(".",""),c.nombre=null===(e=c.conceptoPercepcionId)||void 0===e?void 0:e.nombre,c.tipoMonto="1"==(null===(n=c.baseCalculoId)||void 0===n?void 0:n.baseCalculoId)?"Porcentual":"Fijo",c.esActivo&&(c.esActivo=!0),c.esActivo||(c.esActivo=!1)}this.arreglotablaPert.columnas=i,this.arreglotablaPert.filas=this.arreglotablaPer,this.cargandoPer=!1}crearTablaDeduccion(o){var a,e;this.arreglotablaDed=o.datos;let n=[new r.a("nombre","Nombre de deducci\xf3n"),new r.a("fechaInicioDesctoDed","Fecha inicio de descuento"),new r.a("valor","Valor(porcentaje/monto)"),new r.a("esActivo","Estatus")];if(this.arreglotablaDedt={columnas:[],filas:[]},void 0!==this.arreglotablaDed)for(let i of this.arreglotablaDed){i.fechaInicioDescto=new Date(i.fechaInicioDescto).toUTCString().replace(" 00:00:00 GMT","");let o=new t.f("es-MX");i.fechaInicioDesctoDed=null===(a=o.transform(i.fechaInicioDescto,"dd-MMM-y"))||void 0===a?void 0:a.replace(".",""),i.nombre=null===(e=i.conceptoDeduccionId)||void 0===e?void 0:e.nombre,i.esActivo&&(i.esActivo=!0),i.esActivo||(i.esActivo=!1)}this.arreglotablaDedt.columnas=n,this.arreglotablaDedt.filas=this.arreglotablaDed,this.cargandoDed=!1}cambiarStatus(o){for(let a=0;a<this.arreglopintar.length;a++)a!=o&&(this.arreglopintar[a]=!1);this.arreglopintar[o]=!this.arreglopintar[o]}createMyFormMetodoPago(o){var a;return this.formbuilder.group({numeroCuenta:[o.numeroCuenta,[i.w.required]],clabe:[o.clabe,[i.w.required]],csBanco:[null===(a=o.bancoId)||void 0===a?void 0:a.bancoId,[i.w.required]],numInformacion:o.numInformacion,cuentaBancoId:o.cuentaBancoId})}editandoMetodoPago(o){var a;this.detalleCuenta=!1,this.myFormMetodoPago=this.createMyFormMetodoPago({}),this.metodopagobool=!0,null==o&&(this.indexMetodoSeleccionado=null===(a=this.empleado.metodoPagoId)||void 0===a?void 0:a.metodoPagoId),this.esTransferencia=4==this.indexMetodoSeleccionado,this.esTransferencia&&this.bancosPrd.getByEmpleado(this.idEmpleado).subscribe(o=>{o.resultado&&(this.myFormMetodoPago=this.createMyFormMetodoPago(o.datos))})}verdetallecom(o){this.routerPrd.navigate(["company","detalle_company","nuevo"],{state:{datos:void 0}})}agregarPer(){let o={idEmpleado:this.idEmpleado,idEmpresa:this.usuariosSistemaPrd.getIdEmpresa()};this.ventana.showVentana(this.ventana.percepciones,{datos:o}).then(o=>{o.datos&&this.agregarNuevaPercepcion(o.datos)})}agregarDed(){let o={idEmpleado:this.idEmpleado,idEmpresa:this.usuariosSistemaPrd.getIdEmpresa()};this.ventana.showVentana(this.ventana.deducciones,{datos:o}).then(o=>{o.datos&&this.agregarNuevaDeduccion(o.datos)})}agregarNuevaPercepcion(o){this.modalPrd.showMessageDialog(this.modalPrd.loading),this.bancosPrd.savePercepcionEmpleado(o).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.bancosPrd.getListaPercepcionesEmpleado(this.idEmpleado,this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>{this.crearTablaPercepcion(o)})})}modificarPercepcion(o){this.modalPrd.showMessageDialog(this.modalPrd.loading),this.bancosPrd.modificarPercepcionEmpleado(o).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.bancosPrd.getListaPercepcionesEmpleado(this.idEmpleado,this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>{this.crearTablaPercepcion(o)})})}agregarNuevaDeduccion(o){this.modalPrd.showMessageDialog(this.modalPrd.loading),this.bancosPrd.saveDeduccionEmpleado(o).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.bancosPrd.getListaDeduccionesEmpleado(this.idEmpleado,this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>{this.crearTablaDeduccion(o)})})}modificarDeduccion(o){this.modalPrd.showMessageDialog(this.modalPrd.loading),this.bancosPrd.modificarDeduccionEmpleado(o).subscribe(o=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(o.resultado,o.mensaje),this.bancosPrd.getListaDeduccionesEmpleado(this.idEmpleado,this.usuariosSistemaPrd.getIdEmpresa()).subscribe(o=>{this.crearTablaDeduccion(o)})})}recibirTablaPer(o){"editar"==o.type&&this.ventana.showVentana(this.ventana.percepciones,{datos:o.datos}).then(o=>{o.datos&&this.modificarPercepcion(o.datos)})}recibirTablaDed(o){"editar"==o.type&&this.ventana.showVentana(this.ventana.deducciones,{datos:o.datos}).then(o=>{o.datos&&this.modificarDeduccion(o.datos)})}guardandometodoPago(){this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas actualizar los datos del m\xe9todo de pago?").then(o=>{if(o){let o=Object.assign(Object.assign({},this.empleado),{metodoPagoId:{metodoPagoId:this.indexMetodoSeleccionado}});this.contratoColaboradorPrd.update(o).subscribe(o=>{this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{o.resultado&&(this.empleado=o.datos,this.metodopagobool=!1,this.detallecompensacionbool=!1)})})}})}validarBanco(o){var a;this.myFormMetodoPago.controls.csBanco.setValue(""),this.myFormMetodoPago.controls.clabe.setValue(""),void 0===(null===(a=this.myFormMetodoPago.controls.clabe.errors)||void 0===a?void 0:a.pattern)&&(""==o||null==o||null==o?(this.myFormMetodoPago.controls.csBanco.setValue(""),this.myFormMetodoPago.controls.clabe.setValue("")):this.bancosPrd.getListaCuentaBancaria(o).subscribe(a=>{a.resultado?(this.myFormMetodoPago.controls.csBanco.setValue(a.datos.bancoId),this.myFormMetodoPago.controls.clabe.setValue(o)):this.modalPrd.showMessageDialog(a.resultado,a.mensaje)}))}enviandoMetodoPago(){this.submitEnviado=!0,this.myFormMetodoPago.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas guardar los datos?").then(o=>{if(o){let o=this.myFormMetodoPago.value,a={numeroCuenta:o.numeroCuenta,clabe:o.clabe,bancoId:{bancoId:o.csBanco},numInformacion:o.numInformacion,ncoPersona:{personaId:this.idEmpleado},nclCentrocCliente:{centrocClienteId:this.empleado.centrocClienteId.centrocClienteId},nombreCuenta:"  "};null==o.cuentaBancoId?(console.log("Se va a insertar"),this.bancosPrd.save(a).subscribe(o=>{this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{if(o.resultado){let o=Object.assign(Object.assign({},this.empleado),{metodoPagoId:{metodoPagoId:this.indexMetodoSeleccionado}});this.contratoColaboradorPrd.update(o).subscribe(o=>{this.empleado=o.datos,console.log(this.empleado),this.cancelar()})}})})):(console.log("Se va a modificar"),a.cuentaBancoId=o.cuentaBancoId,a.esActivo=!0,this.bancosPrd.modificar(a).subscribe(o=>{console.log("se modifica el cliente cuentas bancarias",o.datos),this.modalPrd.showMessageDialog(o.resultado,o.mensaje).then(()=>{if(o.resultado){let o=Object.assign(Object.assign({},this.empleado),{metodoPagoId:{metodoPagoId:this.indexMetodoSeleccionado}});console.log("Esto se va a mandar",o),this.contratoColaboradorPrd.update(o).subscribe(o=>{this.empleado=o.datos,console.log(o),this.cancelar()}),this.ngOnInit()}})}))}})}cancelar(){this.metodopagobool=!1,this.detallecompensacionbool=!1}cambiaValorMetodo(){this.editandoMetodoPago("")}get f(){return this.myFormMetodoPago.controls}createFormCompensacion(o){var a,e;return this.formbuilder.group({grupoNominaId:[null===(a=o.grupoNominaId)||void 0===a?void 0:a.grupoNominaId,[i.w.required]],tipoCompensacionId:[null===(e=o.tipoCompensacionId)||void 0===e?void 0:e.tipoCompensacionId,[i.w.required]],sueldoBrutoMensual:[o.sueldoBrutoMensual,[i.w.required]],sbc:[o.sbc,[i.w.required]]})}guardarDetalleCompensacion(){this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas actualizar los datos del usuario?").then(o=>{o&&setTimeout(()=>{this.modalPrd.showMessageDialog(this.modalPrd.success,"Operaci\xf3n exitosa").then(()=>{this.detallecompensacionbool=!1})},1e3)})}enviarCompensacio(){this.myFormCompensacion?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas actualizar los datos del empleado?").then(o=>{if(o){const o=this.myFormCompensacion.value,a=Object.assign(Object.assign({},this.empleado),{grupoNominaId:{grupoNominaId:o.grupoNominaId},tipoCompensacionId:{tipoCompensacionId:o.tipoCompensacionId},sbc:o.sbc});this.contratoColaboradorPrd.update(a).subscribe(o=>{this.modalPrd.showMessageDialog(o.resultados,o.mensaje).then(()=>{o.resultado&&(this.empleado=o.datos,this.cancelar())})})}})}verDetalleCompensacion(){this.detallecompensacionbool=!0,this.myFormCompensacion=this.createFormCompensacion(this.empleado)}}return o.\u0275fac=function(a){return new(a||o)(s.Nb(l.a),s.Nb(d.a),s.Nb(b.a),s.Nb(u.a),s.Nb(m.a),s.Nb(i.c),s.Nb(c.a),s.Nb(c.e),s.Nb(g.a),s.Nb(p.a))},o.\u0275cmp=s.Hb({type:o,selectors:[["app-pagos"]],decls:112,vars:50,consts:[[1,"container"],[1,"row"],[1,"col-12","mr-3"],["id","accordion",1,"acordion_desplegable"],[1,"card",3,"ngClass"],["id","detallepago",1,"card-header",3,"ngClass"],[1,"mb-0"],["data-toggle","collapse","data-target","#detallepagocolapsar","aria-expanded","false","aria-controls","detallepago",1,"btn","btn-link",3,"click"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","class","fas fa-chevron-down ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","class","fas fa-chevron-up ",4,"ngIf"],["id","detallepagocolapsar","aria-labelledby","detallepago","data-parent","#accordion",1,"collapse"],[1,"card-body"],[1,"col-12"],[1,"table","table-striped"],[1,"titulorow"],[4,"ngIf"],["class","titulorow text-left",4,"ngIf"],["class","row mb-4 text-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","col-2",4,"ngIf"],[1,"col-12","text-right"],["class","btn btn-primary button-fill",3,"click",4,"ngIf"],["class","btn btn-primary button-outlet mr-2",3,"click",4,"ngIf"],["id","compensacion",1,"card-header"],["data-toggle","collapse","data-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"btn","btn-link","collapsed",3,"click"],["id","collapseTwo","aria-labelledby","compensacion","data-parent","#accordion",1,"collapse"],[3,"formGroup","ngSubmit"],[1,"table","table-striped","table-borderless"],["id","percepciones",1,"card-header"],["data-toggle","collapse","data-target","#collapsefour","aria-expanded","false","aria-controls","collapseThree",1,"btn","btn-link","collapsed",3,"click"],["id","collapsefour","aria-labelledby","percepciones","data-parent","#accordion",1,"collapse"],[1,"row","margen"],[1,"col","titulo"],[1,"col","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],[1,"row","margen","margen-tabla","background-panel"],[3,"datos","editar","cargando","salida"],["id","deducciones",1,"card-header"],["data-toggle","collapse","data-target","#collapseFive","aria-expanded","false","aria-controls","collapseThree",1,"btn","btn-link","collapsed",3,"click"],["id","collapseFive","aria-labelledby","deducciones","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"titulorow","text-left"],[1,"row","mb-4","text-center"],[1,"titulo","col"],[1,"form-group","mt-3","row","margen"],[1,"titulo"],[1,"col-10"],[1,"form","group","row","margen"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-4"],["type","hidden","formControlName","cuentaBancoId"],["appSolonumeros","","maxlength","10","formControlName","numeroCuenta","type","text","placeholder","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["maxlength","18","formControlName","clabe","type","text","value","","placeholder","",1,"form-control",3,"ngClass","focusout"],["clabe",""],["for","exampleFormControlSelect1"],["formControlName","csBanco",1,"form-control","disabled","bg-light",3,"ngClass"],["appSolonumeros","","formControlName","numInformacion","type","text","placeholder","",1,"form-control"],[1,"text-right","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","button-fill"],[1,"invalid-feedback"],[1,"col-2"],[1,"btn","btn-primary","button-fill",3,"click"],[1,"btn","btn-primary","button-outlet","mr-2",3,"click"],["formControlName","grupoNominaId","name","","id","",1,"form-control"],["formControlName","tipoCompensacionId","name","","id","",1,"form-control"],["formControlName","sueldoBrutoMensual","type","text",1,"form-control"],["formControlName","sbc","type","text",1,"form-control"]],template:function(o,a){1&o&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"div",3),s.Tb(4,"div",4),s.Tb(5,"div",5),s.Tb(6,"h5",6),s.Tb(7,"button",7),s.ac("click",function(){return a.cambiarStatus(0)}),s.Jc(8," Detalle pago "),s.Hc(9,v,1,0,"i",8),s.Hc(10,S,1,0,"i",9),s.Sb(),s.Sb(),s.Sb(),s.Tb(11,"div",10),s.Tb(12,"div",11),s.Tb(13,"div",1),s.Tb(14,"div",12),s.Tb(15,"table",13),s.Tb(16,"tbody"),s.Tb(17,"tr"),s.Tb(18,"td",14),s.Jc(19,"M\xe9todo de pago"),s.Sb(),s.Hc(20,T,2,1,"td",15),s.Hc(21,C,4,4,"td",15),s.Sb(),s.Tb(22,"tr"),s.Hc(23,M,2,0,"td",16),s.Sb(),s.Hc(24,k,17,4,"div",17),s.Sb(),s.Sb(),s.Hc(25,O,38,17,"form",18),s.Sb(),s.Hc(26,B,1,0,"div",19),s.Tb(27,"div",20),s.Hc(28,N,2,0,"button",21),s.Hc(29,x,2,0,"button",22),s.Hc(30,H,2,0,"button",21),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(31,"div",4),s.Tb(32,"div",23),s.Tb(33,"h5",6),s.Tb(34,"button",24),s.ac("click",function(){return a.cambiarStatus(1)}),s.Jc(35," Detalle de compensaci\xf3n "),s.Hc(36,F,1,0,"i",8),s.Hc(37,A,1,0,"i",9),s.Sb(),s.Sb(),s.Sb(),s.Tb(38,"div",25),s.Tb(39,"div",11),s.Tb(40,"div",1),s.Tb(41,"div",12),s.Tb(42,"form",26),s.ac("ngSubmit",function(){return a.enviarCompensacio()}),s.Sb(),s.Tb(43,"table",27),s.Tb(44,"tbody"),s.Tb(45,"tr"),s.Tb(46,"td",14),s.Jc(47,"Grupo de n\xf3mina"),s.Sb(),s.Hc(48,j,2,1,"td",15),s.Hc(49,K,4,3,"td",15),s.Sb(),s.Tb(50,"tr"),s.Tb(51,"td",14),s.Jc(52,"Tipo de compensaci\xf3n"),s.Sb(),s.Hc(53,U,2,1,"td",15),s.Hc(54,q,4,3,"td",15),s.Sb(),s.Tb(55,"tr"),s.Tb(56,"td",14),s.Jc(57,"Sueldo bruto mensual"),s.Sb(),s.Hc(58,G,3,4,"td",15),s.Hc(59,_,2,0,"td",15),s.Sb(),s.Tb(60,"tr"),s.Tb(61,"td",14),s.Jc(62,"Salario Base de Cotizaci\xf3n"),s.Sb(),s.Hc(63,$,3,4,"td",15),s.Hc(64,X,2,0,"td",15),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(65,"div",20),s.Hc(66,R,2,0,"button",21),s.Hc(67,W,2,0,"button",22),s.Hc(68,Q,2,0,"button",21),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(69,"div",4),s.Tb(70,"div",28),s.Tb(71,"h5",6),s.Tb(72,"button",29),s.ac("click",function(){return a.cambiarStatus(2)}),s.Jc(73," Percepciones espec\xedficas "),s.Hc(74,Y,1,0,"i",8),s.Hc(75,Z,1,0,"i",9),s.Sb(),s.Sb(),s.Sb(),s.Tb(76,"div",30),s.Tb(77,"div",11),s.Tb(78,"div",1),s.Tb(79,"div",12),s.Tb(80,"div",31),s.Tb(81,"div",32),s.Tb(82,"label"),s.Jc(83,"RESULTADOS"),s.Sb(),s.Sb(),s.Tb(84,"div",33),s.Tb(85,"button",34),s.ac("click",function(){return a.agregarPer()}),s.Ob(86,"i",35),s.Jc(87," Agregar percepci\xf3n "),s.Sb(),s.Sb(),s.Sb(),s.Tb(88,"div",36),s.Tb(89,"app-tablapaginado",37),s.ac("salida",function(o){return a.recibirTablaPer(o)}),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(90,"div",4),s.Tb(91,"div",38),s.Tb(92,"h5",6),s.Tb(93,"button",39),s.ac("click",function(){return a.cambiarStatus(3)}),s.Jc(94," Deducciones espec\xedficas "),s.Hc(95,oo,1,0,"i",8),s.Hc(96,ao,1,0,"i",9),s.Sb(),s.Sb(),s.Sb(),s.Tb(97,"div",40),s.Tb(98,"div",11),s.Tb(99,"div",1),s.Tb(100,"div",12),s.Tb(101,"div",31),s.Tb(102,"div",32),s.Tb(103,"label"),s.Jc(104,"RESULTADOS"),s.Sb(),s.Sb(),s.Tb(105,"div",33),s.Tb(106,"button",34),s.ac("click",function(){return a.agregarDed()}),s.Ob(107,"i",35),s.Jc(108," Agregar deducci\xf3n "),s.Sb(),s.Sb(),s.Sb(),s.Tb(109,"div",36),s.Tb(110,"app-tablapaginado",37),s.ac("salida",function(o){return a.recibirTablaDed(o)}),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Ob(111,"app-alertas")),2&o&&(s.zb(4),s.kc("ngClass",s.oc(40,eo,a.arreglopintar[0])),s.zb(1),s.kc("ngClass",s.oc(42,to,a.arreglopintar[0])),s.zb(4),s.kc("ngIf",!a.arreglopintar[0]),s.zb(1),s.kc("ngIf",a.arreglopintar[0]),s.zb(10),s.kc("ngIf",!a.metodopagobool),s.zb(1),s.kc("ngIf",a.metodopagobool),s.zb(2),s.kc("ngIf",a.detalleCuenta),s.zb(1),s.kc("ngIf",a.detalleCuenta),s.zb(1),s.kc("ngIf",a.metodopagobool&&a.esTransferencia),s.zb(1),s.kc("ngIf",!a.metodopagobool),s.zb(2),s.kc("ngIf",!a.metodopagobool),s.zb(1),s.kc("ngIf",a.metodopagobool&&!a.esTransferencia),s.zb(1),s.kc("ngIf",a.metodopagobool&&!a.esTransferencia),s.zb(1),s.kc("ngClass",s.oc(44,eo,a.arreglopintar[1])),s.zb(5),s.kc("ngIf",!a.arreglopintar[1]),s.zb(1),s.kc("ngIf",a.arreglopintar[1]),s.zb(5),s.kc("formGroup",a.myFormCompensacion),s.zb(6),s.kc("ngIf",!a.detallecompensacionbool),s.zb(1),s.kc("ngIf",a.detallecompensacionbool),s.zb(4),s.kc("ngIf",!a.detallecompensacionbool),s.zb(1),s.kc("ngIf",a.detallecompensacionbool),s.zb(4),s.kc("ngIf",!a.detallecompensacionbool),s.zb(1),s.kc("ngIf",a.detallecompensacionbool),s.zb(4),s.kc("ngIf",!a.detallecompensacionbool),s.zb(1),s.kc("ngIf",a.detallecompensacionbool),s.zb(2),s.kc("ngIf",!a.detallecompensacionbool),s.zb(1),s.kc("ngIf",a.detallecompensacionbool),s.zb(1),s.kc("ngIf",a.detallecompensacionbool),s.zb(1),s.kc("ngClass",s.oc(46,eo,a.arreglopintar[2])),s.zb(5),s.kc("ngIf",!a.arreglopintar[2]),s.zb(1),s.kc("ngIf",a.arreglopintar[2]),s.zb(14),s.kc("datos",a.arreglotablaPert)("editar",!0)("cargando",a.cargandoPer),s.zb(1),s.kc("ngClass",s.oc(48,eo,a.arreglopintar[3])),s.zb(5),s.kc("ngIf",!a.arreglopintar[3]),s.zb(1),s.kc("ngIf",a.arreglopintar[3]),s.zb(14),s.kc("datos",a.arreglotablaDedt)("editar",!0)("cargando",a.cargandoDed))},directives:[t.k,t.m,i.y,i.m,i.f,h.a,f.a,i.v,i.l,i.o,t.l,i.p,i.x,i.b,i.e,P.a,i.h],pipes:[t.b,t.d],styles:[".botonestilos[_ngcontent-%COMP%]{bottom:5px;right:10px;color:#022538;background-color:#fff;border:1px solid #022538;width:100px;margin:auto}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0 solid #9ca4a5!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:small}"]}),o})()}]}];let io=(()=>{class o{}return o.\u0275mod=s.Lb({type:o}),o.\u0275inj=s.Kb({factory:function(a){return new(a||o)},imports:[[c.i.forChild(no)]]}),o})();var co=e("HaJA");let ro=(()=>{class o{}return o.\u0275mod=s.Lb({type:o}),o.\u0275inj=s.Kb({factory:function(a){return new(a||o)},imports:[[t.c,i.g,i.u,n.c,io,co.a]]}),o})()}}]);
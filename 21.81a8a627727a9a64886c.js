(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{YBOO:function(a,o,r){"use strict";r.r(o),r.d(o,"empresasJornadaLaboralModule",function(){return E});var i=r("ofXK"),e=r("3Pt+"),t=r("HaJA"),n=r("tyNb"),d=r("fXoL"),l=r("XIhe"),s=r("04Ps"),c=r("i9e2"),h=r("dkea");const b=["nombre"];function m(a,o){1&a&&(d.Tb(0,"div",29),d.Jc(1," Campo requerido "),d.Sb())}function g(a,o){if(1&a&&(d.Tb(0,"option",30),d.Jc(1),d.Sb()),2&a){const a=o.$implicit;d.kc("value",a.tipoJornadaId),d.zb(1),d.Lc("",a.descripcion," ")}}function u(a,o){1&a&&(d.Tb(0,"div",29),d.Jc(1," Campo requerido "),d.Sb())}function p(a,o){if(1&a&&(d.Tb(0,"option",30),d.Jc(1),d.Sb()),2&a){const a=o.$implicit;d.kc("value",a.sumaHorasJornadaId),d.zb(1),d.Lc("",a.descripcion," ")}}function v(a,o){1&a&&(d.Tb(0,"div",29),d.Jc(1," Campo requerido "),d.Sb())}function f(a,o){1&a&&(d.Tb(0,"div",29),d.Jc(1," Campo requerido "),d.Sb())}function J(a,o){1&a&&(d.Tb(0,"div",29),d.Jc(1," Campo requerido "),d.Sb())}const I=function(a){return{"is-invalid":a}};let C=(()=>{class a{constructor(a,o,r,i,e,t){this.formbuilder=a,this.activeprd=o,this.routerPrd=r,this.jornadaPrd=i,this.catalogosPrd=e,this.modalPrd=t,this.submitInvalido=!1,this.esInsert=!1,this.id_empresa=0,this.activadoISR=!1,this.arreglotipojornadas=[],this.peticion=[],this.arreglosumahoras=[],this.arreglodetalleJornada=[],this.horarioComida=!1,this.activeprd.params.subscribe(a=>{this.esInsert="nuevo"==a.tipoinsert,this.id_empresa=a.id})}ngOnInit(){let a=null==history.state.data?{}:history.state.data;this.esInsert?this.myForm=this.crearForm(a):this.jornadaPrd.getdetalleJornadaHorario(this.id_empresa,a.jornadaId).subscribe(a=>{this.arreglodetalleJornada=a.datos,this.myForm=this.crearForm(this.arreglodetalleJornada)}),this.catalogosPrd.getTipoJornadas(!0).subscribe(a=>this.arreglotipojornadas=a.datos),this.catalogosPrd.getSumaHras(!0).subscribe(a=>this.arreglosumahoras=a.datos)}ngAfterViewInit(){this.nombre.nativeElement.focus()}crearForm(a){var o,r;if(this.esInsert)a.lunes=!0,a.martes=!0,a.miercoles=!0,a.jueves=!0,a.viernes=!0;else{if(1==a.nclHorarioJornada[0].dia&&1==a.nclHorarioJornada[0].esActivo){let o=a.nclHorarioJornada[0].horaEntrada.split(" ")[1].split(".");a.horaEntrada=o[0];let r=a.nclHorarioJornada[0].horaSalida.split(" ")[1].split(".");if(a.horaSalida=r[0],null!=a.nclHorarioJornada[0].horaInicioComida){let o=a.nclHorarioJornada[0].horaInicioComida.split(" ")[1].split(".");a.horaInicioComida=o[0]}if(null!=a.nclHorarioJornada[0].horaFinComida){let o=a.nclHorarioJornada[0].horaFinComida.split(" ")[1].split(".");a.horaFinComida=o[0]}a.lunes=!0,a.horarioJornadaId1=a.nclHorarioJornada[0].horarioJornadaId}2==a.nclHorarioJornada[1].dia&&1==a.nclHorarioJornada[1].esActivo&&(a.martes=!0,a.horarioJornadaId2=a.nclHorarioJornada[1].horarioJornadaId),3==a.nclHorarioJornada[2].dia&&1==a.nclHorarioJornada[2].esActivo&&(a.miercoles=!0,a.horarioJornadaId3=a.nclHorarioJornada[2].horarioJornadaId),4==a.nclHorarioJornada[3].dia&&1==a.nclHorarioJornada[3].esActivo&&(a.jueves=!0,a.horarioJornadaId4=a.nclHorarioJornada[3].horarioJornadaId),5==a.nclHorarioJornada[4].dia&&1==a.nclHorarioJornada[4].esActivo&&(a.viernes=!0,a.horarioJornadaId5=a.nclHorarioJornada[4].horarioJornadaId),6==a.nclHorarioJornada[5].dia&&1==a.nclHorarioJornada[5].esActivo&&(a.sabado=!0,a.horarioJornadaId6=a.nclHorarioJornada[5].horarioJornadaId),7==a.nclHorarioJornada[6].dia&&1==a.nclHorarioJornada[6].esActivo&&(a.domingo=!0,a.horarioJornadaId7=a.nclHorarioJornada[6].horarioJornadaId)}return this.formbuilder.group({nombre:[a.nombre,[e.w.required]],tipoJornadaId:[null===(o=a.tipoJornadaId)||void 0===o?void 0:o.tipoJornadaId,[e.w.required]],sumaHorasJornadaId:[null===(r=a.sumaHorasJornadaId)||void 0===r?void 0:r.sumaHorasJornadaId,[e.w.required]],horaEntrada:[a.horaEntrada,[e.w.required]],horaSalida:[a.horaSalida,[e.w.required]],horaInicioComida:[a.horaInicioComida],horaFinComida:[a.horaFinComida],lunes:a.lunes,martes:a.martes,miercoles:a.miercoles,jueves:a.jueves,viernes:a.viernes,sabado:a.sabado,domingo:a.domingo,jornadaId:a.jornadaId})}enviarPeticion(){this.submitInvalido=!0,this.myForm.invalid?this.modalPrd.showMessageDialog(this.modalPrd.error):this.modalPrd.showMessageDialog(this.modalPrd.warning,this.esInsert?"\xbfDeseas registrar la jornada laboral?":"\xbfDeseas actualizar los datos de la jornada laboral?").then(a=>{if(a){let a=this.myForm.value;a.lunes||(a.lunes=!1),a.martes||(a.martes=!1),a.miercoles||(a.miercoles=!1),a.jueves||(a.jueves=!1),a.viernes||(a.viernes=!1),a.sabado||(a.sabado=!1),a.domingo||(a.domingo=!1),this.horarioComida=null!=a.horaInicioComida,this.peticion={tipoJornadaId:{tipoJornadaId:a.tipoJornadaId},nombre:a.nombre,mismoHorario:!1,horarioComida:this.horarioComida,sumaHorasJornadaId:{sumaHorasJornadaId:1},horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,centrocClienteId:{centrocClienteId:this.id_empresa},nclHorarioJornada:[{dia:1,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.lunes},{dia:2,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.martes},{dia:3,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.miercoles},{dia:4,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.jueves},{dia:5,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.viernes},{dia:6,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.sabado},{dia:7,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.domingo}]},this.esInsert?(this.modalPrd.showMessageDialog(this.modalPrd.loading),this.jornadaPrd.save(this.peticion).subscribe(a=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(a.resultado,a.mensaje).then(()=>{a.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"jornadalaboral"])})})):(this.peticion={jornadaId:a.jornadaId,tipoJornadaId:{tipoJornadaId:a.tipoJornadaId},nombre:a.nombre,mismoHorario:!1,horarioComida:this.horarioComida,sumaHorasJornadaId:{sumaHorasJornadaId:1},horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,centrocClienteId:{centrocClienteId:this.id_empresa},nclHorarioJornada:[{dia:1,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId1,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.lunes},{dia:2,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId2,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.martes},{dia:3,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId3,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.miercoles},{dia:4,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId4,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.jueves},{dia:5,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId5,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.viernes},{dia:6,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId6,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.sabado},{dia:7,horarioJornadaId:this.arreglodetalleJornada.horarioJornadaId7,horaEntrada:a.horaEntrada,horaInicioComida:a.horaInicioComida,horaFinComida:a.horaFinComida,horaSalida:a.horaSalida,esActivo:a.domingo}]},this.modalPrd.showMessageDialog(this.modalPrd.loading),this.jornadaPrd.modificar(this.peticion).subscribe(a=>{this.modalPrd.showMessageDialog(this.modalPrd.loadingfinish),this.modalPrd.showMessageDialog(a.resultado,a.mensaje).then(()=>{a.resultado&&this.routerPrd.navigate(["/empresa","detalle",this.id_empresa,"jornadalaboral"])})}))}})}cancelar(){this.routerPrd.navigate(["/empresa/detalle",this.id_empresa,"jornadalaboral"])}get f(){return this.myForm.controls}activar(a){this.activadoISR=a.checked}}return a.\u0275fac=function(o){return new(o||a)(d.Nb(e.c),d.Nb(n.a),d.Nb(n.e),d.Nb(l.a),d.Nb(s.a),d.Nb(c.a))},a.\u0275cmp=d.Hb({type:a,selectors:[["app-detallejornadalaboral"]],viewQuery:function(a,o){if(1&a&&d.Qc(b,!0),2&a){let a;d.vc(a=d.bc())&&(o.nombre=a.first)}},decls:88,vars:30,consts:[[1,"form-desing",3,"formGroup","ngSubmit"],["type","hidden","formControlName","jorndaId"],["appTamanioVentana","",1,"background-panel","margen","background-ajustar",3,"pixeles"],[1,"form-group","row","margen"],[1,"titulo"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-6"],["formControlName","nombre","type","text","placeholder","",1,"form-control",3,"ngClass"],["nombre",""],["class","invalid-feedback",4,"ngIf"],["formControlName","tipoJornadaId",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","sumaHorasJornadaId",1,"form-control",3,"ngClass"],[1,"input-group-sm","mb-3","col-12","col-sm-6","col-lg-12"],[1,"contenedorInputCheckRadio"],["formControlName","lunes","id","lunes","type","checkbox"],[1,"checkmark"],["formControlName","martes","type","checkbox","name","","id","martes"],["formControlName","miercoles","type","checkbox","name","","id","miercoles"],["formControlName","jueves","type","checkbox","name","","id","jueves"],["formControlName","viernes","type","checkbox","name","","id","viernes"],["formControlName","sabado","type","checkbox","name","","id","sabado"],["formControlName","domingo","type","checkbox","name","","id","domingo"],["formControlName","horaEntrada","type","time","placeholder","",1,"form-control",3,"ngClass"],["formControlName","horaSalida","type","time","placeholder","",1,"form-control",3,"ngClass"],["formControlName","horaInicioComida","type","time","placeholder","",1,"form-control",3,"ngClass"],["formControlName","horaFinComida","type","time","placeholder","",1,"form-control",3,"ngClass"],[1,"text-center","margin",2,"margin-bottom","20px"],["type","button",1,"btn","btn-primary","button-outlet","mr-3",2,"color","red",3,"click"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading"],[1,"invalid-feedback"],[3,"value"]],template:function(a,o){1&a&&(d.Ob(0,"br"),d.Ob(1,"br"),d.Ob(2,"hr"),d.Tb(3,"form",0),d.ac("ngSubmit",function(){return o.enviarPeticion()}),d.Ob(4,"input",1),d.Tb(5,"div",2),d.Ob(6,"br"),d.Tb(7,"div",3),d.Tb(8,"label",4),d.Jc(9,"INFORMACI\xd3N DE JORNADA"),d.Sb(),d.Sb(),d.Tb(10,"div",3),d.Tb(11,"div",5),d.Tb(12,"label"),d.Jc(13,"Nombre *"),d.Sb(),d.Ob(14,"input",6,7),d.Hc(16,m,2,0,"div",8),d.Sb(),d.Tb(17,"div",5),d.Tb(18,"label"),d.Jc(19,"Tipo de jornada *"),d.Sb(),d.Tb(20,"select",9),d.Hc(21,g,2,2,"option",10),d.Sb(),d.Hc(22,u,2,0,"div",8),d.Sb(),d.Tb(23,"div",5),d.Tb(24,"label"),d.Jc(25,"Suma de horas para jornada *"),d.Sb(),d.Tb(26,"select",11),d.Hc(27,p,2,2,"option",10),d.Sb(),d.Hc(28,v,2,0,"div",8),d.Sb(),d.Ob(29,"div",5),d.Tb(30,"div",12),d.Tb(31,"label"),d.Jc(32,"D\xedas de trabajo :"),d.Sb(),d.Sb(),d.Tb(33,"div",5),d.Tb(34,"label",13),d.Jc(35,"Lunes "),d.Ob(36,"input",14),d.Ob(37,"span",15),d.Sb(),d.Tb(38,"label",13),d.Jc(39,"Martes "),d.Ob(40,"input",16),d.Ob(41,"span",15),d.Sb(),d.Tb(42,"label",13),d.Jc(43,"Mi\xe9rcoles "),d.Ob(44,"input",17),d.Ob(45,"span",15),d.Sb(),d.Tb(46,"label",13),d.Jc(47,"Jueves "),d.Ob(48,"input",18),d.Ob(49,"span",15),d.Sb(),d.Sb(),d.Tb(50,"div",5),d.Tb(51,"label",13),d.Jc(52,"Viernes "),d.Ob(53,"input",19),d.Ob(54,"span",15),d.Sb(),d.Tb(55,"label",13),d.Jc(56,"S\xe1bado "),d.Ob(57,"input",20),d.Ob(58,"span",15),d.Sb(),d.Tb(59,"label",13),d.Jc(60,"Domingo "),d.Ob(61,"input",21),d.Ob(62,"span",15),d.Sb(),d.Sb(),d.Tb(63,"div",5),d.Tb(64,"label"),d.Jc(65,"Hora de entrada *"),d.Sb(),d.Ob(66,"input",22,7),d.Hc(68,f,2,0,"div",8),d.Sb(),d.Tb(69,"div",5),d.Tb(70,"label"),d.Jc(71,"Hora de salida *"),d.Sb(),d.Ob(72,"input",23,7),d.Hc(74,J,2,0,"div",8),d.Sb(),d.Tb(75,"div",5),d.Tb(76,"label"),d.Jc(77,"Hora de inicio de comida"),d.Sb(),d.Ob(78,"input",24),d.Sb(),d.Tb(79,"div",5),d.Tb(80,"label"),d.Jc(81,"Hora fin de comida"),d.Sb(),d.Ob(82,"input",25),d.Sb(),d.Sb(),d.Sb(),d.Tb(83,"div",26),d.Tb(84,"button",27),d.ac("click",function(){return o.cancelar()}),d.Jc(85,"Cancelar"),d.Sb(),d.Tb(86,"button",28),d.Jc(87,"Guardar"),d.Sb(),d.Sb(),d.Sb()),2&a&&(d.zb(3),d.kc("formGroup",o.myForm),d.zb(2),d.kc("pixeles",340),d.zb(9),d.kc("ngClass",d.oc(16,I,o.f.nombre.errors&&o.submitInvalido)),d.zb(2),d.kc("ngIf",o.submitInvalido&&o.f.nombre.errors),d.zb(4),d.kc("ngClass",d.oc(18,I,o.f.tipoJornadaId.errors&&o.submitInvalido)),d.zb(1),d.kc("ngForOf",o.arreglotipojornadas),d.zb(1),d.kc("ngIf",o.submitInvalido&&o.f.tipoJornadaId.errors),d.zb(4),d.kc("ngClass",d.oc(20,I,o.f.sumaHorasJornadaId.errors&&o.submitInvalido)),d.zb(1),d.kc("ngForOf",o.arreglosumahoras),d.zb(1),d.kc("ngIf",o.submitInvalido&&o.f.sumaHorasJornadaId.errors),d.zb(38),d.kc("ngClass",d.oc(22,I,o.f.horaEntrada.errors&&o.submitInvalido)),d.zb(2),d.kc("ngIf",o.submitInvalido&&o.f.horaEntrada.errors),d.zb(4),d.kc("ngClass",d.oc(24,I,o.f.horaSalida.errors&&o.submitInvalido)),d.zb(2),d.kc("ngIf",o.submitInvalido&&o.f.horaSalida.errors),d.zb(4),d.kc("ngClass",d.oc(26,I,o.f.horaInicioComida.errors&&o.submitInvalido)),d.zb(4),d.kc("ngClass",d.oc(28,I,o.f.horaFinComida.errors&&o.submitInvalido)))},directives:[e.y,e.m,e.f,e.b,e.l,e.e,h.a,i.k,i.m,e.v,i.l,e.a,e.p,e.x],styles:[""]}),a})();var S=r("DpdX"),H=r("JBW2");function T(a,o){1&a&&d.Ob(0,"i",22)}function O(a,o){1&a&&d.Ob(0,"i",23)}function w(a,o){if(1&a){const a=d.Ub();d.Tb(0,"button",18),d.ac("click",function(){d.zc(a);const o=d.ec();return o.changeIconDown=!o.changeIconDown}),d.Tb(1,"label",19),d.Jc(2,"JORNADA LABORAL"),d.Sb(),d.Hc(3,T,1,0,"i",20),d.Hc(4,O,1,0,"i",21),d.Sb()}if(2&a){const a=d.ec();d.zb(3),d.kc("ngIf",a.changeIconDown),d.zb(1),d.kc("ngIf",!a.changeIconDown)}}function k(a,o){1&a&&(d.Tb(0,"button",24),d.Tb(1,"label",25),d.Jc(2,"JORNADA LABORAL"),d.Sb(),d.Sb())}function P(a,o){1&a&&(d.Tb(0,"div",37),d.Ob(1,"img",38),d.Sb())}function j(a,o){if(1&a&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Jc(2),d.Sb(),d.Tb(3,"td",42),d.Jc(4),d.Sb(),d.Tb(5,"td"),d.Jc(6),d.Sb(),d.Sb()),2&a){const a=o.$implicit;d.zb(2),d.Nc("",a.nombre," ",a.apellidom," ",a.apellidop,""),d.zb(2),d.Kc(a.numeroemp),d.zb(2),d.Kc(a.puesto)}}function F(a,o){if(1&a&&(d.Tb(0,"div"),d.Tb(1,"table",39),d.Tb(2,"thead"),d.Tb(3,"tr"),d.Tb(4,"th",40),d.Jc(5,"Nombre de empleado"),d.Sb(),d.Tb(6,"th",40),d.Jc(7,"N\xfamero de empleado"),d.Sb(),d.Tb(8,"th",40),d.Jc(9,"Puesto"),d.Sb(),d.Sb(),d.Sb(),d.Tb(10,"tbody"),d.Hc(11,j,7,5,"tr",41),d.Sb(),d.Sb(),d.Sb()),2&a){const a=d.ec(2);d.zb(11),d.kc("ngForOf",a.arreglodetalle)}}function y(a,o){if(1&a){const a=d.Ub();d.Tb(0,"div",26),d.Tb(1,"div",27),d.Tb(2,"button",28),d.ac("click",function(){return d.zc(a),d.ec().aparecemodalito=!1}),d.Tb(3,"span",29),d.Jc(4,"\xd7"),d.Sb(),d.Sb(),d.Tb(5,"div",30),d.Tb(6,"h5",25),d.Jc(7,"JORNADA LABORAL"),d.Sb(),d.Sb(),d.Ob(8,"hr"),d.Tb(9,"div",31),d.Hc(10,P,2,0,"div",32),d.Hc(11,F,12,1,"div",33),d.Sb(),d.Ob(12,"hr"),d.Tb(13,"div",34),d.Tb(14,"div",1),d.Tb(15,"div",35),d.Tb(16,"button",36),d.ac("click",function(){return d.zc(a),d.ec().aparecemodalito=!1}),d.Jc(17,"Cerrar"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&a){const a=d.ec();d.Ec("top",a.scrolly)("width",a.modalWidth),d.zb(10),d.kc("ngIf",a.cargandodetallegrupo),d.zb(1),d.kc("ngIf",!a.cargandodetallegrupo)}}const A=[{path:"",children:[{path:"jornadalaboral",component:(()=>{class a{constructor(a,o,r,i){this.jornadaPrd=a,this.routerPrd=o,this.routerActive=r,this.modalPrd=i,this.tamanio=0,this.changeIconDown=!1,this.nombre="",this.cargando=!1,this.id_empresa=0,this.aparecemodalito=!1,this.scrolly="5%",this.modalWidth="55%",this.cargandodetallegrupo=!1,this.indexSeleccionado=0,this.arreglotabla={columnas:[],filas:[]},this.arreglotablaDesglose={columnas:[],filas:[]},this.arreglo=[],this.arreglodetalle=[]}onResize(a){this.tamanio=a.target.innerWidth,this.modalWidth=this.tamanio<600?"90%":"55%"}ngOnInit(){let a=document.defaultView;this.tamanio=a.innerWidth,this.routerActive.params.subscribe(a=>{this.id_empresa=a.id,this.cargando=!0,this.jornadaPrd.getAllJornada(this.id_empresa).subscribe(a=>{this.arreglo=a.datos;let o=[new S.a("nombre","Nombre de jornada"),new S.a("descripcion","Tipo de jornada"),new S.a("count","N\xfamero de empleados",!0,!0,!0)];this.arreglotabla={columnas:[],filas:[]},this.arreglotabla.columnas=o,this.arreglotabla.filas=this.arreglo,this.cargando=!1})})}filtrar(){}eliminar(a){this.objEnviar={jornadaId:a.jornadaId,centrocClienteId:{centrocClienteId:this.id_empresa}},this.modalPrd.showMessageDialog(this.modalPrd.warning,"\xbfDeseas eliminar la jornada laboral?").then(a=>{a&&this.jornadaPrd.eliminar(this.objEnviar).subscribe(a=>{this.modalPrd.showMessageDialog(a.resultado,a.mensaje),a.resultado&&this.ngOnInit()})})}verdetalle(a){null==a?this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"jornadalaboral","nuevo"]):this.routerPrd.navigate(["empresa/detalle",this.id_empresa,"jornadalaboral","editar"],{state:{data:a}})}apagando(a){for(let o=0;o<this.arreglo.length;o++)o!=a&&(this.arreglo[o].seleccionado=!1);this.arreglo[a].seleccionado=!this.arreglo[a].seleccionado}traerModal(a){let o=document.getElementById("vetanaprincipaltabla");if(this.aparecemodalito=!0,o.getBoundingClientRect().y<-40){let a=o.getBoundingClientRect().y;a=Math.abs(a),this.scrolly=a+100+"px"}else this.scrolly="5%";this.modalWidth=this.tamanio<600?"90%":"55%";let r=this.arreglo[a];this.cargandodetallegrupo=!0,this.jornadaPrd.getdetalleJornada(this.id_empresa,r.jornadaId).subscribe(a=>{this.cargandodetallegrupo=!1,this.arreglodetalle=null==a.datos?[]:a.datos})}recibirTabla(a){switch(a.type){case"editar":this.verdetalle(a.datos);break;case"eliminar":this.eliminar(a.datos);break;case"columna":this.traerModal(a.indice);break;case"desglosar":let o=a.datos;this.jornadaPrd.getdetalleJornadaHorario(this.id_empresa,o.jornadaId).subscribe(a=>{if(this.arreglodetalle=null==a.datos?[]:a.datos,1==this.arreglodetalle.nclHorarioJornada[0].dia&&1==this.arreglodetalle.nclHorarioJornada[0].esActivo){let a=this.arreglodetalle.nclHorarioJornada[0].horaEntrada.split(" ")[1].split(".");this.arreglodetalle.horaEntrada=a[0];let o=this.arreglodetalle.nclHorarioJornada[0].horaSalida.split(" ")[1].split(".");if(this.arreglodetalle.horaSalida=o[0],null!=this.arreglodetalle.nclHorarioJornada[0].horaInicioComida){let a=this.arreglodetalle.nclHorarioJornada[0].horaInicioComida.split(" ")[1].split(".");this.arreglodetalle.horaInicioComida=a[0]}if(null!=this.arreglodetalle.nclHorarioJornada[0].horaFinComida){let a=this.arreglodetalle.nclHorarioJornada[0].horaFinComida.split(" ")[1].split(".");this.arreglodetalle.horaFinComida=a[0]}this.arreglodetalle.lunes=!0}2==this.arreglodetalle.nclHorarioJornada[1].dia&&1==this.arreglodetalle.nclHorarioJornada[1].esActivo&&(this.arreglodetalle.martes=!0),3==this.arreglodetalle.nclHorarioJornada[2].dia&&1==this.arreglodetalle.nclHorarioJornada[2].esActivo&&(this.arreglodetalle.miercoles=!0),4==this.arreglodetalle.nclHorarioJornada[3].dia&&1==this.arreglodetalle.nclHorarioJornada[3].esActivo&&(this.arreglodetalle.jueves=!0),5==this.arreglodetalle.nclHorarioJornada[4].dia&&1==this.arreglodetalle.nclHorarioJornada[4].esActivo&&(this.arreglodetalle.viernes=!0),6==this.arreglodetalle.nclHorarioJornada[5].dia&&1==this.arreglodetalle.nclHorarioJornada[5].esActivo&&(this.arreglodetalle.sabado=!0),7==this.arreglodetalle.nclHorarioJornada[6].dia&&1==this.arreglodetalle.nclHorarioJornada[6].esActivo&&(this.arreglodetalle.domingo=!0);let r=[new S.a("nombre","Nombre de jornada"),new S.a("tipoJornada","Tipo de Jornada"),new S.a("sumaHorasJornada","Suma de horas para jornada"),new S.a("horaEntrada","Hora de entrada"),new S.a("horaSalida","Hora de salida"),new S.a("horaInicioComida","Hora de inicio de comida"),new S.a("horaFinComida","Hora fin de comida"),new S.a("x",""),new S.a("x",""),new S.a("x","D\xedas de trabajo :"),new S.a("x",""),new S.a("x",""),new S.a("lunes","Lunes"),new S.a("martes","Martes"),new S.a("miercoles","Miercoles"),new S.a("jueves","Jueves"),new S.a("viernes","Viernes"),new S.a("sabado","S\xe1bado"),new S.a("domingo","Domingo")];this.arreglodetalle.lunes=this.arreglodetalle.lunes?"Si":"No",this.arreglodetalle.martes=this.arreglodetalle.martes?"Si":"No",this.arreglodetalle.miercoles=this.arreglodetalle.miercoles?"Si":"No",this.arreglodetalle.jueves=this.arreglodetalle.jueves?"Si":"No",this.arreglodetalle.viernes=this.arreglodetalle.viernes?"Si":"No",this.arreglodetalle.sabado=this.arreglodetalle.sabado?"Si":"No",this.arreglodetalle.domingo=this.arreglodetalle.domingo?"Si":"No",this.arreglodetalle.tipoJornada=this.arreglodetalle.tipoJornadaId.descripcion,this.arreglodetalle.sumaHorasJornada=this.arreglodetalle.sumaHorasJornadaId.descripcion,this.arreglotablaDesglose.columnas=r,this.arreglotablaDesglose.filas=this.arreglodetalle,o.cargandoDetalle=!1})}}}return a.\u0275fac=function(o){return new(o||a)(d.Nb(l.a),d.Nb(n.e),d.Nb(n.a),d.Nb(c.a))},a.\u0275cmp=d.Hb({type:a,selectors:[["app-listajornadalaboral"]],hostBindings:function(a,o){1&a&&d.ac("resize",function(a){return o.onResize(a)},!1,d.yc)},decls:21,vars:9,consts:[[1,"scrooll-designempresa"],[1,"row"],[1,"col-12","col-lg-12"],["id","accordionFiltro"],["id","accordion"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["style","width: 100%;","class","btn btn-link aparece-movil","data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",3,"click",4,"ngIf"],["class","btn btn-link aparece-desktop-inline-block",4,"ngIf"],[1,"col-9"],["class","ventanaemergente",3,"top","width",4,"ngIf"],[1,"row",2,"margin","10px"],[1,"col-12","col-lg-12","text-right"],["type","button",1,"btn","btn-light","button-outlet",3,"click"],[1,"fa","fa-plus"],["id","vetanaprincipaltabla",1,"row","margen","margen-tabla","background-panel","scrooll",2,"position","relative"],[3,"desglosar","arreglotablaDesglose","datos","editar","eliminar","cargando","salida"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","aparece-movil",2,"width","100%",3,"click"],[1,"titulo",2,"width","80%","float","left","text-align","left"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-up ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne","style","width: 10%;float: right;color:#00C1AF","class","fas fa-chevron-down ",4,"ngIf"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-up",2,"width","10%","float","right","color","#00C1AF"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"fas","fa-chevron-down",2,"width","10%","float","right","color","#00C1AF"],[1,"btn","btn-link","aparece-desktop-inline-block"],[1,"titulo"],[1,"ventanaemergente"],[1,"adentro"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","btnclosemodal",3,"click"],["aria-hidden","true"],[1,"header"],[1,"body"],["class","col text-center mb-5",4,"ngIf"],[4,"ngIf"],[1,"footer"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-primary","button-fill","agrandarloading",3,"click"],[1,"col","text-center","mb-5"],["width","60px","height","60px","src","assets/imgs/loading_nomina.gif","alt",""],[1,"table","m-3","table-hober","table-sm",2,"width","90%"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(a,o){1&a&&(d.Ob(0,"br"),d.Ob(1,"br"),d.Tb(2,"div",0),d.Tb(3,"div",1),d.Tb(4,"div",2),d.Tb(5,"div",3),d.Tb(6,"div",4),d.Tb(7,"div",5),d.Tb(8,"div",6),d.Tb(9,"h5",7),d.Hc(10,w,5,2,"button",8),d.Hc(11,k,3,0,"button",9),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(12,"div",10),d.Hc(13,y,18,6,"div",11),d.Sb(),d.Tb(14,"div",12),d.Tb(15,"div",13),d.Tb(16,"button",14),d.ac("click",function(){return o.verdetalle(void 0)}),d.Ob(17,"i",15),d.Jc(18," Agregar jornada "),d.Sb(),d.Sb(),d.Sb(),d.Tb(19,"div",16),d.Tb(20,"app-tablapaginado",17),d.ac("salida",function(a){return o.recibirTabla(a)}),d.Sb(),d.Sb(),d.Sb()),2&a&&(d.zb(10),d.kc("ngIf",o.tamanio<600),d.zb(1),d.kc("ngIf",o.tamanio>=600),d.zb(2),d.kc("ngIf",o.aparecemodalito),d.zb(7),d.kc("desglosar",!0)("arreglotablaDesglose",o.arreglotablaDesglose)("datos",o.arreglotabla)("editar",!0)("eliminar",!0)("cargando",o.cargando))},directives:[i.m,H.a,i.l],styles:[".button-outlet[_ngcontent-%COMP%]{background-color:initial!important}table[_ngcontent-%COMP%]{border-radius:10px}.margen-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{color:#313131}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0 solid #000;margin-left:2px}.acomodando[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.botonmultiseleccion[_ngcontent-%COMP%]{margin:auto;height:59px}.agrandarloading[_ngcontent-%COMP%]{width:7em}.scrooll[_ngcontent-%COMP%]{overflow:auto}.btnPersonalizado[_ngcontent-%COMP%]{background-color:initial}.btnPersonalizado[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#00c1af!important}.contenedorDiv[_ngcontent-%COMP%]   .consulta[_ngcontent-%COMP%]{width:100%;height:auto;left:0}.ventanaemergente[_ngcontent-%COMP%]{z-index:1;display:block;overflow:auto;padding:4%;width:50%;border-radius:5px;border:1px solid #666;height:auto;background-color:#fff!important;box-shadow:5px 2px 5px 1px rgba(0,0,0,.42);left:5%;position:absolute}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]{top:0!important;position:absolute!important;right:11px!important}.ventanaemergente[_ngcontent-%COMP%]   .btnclosemodal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#56dfd4;font-size:x-large}"]}),a})()},{path:"jornadalaboral/:tipoinsert",component:C}]}];let x=(()=>{class a{}return a.\u0275mod=d.Lb({type:a}),a.\u0275inj=d.Kb({factory:function(o){return new(o||a)},imports:[[n.i.forChild(A)]]}),a})(),E=(()=>{class a{}return a.\u0275mod=d.Lb({type:a}),a.\u0275inj=d.Kb({factory:function(o){return new(o||a)},providers:[l.a],imports:[[i.c,e.g,e.u,x,t.a]]}),a})()}}]);